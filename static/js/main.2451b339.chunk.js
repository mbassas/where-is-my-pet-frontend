(this["webpackJsonpwhere-is-my-pet-frontend"]=this["webpackJsonpwhere-is-my-pet-frontend"]||[]).push([[0],{362:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=362},405:function(e,t,a){e.exports=a(492)},492:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(540),i=a(31),s=a(112),u=a(12),m=a.n(u),p=a(21),d=a(9),f=a(54),v=a(55),E=a(77),h=a(78),b=a(47),g=a(155),y=a.n(g),O={BASE_URL:"https://where-is-my-pet.herokuapp.com"},w=function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,[{key:"authHeader",value:function(){var e=N.getToken();return e?{authorization:"Bearer ".concat(e)}:{}}},{key:"makeRequest",value:function(e){var t=e.method,a=e.params,n=void 0===a?{}:a,r=e.headers,l=void 0===r?{}:r,c=e.url,o=e.queryParams,i=void 0===o?{}:o;return y.a.request({method:t,url:"".concat(O.BASE_URL).concat(c),data:n,params:i,headers:Object(b.a)({},l,{},this.authHeader())})}}]),e}(),j=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"ResetPassword",value:function(e,t){return this.makeRequest({method:"POST",url:"/users/reset-password",params:{token:e,newPassword:t}})}},{key:"SendResetPassword",value:function(e){return this.makeRequest({method:"POST",url:"/users/reset-password-email",params:{usernameOrEmail:e}})}},{key:"SignUp",value:function(e){return this.makeRequest({method:"POST",url:"/users/sign-up",params:e})}},{key:"SignIn",value:function(e,t){return this.makeRequest({method:"POST",url:"/users/sign-in",params:{username:e,password:t}})}},{key:"GetUserInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.getToken()){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",this.makeRequest({method:"GET",url:"/users"}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"GetUsersByStatus",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/by-status",e.abrupt("return",this.makeRequest({method:"GET",url:"/users/by-status",queryParams:{status:t}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateUser",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.makeRequest({method:"PATCH",url:"/users/".concat(t),params:a}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"ContactUser",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.makeRequest({method:"POST",url:"/users/".concat(t,"/contact"),params:{message:a,phone:n,email:r}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),a}(w),C=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"LocationImage",value:function(e){return"".concat(O.BASE_URL,"/animals/").concat(e,"/location.png")}},{key:"UploadAnimal",value:function(e){var t=new FormData;return Object.entries(e).forEach((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];r&&t.append(n,r)})),this.makeRequest({method:"POST",url:"/animals",params:t})}},{key:"GetAnimalDetails",value:function(e){return this.makeRequest({method:"GET",url:"/animals/".concat(e)})}},{key:"Image",value:function(e,t){return"".concat(O.BASE_URL,"/animals/").concat(e,"/").concat(t,".png")}},{key:"GetAnimals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.entries(e).forEach((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];r&&(t[n]=r)})),this.makeRequest({method:"GET",url:"/animals",queryParams:t})}},{key:"UpdateAnimal",value:function(e){return this.makeRequest({method:"PATCH",url:"/animals/".concat(e),params:{recovered:!0}})}},{key:"GetAnimalsByUserId",value:function(){return this.makeRequest({method:"GET",url:"/animals/uploaded"})}}]),a}(w),x=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"Get",value:function(){return this.makeRequest({method:"GET",url:"/Species"})}}]),a}(w),k=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"Get",value:function(e){return this.makeRequest({method:"GET",url:"/Breeds/".concat(e)})}}]),a}(w),S=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"UploadAnimalImage",value:function(e){var t=new FormData;return t.append("image",e),this.makeRequest({method:"POST",url:"/image-recognition",params:t})}}]),a}(w),F=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"GetNotifications",value:function(){return N.getToken()?this.makeRequest({method:"GET",url:"/notifications"}):null}},{key:"UpdateNotification",value:function(e){return N.getToken()?this.makeRequest({method:"PATCH",url:"/notifications/".concat(e),params:{read:!0}}):null}}]),a}(w),N=new(function(){function e(){Object(f.a)(this,e),this.Users=new j,this.Animals=new C,this.Species=new x,this.Breeds=new k,this.ImageRecognition=new S,this.Notifications=new F,this.token=""}return Object(v.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=localStorage.getItem("user_token")||""),this.token}},{key:"setToken",value:function(e){this.token=e,localStorage.setItem("user_token",e)}},{key:"clearToken",value:function(){localStorage.removeItem("user_token"),this.token=""}}]),e}()),A=a(258),M=a(339),I=a(337),T=a(542),z=a(336);var U=function(e){return Object(I.a)({loader:{display:"flex",justifyContent:"center",alignItems:"center",position:e,top:0,left:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.7)",zIndex:10}})},R=function(e){var t=e.position,a=U(void 0===t?"absolute":t)();return r.a.createElement("div",{className:a.loader},r.a.createElement(z.a,null))},B=a(338),L=a(257),P=a(369),D=a.n(P),G=a(370),W=a.n(G);var q=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.createElement(B.a,{position:"end"},r.a.createElement(L.a,{"aria-label":"toggle password visibility",onClick:function(){return l(!n)},onMouseDown:function(e){e.preventDefault()}},n?r.a.createElement(D.a,null):r.a.createElement(W.a,null)));return r.a.createElement(A.a,Object.assign({},e,{type:n?"text":"password",InputProps:{endAdornment:c}}))};function H(){var e=r.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!1),c=Object(d.a)(l,2),o=c[0],i=c[1],s=r.a.useState(!1),u=Object(d.a)(s,2),f=u[0],v=u[1],E=r.a.useState(!1),h=Object(d.a)(E,2),b=h[0],g=h[1],y=r.a.useState(!1),O=Object(d.a)(y,2),w=O[0],j=O[1],C=r.a.useState(""),x=Object(d.a)(C,2),k=x[0],S=x[1],F=Y(),I=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!1),i(!1),g(!1),j(!1),k){e.next=8;break}return g(!0),e.abrupt("return");case 8:return e.prev=8,n(!0),e.next=12,N.Users.SendResetPassword(k);case 12:i(!0),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!/Invalid Username or Email/.test(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)){e.next=20;break}return j(!0),e.abrupt("return");case 20:v(!0);case 21:return e.prev=21,n(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[8,15,21,24]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:F.container},r.a.createElement("h2",null,"Reset your password"),r.a.createElement("p",null,"Enter your username or email to recover your account:"),o&&r.a.createElement(T.a,{severity:"success"},"An email has been sent to your address. Please check your inbox."),f&&r.a.createElement(T.a,{severity:"error"},"Ups - Something has gone wrong."),b&&r.a.createElement(T.a,{severity:"warning"},"Please, enter your username or email."),w&&r.a.createElement(T.a,{severity:"warning"},"Invalid username or email."),r.a.createElement("form",{onSubmit:I},r.a.createElement(A.a,{type:"text",label:"Username or Email",onChange:function(e){return S(e.currentTarget.value)},variant:"outlined",margin:"normal",fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Send recover email")),a&&r.a.createElement(R,null))}function _(e){var t=e.token,a=r.a.useState(""),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(""),i=Object(d.a)(o,2),s=i[0],u=i[1],f=r.a.useState(!1),v=Object(d.a)(f,2),E=v[0],h=v[1],b=r.a.useState(!1),g=Object(d.a)(b,2),y=g[0],O=g[1],w=r.a.useState(!1),j=Object(d.a)(w,2),C=j[0],x=j[1],k=r.a.useState(!1),S=Object(d.a)(k,2),F=S[0],A=S[1],I=Y(),z=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),A(!1),x(!1),h(!1),l&&l===s){e.next=9;break}return h(!0),e.abrupt("return");case 9:h(!1);case 10:return e.prev=10,O(!0),e.next=14,N.Users.ResetPassword(t,l);case 14:x(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),A(!0);case 20:return e.prev=20,O(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[10,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:I.container},r.a.createElement("h2",null,"Reset your password"),r.a.createElement("p",null,"Enter a new password for your account:"),C&&r.a.createElement(T.a,{severity:"success"},"Your password has been updated"),F&&r.a.createElement(T.a,{severity:"error"},"Ups - Something has gone wrong."),E&&r.a.createElement(T.a,{severity:"warning"},"Passwords do not match"),r.a.createElement("form",{onSubmit:z},r.a.createElement(q,{type:"password",label:"Password",onChange:function(e){return c(e.currentTarget.value)},variant:"outlined",margin:"normal",fullWidth:!0}),r.a.createElement(q,{type:"password",label:"Repeat your password",onChange:function(e){return u(e.currentTarget.value)},variant:"outlined",margin:"normal",fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Reset Password")),y&&r.a.createElement(R,null))}var Y=Object(I.a)((function(){return{container:{position:"relative"}}})),V=function(){var e=new URLSearchParams(Object(s.h)().search).get("h");return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement(H,null),e&&r.a.createElement(_,{token:e}))},J=a(218),X=a.n(J);var K=Object(I.a)((function(e){return{input:{marginTop:".5rem",marginBottom:"1rem"},wrapper:{display:"flex",flexDirection:"column",justifyContent:"center"},previewWrapper:{width:"100%",height:"24rem",border:"1px dashed ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,display:"flex",alignItems:"center",justifyContent:"center",background:e.palette.grey[100],cursor:"pointer"},preview:{maxWidth:"100%",maxHeight:"100%"}}})),Q=function(e){var t=e.className,a=void 0===t?"":t,n=e.onChange,l=r.a.useRef(null),c=K(),o=r.a.useState(""),i=Object(d.a)(o,2),s=i[0],u=i[1];return r.a.createElement("div",{className:"".concat(c.wrapper," ").concat(a)},r.a.createElement("div",{className:"".concat(c.previewWrapper),onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.click()}},!s&&r.a.createElement(X.a,{fontSize:"large",color:"disabled"}),s&&r.a.createElement("img",{src:s,className:c.preview})),r.a.createElement("input",{onChange:function(e){var t;if(e.preventDefault(),null===(t=e.target.files)||void 0===t?void 0:t.length){var a=new FileReader,r=e.target.files[0];a.onloadend=function(){"string"===typeof a.result&&(u(a.result),n&&n(r,a.result))},a.readAsDataURL(r)}},ref:l,className:c.input,type:"file",accept:"image/*"}))},Z=a(30),$=a(18),ee=a(56),te=a(340),ae=a(376),ne=a.n(ae),re="https://nominatim.openstreetmap.org";function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(re,"/reverse?lat=").concat(t,"&lon=").concat(a,"&format=json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(re,"/search?q=spain ").concat(t,"&format=json"));case 2:return a=e.sent,e.abrupt("return",a.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,(function(){return e(null)})):e(null)}))}var ue=function(e){var t=e.onChange,a=void 0===t?function(){}:t,n=e.inputProps,l=e.value,c=e.autolocate,o=void 0===c||c,i=r.a.useState(""),s=Object(d.a)(i,2),u=s[0],f=s[1];function v(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h(t.coords.latitude,t.coords.longitude);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return b.apply(this,arguments)}function b(){return(b=Object(p.a)(m.a.mark((function e(t,n){var r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t,n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:l="".concat(r.address.postcode||""," ").concat(r.address.town||"").trim(),f(l),a(t,n,l);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(m.a.mark((function e(){var t,n,r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return a(null,null,""),e.abrupt("return");case 3:return e.next=5,oe(u);case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return");case 8:n=t.lat,r=t.lon,l=t.display_name,c=l.split(",")[0],f(c),a(parseFloat(n),parseFloat(r),c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.useEffect((function(){if(u){var e=setTimeout(g,1e3);return function(){clearTimeout(e)}}}),[u]),r.a.useEffect((function(){o&&v()}),[]),r.a.useEffect((function(){l?h(l.lat,l.lng):f("")}),[null===l||void 0===l?void 0:l.lat,null===l||void 0===l?void 0:l.lng]);var O=r.a.createElement(B.a,{position:"end"},r.a.createElement(te.a,{title:"Auto locate","aria-label":"add",placement:"right"},r.a.createElement(L.a,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:function(e){e.preventDefault()}},r.a.createElement(ne.a,null))));return r.a.createElement(A.a,Object.assign({type:"text",InputProps:{endAdornment:O}},n,{value:u,onChange:function(e){return f(e.currentTarget.value)},variant:"outlined"}))},me=a(212),pe=a(496),de=a(260),fe=a(259),ve=a(544),Ee={CAT:"Cat",DOG:"Dog",OTHER:"Others"};var he=function(){var e=Object($.e)(),t=e.handleChange,a=e.values,n=r.a.useState([]),l=Object(d.a)(n,2),c=l[0],o=l[1];return r.a.useEffect((function(){N.Species.Get().then((function(e){var t=e.data;return o(t)}))}),[]),r.a.createElement(me.a,{component:"fieldset"},r.a.createElement(pe.a,{component:"legend"},"Species"),r.a.createElement(de.a,{row:!0,"aria-label":"Species",name:"species",value:a.species,onChange:t},c.map((function(e){return r.a.createElement(fe.a,{value:e,control:r.a.createElement(ve.a,null),label:Ee[e]||""})}))))},be=a(543),ge=a(518);var ye=function(e){var t=e.className,a=Object($.e)(),n=a.values,l=a.setFieldValue;return r.a.createElement(be.a,{value:n.status,variant:"fullWidth",indicatorColor:"primary",onChange:function(e,t){return l("status",t)},className:t},r.a.createElement(ge.a,{value:Ae.LOST,label:"Lost"}),r.a.createElement(ge.a,{value:Ae.FOUND,label:"Found"}))},Oe=a(213),we=a(233),je=a(341);var Ce=Object(I.a)((function(e){return Object(je.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),xe=function(e){var t=e.species,a=r.a.useState([]),n=Object(d.a)(a,2),l=n[0],c=n[1],o=Object($.e)(),i=o.values,s=o.handleChange,u=r.a.useRef(),m=Ce();return r.a.useEffect((function(){t&&N.Breeds.Get(t).then((function(e){var t=e.data;return c(t.sort())}))}),[t]),r.a.createElement(me.a,{variant:"outlined",className:m.formControl},r.a.createElement(Oe.a,{htmlFor:"outlined-age-native-simple"},"Breed"),r.a.createElement(we.a,{ref:u,native:!0,value:l.length>0?i.breed:"",onChange:s,label:"Breed",inputProps:{name:"breed",id:"outlined-age-native-simple"},disabled:!t},r.a.createElement("option",{"aria-label":"None",value:""}),l.map((function(e){return r.a.createElement("option",{value:e},e)}))))},ke=a(22),Se=a(504);var Fe=function(){var e=Object($.e)(),t=e.values,a=e.handleChange,n=Object(ke.a)(),l=Object(Se.a)(n.breakpoints.down("sm"));return r.a.createElement(me.a,{component:"fieldset"},r.a.createElement(pe.a,{component:"legend"},"Size"),r.a.createElement(de.a,{"aria-label":"Size",name:"size",value:t.size,onChange:a,row:l},r.a.createElement(fe.a,{value:Me.SMALL,control:r.a.createElement(ve.a,null),label:"Small"}),r.a.createElement(fe.a,{value:Me.MEDIUM,control:r.a.createElement(ve.a,null),label:"Medium"}),r.a.createElement(fe.a,{value:Me.BIG,control:r.a.createElement(ve.a,null),label:"Big"})))};var Ne=function(){var e=Object($.e)(),t=e.values,a=e.handleChange;return r.a.createElement(me.a,{component:"fieldset"},r.a.createElement(pe.a,{component:"legend"},"Gender"),r.a.createElement(de.a,{"aria-label":"Gender",name:"gender",value:t.gender,onChange:a,row:!0},r.a.createElement(fe.a,{value:Ie.MALE,control:r.a.createElement(ve.a,null),label:"Male"}),r.a.createElement(fe.a,{value:Ie.FEMALE,control:r.a.createElement(ve.a,null),label:"Female"})))};var Ae,Me,Ie,Te=Object(I.a)((function(e){return{wrapper:{display:"flex",flexDirection:"column"},previewWrapper:{width:"100%",height:"24rem",flexGrow:1,border:"1px dashed ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,display:"flex",alignItems:"center",justifyContent:"center",background:e.palette.grey[100]},preview:{maxWidth:"100%",maxHeight:"100%"}}})),ze=function(e){var t=e.className,a=void 0===t?"":t,n=Te(),l=r.a.useState(""),c=Object(d.a)(l,2),o=c[0],i=c[1],s=Object($.e)().values;return r.a.useEffect((function(){if(s.images){var e=new FileReader;e.onloadend=function(){"string"===typeof e.result&&i(e.result)},e.readAsDataURL(s.images)}else i("")}),[s.images]),r.a.createElement("div",{className:"".concat(n.wrapper," ").concat(a)},r.a.createElement("div",{className:"".concat(n.previewWrapper)},o&&r.a.createElement("img",{src:o,className:n.preview})))};!function(e){e.LOST="LOST",e.FOUND="FOUND"}(Ae||(Ae={})),function(e){e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.BIG="BIG",e.EMPTY=""}(Me||(Me={})),function(e){e.MALE="MALE",e.FEMALE="FEMALE",e.EMPTY=""}(Ie||(Ie={}));var Ue={status:Ae.LOST,species:"",breed:"",size:Me.EMPTY,color:"",name:"",gender:Ie.EMPTY,age:"",lat:void 0,lng:void 0,location:"",images:void 0};function Re(){var e=Object($.e)(),t=e.isSubmitting,a=e.isValid,n=e.setFieldValue,l=e.values,c=Be();return r.a.createElement($.b,{className:c.form},r.a.createElement(ye,{className:c.statusInput}),r.a.createElement(he,null),r.a.createElement(xe,{species:l.species}),r.a.createElement(ze,{className:c.animalImageInput}),r.a.createElement(Fe,null),r.a.createElement($.a,{component:ee.b,name:"color",label:"Color",variant:"outlined"}),l.status===Ae.LOST&&r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{component:ee.b,name:"age",label:"Pet Age",variant:"outlined"}),r.a.createElement(Ne,null),r.a.createElement($.a,{component:ee.b,name:"name",label:"Pet name",variant:"outlined"})),r.a.createElement(ue,{inputProps:{label:"Enter your town or postcode",className:c.locationInput},onChange:function(e,t,a){n("lat",e),n("lng",t),n("location",a)}}),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",disabled:t||!a,className:c.uploadButton},"UPLOAD"),t&&r.a.createElement(R,null))}var Be=Object(I.a)((function(e){return{form:Object(Z.a)({display:"grid",gridGap:"15px",width:"100%",justifyContent:"center"},e.breakpoints.up("sm"),{gridTemplateColumns:"1fr 1fr"}),statusInput:Object(Z.a)({},e.breakpoints.up("sm"),{gridColumn:"span 2"}),uploadButton:Object(Z.a)({},e.breakpoints.up("sm"),{gridColumn:"span 2"}),locationInput:Object(Z.a)({},e.breakpoints.up("sm"),{gridColumn:"span 2"}),animalImageInput:Object(Z.a)({},e.breakpoints.up("sm"),{gridRow:"span 5"})}})),Le=function(e){var t=e.initialValues,a=r.a.useState(-1),n=Object(d.a)(a,2),l=n[0],c=n[1];function o(){return(o=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.prev=1,e.next=4,N.Animals.UploadAnimal(t);case 4:r=e.sent,c(r.data.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,n(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement($.c,{initialValues:Object(b.a)({},Ue,{},t),onSubmit:function(e,t){return o.apply(this,arguments)},validate:function(e){var t={};return e.status||(t.status="You must enter the status for the animal"),e.species||(t.species="You must enter the species for the animal"),e.lat&&e.lng||(t.lat="Location is required",t.lng="Location is required"),t}},r.a.createElement(Re,null)),-1!==l&&r.a.createElement(s.a,{to:"/view-animal/".concat(l)}))};var Pe=function(e){var t=n.useState(),a=Object(d.a)(t,2),r=a[0],l=a[1],c=n.useState(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=n.useState(!1),f=Object(d.a)(u,2),v=f[0],E=f[1],h=null===e||void 0===e?void 0:e.breed,b=null===e||void 0===e?void 0:e.species,g=null===e||void 0===e?void 0:e.status,y=null===e||void 0===e?void 0:e.lat,O=null===e||void 0===e?void 0:e.lng;function w(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(m.a.mark((function e(){var t,a,n,c,o,i=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],s(!0),a=r||[],t&&(a=[]),n=6,e.prev=5,e.next=8,N.Animals.GetAnimals({breed:h,species:b,status:g,lat:y,lng:O,start:a.length,count:n});case 8:c=e.sent,o=c.data,l(a.concat(o)),E(o.length===n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0);case 17:return e.prev=17,s(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}return n.useEffect((function(){e&&w(!0)}),[e]),{animals:r,isLoading:i,getMoreAnimals:w,hasMore:v}},De=a(526),Ge=a(527),We=a(528),qe=a(366),He=a(529),_e=a(160),Ye=a.n(_e),Ve=a(382),Je=a.n(Ve),Xe=a(383),Ke=a.n(Xe),Qe=a(381),Ze=a.n(Qe);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var tt=r.a.createElement("g",null),at=r.a.createElement("g",null),nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),lt=r.a.createElement("g",null),ct=r.a.createElement("g",null),ot=r.a.createElement("g",null),it=r.a.createElement("g",null),st=r.a.createElement("g",null),ut=r.a.createElement("g",null),mt=r.a.createElement("g",null),pt=r.a.createElement("g",null),dt=r.a.createElement("g",null),ft=r.a.createElement("g",null),vt=r.a.createElement("g",null),Et=function(e){var t=e.svgRef,a=e.title,n=et(e,["svgRef","title"]);return r.a.createElement("svg",$e({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("path",{style:{fill:"#FFC850"},d:"M444.379,3.741c10.828-8.798,27.018-1.092,27.018,12.859v222.01l-182.26-107.699L444.379,3.741z"}),r.a.createElement("path",{style:{fill:"#EBAF4B"},d:"M454.828,228.819l-110.973-65.574l92.462-104.241c6.465-7.288,18.511-2.716,18.511,7.027V228.819z"}),r.a.createElement("path",{style:{fill:"#FFC850"},d:"M67.619,3.741C56.79-5.057,40.601,2.649,40.601,16.6v222.01l182.26-107.699L67.619,3.741z"}),r.a.createElement("path",{style:{fill:"#EBAF4B"},d:"M57.17,228.819l110.973-65.574L75.681,59.004c-6.465-7.288-18.511-2.716-18.511,7.027 C57.17,66.031,57.17,228.819,57.17,228.819z"}),r.a.createElement("ellipse",{style:{fill:"#FFDC64"},cx:255.999,cy:292.46,rx:231.97,ry:219.54}),r.a.createElement("path",{style:{fill:"#FF8087"},d:"M289.137,429.155v16.569c0,18.302-14.836,33.138-33.138,33.138l0,0 c-18.302,0-33.138-14.836-33.138-33.138v-16.569l33.138-16.569L289.137,429.155z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M274.293,343.862h-36.588c-7.899,0-12.273,9.157-7.307,15.3l18.295,22.634 c3.76,4.651,10.852,4.651,14.613,0l18.295-22.634C286.566,353.019,282.193,343.862,274.293,343.862z"}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#E1A546"},d:"M479.673,437.439c-1.286,0-2.593-0.299-3.815-0.934c-50.092-26.047-128.491-41.524-129.28-41.678 c-4.49-0.874-7.419-5.226-6.545-9.717c0.878-4.494,5.186-7.427,9.717-6.545c3.301,0.643,81.515,16.076,133.754,43.239 c4.057,2.112,5.639,7.111,3.527,11.173C485.555,435.813,482.667,437.439,479.673,437.439z"}),r.a.createElement("path",{style:{fill:"#E1A546"},d:"M496.255,379.451c-0.712,0-1.436-0.093-2.156-0.287c-46.435-12.483-130.87-10.113-131.703-10.077 c-4.652,0.134-8.398-3.459-8.531-8.03c-0.138-4.575,3.459-8.394,8.03-8.531c3.56-0.113,87.736-2.476,136.509,10.635 c4.417,1.189,7.035,5.732,5.849,10.153C503.257,377.012,499.912,379.447,496.255,379.451z"})),r.a.createElement("path",{style:{fill:"#FFC850"},d:"M313.991,495.431c-128.112,0-231.967-98.291-231.967-219.54c0-89.035,56.034-165.634,136.518-200.081 C108.248,92.762,24.032,183.285,24.032,292.46C24.032,413.709,127.887,512,255.999,512c34.037,0,66.328-6.995,95.449-19.459 C339.25,494.416,326.748,495.431,313.991,495.431z"}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#E1A546"},d:"M32.324,437.439c-2.993,0-5.882-1.622-7.358-4.462c-2.112-4.061-0.53-9.061,3.527-11.173 c52.24-27.163,130.453-42.596,133.754-43.239c4.494-0.902,8.839,2.055,9.717,6.545c0.874,4.49-2.055,8.843-6.545,9.717 c-0.789,0.154-79.189,15.631-129.28,41.678C34.917,437.14,33.611,437.439,32.324,437.439z"}),r.a.createElement("path",{style:{fill:"#E1A546"},d:"M15.743,379.451c-3.657,0-7.002-2.439-7.997-6.137c-1.185-4.421,1.432-8.964,5.849-10.153 c48.777-13.115,132.941-10.736,136.509-10.635c4.571,0.138,8.167,3.956,8.03,8.531c-0.138,4.571-4.098,8.196-8.531,8.03 c-0.849-0.028-85.297-2.407-131.703,10.077C17.179,379.358,16.455,379.451,15.743,379.451z"})),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M160.727,321.456L160.727,321.456c-15.948,0-28.996-13.048-28.996-28.996v-16.569 c0-15.948,13.048-28.996,28.996-28.996l0,0c15.948,0,28.996,13.048,28.996,28.996v16.569 C189.723,308.407,176.675,321.456,160.727,321.456z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M160.727,246.895c-1.418,0-2.778,0.221-4.142,0.421v41.002c0,9.151,7.418,16.569,16.569,16.569 s16.569-7.418,16.569-16.569v-12.427C189.723,259.943,176.674,246.895,160.727,246.895z"}),r.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:160.729,cy:267.61,r:12.427}),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M351.271,321.456L351.271,321.456c-15.948,0-28.996-13.048-28.996-28.996v-16.569 c0-15.948,13.048-28.996,28.996-28.996l0,0c15.948,0,28.996,13.048,28.996,28.996v16.569 C380.267,308.407,367.219,321.456,351.271,321.456z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M351.271,246.895c-1.418,0-2.778,0.221-4.142,0.421v41.002c0,9.151,7.418,16.569,16.569,16.569 s16.569-7.418,16.569-16.569v-12.427C380.267,259.943,367.219,246.895,351.271,246.895z"}),r.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:351.269,cy:267.61,r:12.427}),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M262.408,382.15l-18.295-36.215c-0.332-0.658-0.518-1.378-0.769-2.074h-5.639 c-7.899,0-12.273,9.157-7.308,15.3l18.295,22.634c3.55,4.39,9.981,4.485,13.863,0.587 C262.511,382.297,262.453,382.239,262.408,382.15z"}),r.a.createElement("path",{style:{fill:"#E6646E"},d:"M255.999,412.586l-33.138,16.569v16.569c0,2.629,0.383,5.154,0.961,7.606 c8.337-1.034,16.389-3.449,23.892-7.153v7.831c0,4.575,3.709,8.285,8.285,8.285c4.576,0,8.285-3.709,8.285-8.285v-7.83 c7.504,3.704,15.556,6.119,23.892,7.152c0.578-2.452,0.961-4.978,0.961-7.606v-16.569L255.999,412.586z"}),r.a.createElement("path",{style:{fill:"#EBAF4B"},d:"M297.422,437.439c-11.719,0-23.013-3.483-32.653-10.073c-5.162-3.527-12.374-3.527-17.544,0 c-9.636,6.59-20.93,10.073-32.649,10.073c-14.259,0-27.993-5.275-38.672-14.85c-3.406-3.058-3.689-8.297-0.635-11.703 s8.281-3.689,11.703-0.635c13.911,12.483,35.683,13.847,50.905,3.434c10.841-7.403,25.408-7.403,36.241,0 c15.226,10.408,37.001,9.041,50.913-3.43c3.402-3.05,8.636-2.775,11.699,0.639c3.054,3.406,2.767,8.645-0.639,11.699 C325.41,432.168,311.681,437.439,297.422,437.439z"}),tt,at,nt,rt,lt,ct,ot,it,st,ut,mt,pt,dt,ft,vt)},ht=r.a.forwardRef((function(e,t){return r.a.createElement(Et,$e({svgRef:t},e))}));a.p;function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var yt=r.a.createElement("g",null),Ot=r.a.createElement("g",null),wt=r.a.createElement("g",null),jt=r.a.createElement("g",null),Ct=r.a.createElement("g",null),xt=r.a.createElement("g",null),kt=r.a.createElement("g",null),St=r.a.createElement("g",null),Ft=r.a.createElement("g",null),Nt=r.a.createElement("g",null),At=r.a.createElement("g",null),Mt=r.a.createElement("g",null),It=r.a.createElement("g",null),Tt=r.a.createElement("g",null),zt=r.a.createElement("g",null),Ut=function(e){var t=e.svgRef,a=e.title,n=gt(e,["svgRef","title"]);return r.a.createElement("svg",bt({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("path",{style:{fill:"#F5DCB4"},d:"M437.677,45.419h-82.581C325.161,57.29,318.525,37.161,256,37.161s-69.161,20.129-99.097,8.258 h-82.58L63.312,252.904c6.882,81.548,57.462,125.935,97.377,142.107h190.623c39.914-16.172,90.495-60.559,97.377-142.107 L437.677,45.419z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M355.097,45.419C448.078,73.25,397.46,216.774,457.33,278.813c8.595,8.906,23.781,4.95,27.368-6.895 c4.74-15.651,9.474-40.411,8.721-75.789C492.387,147.613,512,144.517,512,144.517S487.226,28.903,412.903,28.903 C388.129,28.903,355.097,45.419,355.097,45.419z"}),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M169.29,260.129L169.29,260.129c-15.897,0-28.903-13.006-28.903-28.903v-16.516 c0-15.897,13.006-28.903,28.903-28.903l0,0c15.897,0,28.903,13.006,28.903,28.903v16.516 C198.194,247.124,185.187,260.129,169.29,260.129z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M169.29,185.806c-1.413,0-2.769,0.221-4.129,0.419v40.871c0,9.121,7.395,16.516,16.516,16.516 c9.122,0,16.516-7.395,16.516-16.516v-12.386C198.194,198.814,185.187,185.806,169.29,185.806z"}),r.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:169.29,cy:206.451,r:12.387}),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M342.71,260.129L342.71,260.129c-15.897,0-28.903-13.006-28.903-28.903v-16.516 c0-15.897,13.006-28.903,28.903-28.903l0,0c15.897,0,28.903,13.006,28.903,28.903v16.516 C371.613,247.124,358.606,260.129,342.71,260.129z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M342.71,185.806c-1.413,0-2.769,0.221-4.129,0.419v40.871c0,9.121,7.395,16.516,16.516,16.516 c9.122,0,16.516-7.395,16.516-16.516v-12.386C371.613,198.814,358.606,185.806,342.71,185.806z"}),r.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:342.71,cy:206.451,r:12.387}),r.a.createElement("path",{style:{fill:"#824641"},d:"M457.33,278.814c8.595,8.906,23.781,4.95,27.368-6.896c2.718-8.976,5.399-21.06,7.08-36.313 c-16.234-8.092-30.092-33.91-38.617-77.669C437.677,78.452,416,34.065,355.097,45.419C448.078,73.25,397.46,216.775,457.33,278.814z "}),r.a.createElement("path",{style:{fill:"#E7C9A5"},d:"M160.689,395.011h39.141c0,0-68.732-46.107-80.087-127.656 C97.654,108.712,139.7,61.247,176.067,49.135c-5.761,0.195-11.745-0.774-19.163-3.715H74.323L63.312,252.904 C70.194,334.452,120.774,378.839,160.689,395.011z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M156.903,45.419C63.922,73.25,114.541,216.775,54.67,278.813c-8.595,8.906-23.781,4.95-27.368-6.895 c-4.74-15.651-9.474-40.411-8.721-75.789C19.613,147.613,0,144.517,0,144.517S24.774,28.903,99.097,28.903 C123.871,28.903,156.903,45.419,156.903,45.419z"}),r.a.createElement("path",{style:{fill:"#824641"},d:"M154.139,44.104c-8.38-3.888-34.516-15.201-55.042-15.201C24.774,28.903,0,144.517,0,144.517 s19.613,3.097,18.581,51.613c-0.014,0.648,0.005,1.231-0.005,1.872C66.097,17.715,139.119,37.773,154.139,44.104z"}),r.a.createElement("ellipse",{style:{fill:"#BC8E78"},cx:256,cy:400.52,rx:90.84,ry:66.06}),r.a.createElement("path",{style:{fill:"#FF8087"},d:"M214.71,400.516v41.29c0,22.804,18.486,41.29,41.29,41.29s41.29-18.486,41.29-41.29v-41.29H214.71z"}),r.a.createElement("path",{style:{fill:"#E6646E"},d:"M214.71,432.768c11.941-1.496,23.208-5.129,33.032-10.622v11.402c0,4.56,3.698,8.258,8.258,8.258 s8.258-3.698,8.258-8.258v-11.507c9.729,5.552,21.026,9.225,33.032,10.73v-32.256h-82.58V432.768z"}),r.a.createElement("path",{style:{fill:"#D4AF91"},d:"M309.677,326.194H202.323c-34.206,0-61.935,20.335-61.935,45.419s27.73,45.419,61.935,45.419 c17.225,0,32.782-5.169,43.995-13.498c2.839-2.108,6.262-3.162,9.679-3.162c3.423,0,6.846,1.053,9.685,3.162 c11.213,8.329,26.77,13.498,43.995,13.498c34.206,0,61.935-20.335,61.935-45.419C371.613,346.529,343.883,326.194,309.677,326.194z"}),r.a.createElement("path",{style:{fill:"#5D5360"},d:"M256,293.161c27.365,0,49.548,14.789,49.548,33.032c0,17.594-20.824,26.858-35.853,33.708 c-8.712,3.971-18.68,3.971-27.392,0c-15.029-6.85-35.853-16.114-35.853-33.708C206.452,307.951,228.635,293.161,256,293.161z"}),r.a.createElement("path",{style:{fill:"#4B3F4E"},d:"M230.968,317.161c-1.155-10.393,6.166-21.507,6.166-21.507 c-18.003,4.949-30.682,16.751-30.682,30.539c0,17.593,20.824,26.857,35.853,33.708c8.711,3.97,18.68,3.97,27.392,0 c3.232-1.473,6.732-3.069,10.235-4.824C259.613,351.484,233.29,338.065,230.968,317.161z"}),yt,Ot,wt,jt,Ct,xt,kt,St,Ft,Nt,At,Mt,It,Tt,zt)},Rt=r.a.forwardRef((function(e,t){return r.a.createElement(Ut,bt({svgRef:t},e))}));a.p;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Pt=r.a.createElement("g",null),Dt=r.a.createElement("g",null),Gt=r.a.createElement("g",null),Wt=r.a.createElement("g",null),qt=r.a.createElement("g",null),Ht=r.a.createElement("g",null),_t=r.a.createElement("g",null),Yt=r.a.createElement("g",null),Vt=r.a.createElement("g",null),Jt=r.a.createElement("g",null),Xt=r.a.createElement("g",null),Kt=r.a.createElement("g",null),Qt=r.a.createElement("g",null),Zt=r.a.createElement("g",null),$t=r.a.createElement("g",null),ea=function(e){var t=e.svgRef,a=e.title,n=Lt(e,["svgRef","title"]);return r.a.createElement("svg",Bt({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999",style:{enableBackground:"new 0 0 511.999 511.999"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M111.278,64.419c10.964,17.295,13.243,45.318-0.56,53.676s-38.461-6.113-49.424-23.408 s-7.135-35.682,6.668-44.041S100.314,47.124,111.278,64.419z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M44.205,120.969c13.346,11.691,22.451,34.376,13.458,44.642 c-8.993,10.266-32.679,4.226-46.025-7.465s-15.016-27.863-6.023-38.129S30.859,109.278,44.205,120.969z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M227.671,83.286c-7.658,16.005-7.084,40.442,5.227,46.333s31.699-8.997,39.357-25.002 s2.818-31.526-9.493-37.416C250.45,61.311,235.328,67.281,227.671,83.286z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M242.305,192.207c-9.511-36.307-39.439-47.688-52.312-51.323 c-14.397-4.066-30.332-5.224-46.488-1.906c-47.915,9.841-79.289,54.181-71.908,90.117c7.381,35.936,47.752,35.401,95.668,25.56 C215.181,244.814,251.602,227.696,242.305,192.207z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M201.229,67.6c-3.311,20.208-20.242,42.654-36.109,39.719s-24.662-30.139-21.351-50.347 s18.397-31.396,34.264-28.461S204.54,47.392,201.229,67.6z"})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#965A50"},d:"M111.226,237.349c-9.056-31.07,0.566-69.672,23.24-96.041 c-42.749,13.199-69.774,54.166-62.868,87.787c5.014,24.413,25.274,31.969,52.76,31.236 C118.705,255.005,114.203,247.564,111.226,237.349z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M22.284,140.993c-8.216-7.284-12.81-15.616-14.05-23.377c-0.904,0.755-1.822,1.491-2.619,2.402 c-8.993,10.266-7.323,26.438,6.022,38.129c13.346,11.691,37.033,17.731,46.025,7.465c1.95-2.226,2.908-5.107,3.298-8.261 C49.144,157.481,33.098,150.581,22.284,140.993z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M79.409,84.845c-7.526-14.148-7.937-27.746-3.072-37.398c-2.898,0.639-5.737,1.602-8.375,3.199 c-13.802,8.358-17.631,26.746-6.667,44.041c10.963,17.295,35.621,31.766,49.424,23.408c0.477-0.289,0.788-0.77,1.227-1.105 C99.688,111.366,86.598,98.359,79.409,84.845z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M161.505,61.914c5.444-15.335,15.859-25.202,27.585-28.663c-3.246-2.335-6.966-3.984-11.056-4.741 c-15.867-2.935-30.953,8.253-34.264,28.461c-2.886,17.614,3.43,40.531,15.604,48.071C156.112,91.5,156.835,75.067,161.505,61.914z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M243.643,91.037c9.018-9.581,19.842-13.777,29.73-13.162c-2.235-4.64-5.842-8.392-10.611-10.673 c-12.312-5.89-27.433,0.08-35.091,16.085c-6.186,12.928-6.872,31.201-0.468,40.914C229.108,112.582,235.367,99.829,243.643,91.037z "})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M384.511,279.84c-0.512,20.471-14.207,45.025-30.327,44.291 c-16.119-0.733-28.558-26.476-28.047-46.947s13.922-33.62,30.042-32.887C372.299,245.031,385.023,259.369,384.511,279.84z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M297.315,289.516c4.586,17.14-0.468,41.055-13.653,44.583 c-13.184,3.528-29.506-14.669-34.092-31.808c-4.586-17.14,3.023-31.507,16.208-35.034 C278.963,263.729,292.73,272.376,297.315,289.516z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M470.732,360.272c-15.267,9.039-28.386,29.665-21.433,41.409c6.953,11.744,31.346,10.16,46.613,1.12 s19.88-24.629,12.927-36.373C501.886,354.684,485.999,351.232,470.732,360.272z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M422.297,458.922c12.295-35.46-6.242-61.568-14.916-71.75 c-9.701-11.389-22.299-21.216-37.569-27.446c-45.29-18.479-96.029,0.911-109.888,34.879c-13.86,33.968,19.985,55.983,65.276,74.462 C370.491,487.546,410.278,493.585,422.297,458.922z"}),r.a.createElement("path",{style:{fill:"#AF6E5A"},d:"M457.487,332.526c-13.994,14.95-40.55,24.183-52.102,12.916 c-11.552-11.266-3.726-38.765,10.268-53.714s32.754-15.854,44.306-4.588C471.511,298.407,471.481,317.577,457.487,332.526z"})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#965A50"},d:"M288.261,423.509c9.76-30.856,39.231-57.58,72.742-66.877 c-42.865-12.815-88.113,6.192-101.079,37.972c-9.415,23.075,3.216,40.626,26.464,55.308 C284.653,442.341,285.052,433.654,288.261,423.509z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M267.96,293.96c-2.775-10.624-1.957-20.103,1.33-27.242c-1.171,0.124-2.343,0.226-3.512,0.539 c-13.184,3.527-20.794,17.894-16.208,35.034s20.908,35.336,34.092,31.808c2.859-0.765,5.257-2.626,7.336-5.03 C281.107,322.604,271.613,307.944,267.96,293.96z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M346.665,279.084c1.617-15.944,8.841-27.471,18.253-32.785c-2.764-1.082-5.659-1.861-8.739-2.001 c-16.119-0.733-29.53,12.416-30.042,32.887s11.927,46.214,28.047,46.947c0.557,0.025,1.083-0.202,1.634-0.236 C348.762,312.404,345.121,294.313,346.665,279.084z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M427.641,305.702c13.055-9.714,27.199-12.119,38.868-8.471c-1.398-3.746-3.572-7.186-6.55-10.09 c-11.552-11.266-30.312-10.362-44.306,4.587c-12.197,13.03-19.699,35.587-13.777,48.626 C406.701,327.286,416.444,314.034,427.641,305.702z"}),r.a.createElement("path",{style:{fill:"#965A50"},d:"M479.692,375.598c12.824-2.944,24.153-0.409,32.027,5.603c0.725-5.099-0.186-10.223-2.88-14.773 c-6.953-11.744-22.84-15.195-38.108-6.156c-12.332,7.301-23.068,22.104-23.151,33.738 C455.628,385.415,467.924,378.3,479.692,375.598z"})),Pt,Dt,Gt,Wt,qt,Ht,_t,Yt,Vt,Jt,Xt,Kt,Qt,Zt,$t)},ta=r.a.forwardRef((function(e,t){return r.a.createElement(ea,Bt({svgRef:t},e))})),aa=(a.p,a(267)),na=a(377),ra=a.n(na);var la=Object(I.a)((function(e){return{wrapper:{position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:2e3,background:"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center",justifyContent:"center","& > div":{overflow:"visible"},"& div":{maxHeight:"100%",maxWidth:"100%",justifyContent:"center"},"& img":{maxHeight:"90%",maxWidth:"90%"}},closeIcon:{position:"fixed",top:"10px",right:"10px",zIndex:1}}})),ca=function(e){var t=e.children,a=e.onClose,n=la();return r.a.createElement("div",{className:n.wrapper},r.a.createElement(ra.a,{fontSize:"large",className:n.closeIcon,onClick:a}),r.a.createElement(aa.b,null,r.a.createElement(aa.a,null,t)))},oa=a(545),ia=a(546),sa=a(519),ua=a(46),ma=a.n(ua),pa=(a(434),a(378)),da=a.n(pa),fa=a(379),va=a.n(fa),Ea=ma.a.icon({iconUrl:da.a,shadowUrl:va.a,iconAnchor:new ma.a.Point(12,41)});ma.a.Marker.prototype.options.icon=Ea;var ha=function(e){var t=e.lat,a=e.lng,r=e.className;return n.createElement(oa.a,{center:{lat:t,lng:a},zoom:15,className:r},n.createElement(ia.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),n.createElement(sa.a,{position:{lat:t,lng:a},onclick:function(){window.open("http://maps.google.com/maps?q=loc:".concat(t,",").concat(a))}}))},ba=r.a.createContext({userInfo:null,loadUserData:function(){},logout:function(){},userLoading:!0,notifications:[],loadNotifications:function(){}});var ga=function(e){var t=e.children,a=r.a.useState(!!N.getToken()),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(null),i=Object(d.a)(o,2),s=i[0],u=i[1],f=r.a.useState([]),v=Object(d.a)(f,2),E=v[0],h=v[1];function b(){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Notifications.GetNotifications();case 3:if(null===(t=e.sent)||void 0===t?void 0:t.data){e.next=6;break}return e.abrupt("return");case 6:h(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(m.a.mark((function e(){var t,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Promise.all([N.Users.GetUserInfo(),N.Notifications.GetNotifications()]);case 3:t=e.sent,a=Object(d.a)(t,2),n=a[0],r=a[1],u((null===n||void 0===n?void 0:n.data)||null),h((null===r||void 0===r?void 0:r.data)||[]),c(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){y();var e=setInterval(b,9e5);return function(){clearInterval(e)}}),[]),r.a.createElement(ba.Provider,{value:{userLoading:l,userInfo:s,loadUserData:y,logout:function(){N.clearToken(),u(null),h([])},notifications:E,loadNotifications:b}},t)};var ya=function(){return Object(n.useContext)(ba)},Oa=a(523),wa=a(521),ja=a(524),Ca=a(522),xa=a(525),ka=a(380),Sa=a.n(ka),Fa={name:"",surname:"",email:"",phone:"",username:"",password:""};function Na(e){var t=e.submitError,a=Object($.e)(),n=a.isSubmitting,l=a.isValid,c=Aa();return r.a.createElement(r.a.Fragment,null,Boolean(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(T.a,{severity:"error"},t)),r.a.createElement("p",null,"Sign up to upload an animal!"),r.a.createElement($.b,null,r.a.createElement($.a,{margin:"normal",className:c.input,component:ee.b,name:"name",type:"text",label:"Name",variant:"outlined"}),r.a.createElement($.a,{margin:"normal",className:c.input,component:ee.b,name:"surname",type:"text",label:"Surname",variant:"outlined"}),r.a.createElement($.a,{margin:"normal",className:c.input,component:ee.b,name:"email",type:"email",label:"Email",variant:"outlined"}),r.a.createElement($.a,{margin:"normal",className:c.input,component:ee.b,name:"phone",type:"tel",label:"Phone",variant:"outlined"}),r.a.createElement($.a,{margin:"normal",className:c.input,component:ee.b,name:"username",type:"text",label:"Username",variant:"outlined"}),r.a.createElement($.a,{name:"password"},(function(e){var t=e.field,a=e.form;e.meta;return r.a.createElement(q,Object.assign({},t,{margin:"normal",className:c.input,label:"Password",variant:"outlined",error:Boolean(a.errors.password)&&Boolean(a.touched.password),helperText:Boolean(a.touched.password)?a.errors.password:""}))})),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:n||!l,fullWidth:!0},"SIGN UP"),n&&r.a.createElement(R,null)))}var Aa=Object(I.a)((function(e){return{container:{minHeight:"100vh",background:"linear-gradient(rgba(167, 102, 10, 1), rgba(255, 136, 0, 1))"},button:{marginTop:e.spacing(2)},wrapper:{padding:"1em 1.2rem"},input:{width:"100%",marginBottom:"16px","& > p":{marginBottom:"-22px"}}}})),Ma=function(e){var t=r.a.useState(""),a=Object(d.a)(t,2),n=a[0],l=a[1];function c(){return(c=Object(p.a)(m.a.mark((function t(a,n){var r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,l(""),t.prev=2,t.next=5,N.Users.SignUp(a);case 5:c=t.sent,N.setToken(c.data.token),e.onSuccess(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),l(t.t0.response.data);case 13:return t.prev=13,r(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})))).apply(this,arguments)}return r.a.createElement($.c,{initialValues:Fa,onSubmit:function(e,t){return c.apply(this,arguments)},validate:function(e){var t={};return e.name||(t.name="You must enter a name"),e.surname||(t.surname="You must enter a surname"),e.email||(t.email="You must enter an email"),e.phone||(t.phone="You must enter a phone number"),e.username||(t.username="You must enter a username"),e.password||(t.password="You must enter a password"),t}},r.a.createElement(Na,{submitError:n}))},Ia=a(520),Ta={username:"",password:""};function za(e){var t=e.submitError,a=e.onSuccess,n=Object($.e)(),l=n.isSubmitting,c=n.isValid,o=Ua();return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(T.a,{severity:"error"},t)),r.a.createElement("p",null,"Enter your username and password to sign in:"),r.a.createElement($.b,null,r.a.createElement($.a,{margin:"normal",fullWidth:!0,component:ee.b,name:"username",label:"Username or email",variant:"outlined",className:o.input}),r.a.createElement($.a,{name:"password"},(function(e){var t=e.field,a=e.form;return r.a.createElement(q,Object.assign({},t,{margin:"normal",fullWidth:!0,label:"Password",variant:"outlined",className:o.input,error:Boolean(a.errors.password)&&Boolean(a.touched.password),helperText:Boolean(a.touched.password)?a.errors.password:""}))})),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",disabled:!c,fullWidth:!0,className:o.button},"SIGN IN"),r.a.createElement("div",{className:o.forgotPassword},r.a.createElement(Ia.a,{component:i.b,to:"/recover-password",onClick:a},"Forgot your password? Click here."))),l&&r.a.createElement(R,null))}var Ua=Object(I.a)((function(e){return{forgotPassword:{marginTop:e.spacing(2),textAlign:"center"},button:{marginTop:e.spacing(2)},input:{marginBottom:"16px","& > p":{marginBottom:"-22px"}}}})),Ra=function(e){var t=r.a.useState(""),a=Object(d.a)(t,2),n=a[0],l=a[1];function c(){return(c=Object(p.a)(m.a.mark((function t(a,n){var r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,t.next=4,N.Users.SignIn(a.username,a.password);case 4:c=t.sent,N.setToken(c.data.token),e.onSuccess(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),l(t.t0.response.data);case 12:return t.prev=12,r(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))).apply(this,arguments)}return r.a.createElement($.c,{onSubmit:function(e,t){return c.apply(this,arguments)},validate:function(e){var t={};return e.password||(t.password="You must enter a password"),e.username||(t.username="You must enter a username or email"),t},initialValues:Ta},r.a.createElement(za,{submitError:n,onSuccess:e.onSuccess}))};var Ba=Object(I.a)((function(e){var t;return Object(je.a)({paper:(t={backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3),borderRadius:e.shape.borderRadius,width:"100vw",maxHeight:"90vh",marginTop:"5vh",maxWidth:600,display:"flex",flexDirection:"column"},Object(Z.a)(t,e.breakpoints.up("sm"),{width:"70vw"}),Object(Z.a)(t,e.breakpoints.up("md"),{width:"50vw"}),t),paperContent:{position:"relative",overflowY:"auto"}})})),La=function(e){var t=Ba(),a=r.a.useState(0),n=Object(d.a)(a,2),l=n[0],c=n[1];return r.a.createElement(wa.a,{open:e.isOpen,onClose:e.onClose,scroll:"body",fullWidth:!0},r.a.createElement(Ca.a,null,r.a.createElement("div",null,r.a.createElement(be.a,{value:l,variant:"fullWidth",indicatorColor:"primary"},r.a.createElement(ge.a,{label:"Sign In",onClick:function(){return c(0)}}),r.a.createElement(ge.a,{label:"Sign Up",onClick:function(){return c(1)}})),r.a.createElement("div",{className:t.paperContent},0===l&&r.a.createElement(Ra,{onSuccess:e.onClose}),1===l&&r.a.createElement(Ma,{onSuccess:e.onClose})))))},Pa={message:"",phone:!1,email:!1};function Da(){var e=Object($.e)().isSubmitting,t=Ga();return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(R,null),r.a.createElement($.b,null,r.a.createElement(ja.a,null,"Contact User"),r.a.createElement(Ca.a,null,r.a.createElement("div",{className:t.paperContent},r.a.createElement("div",null,"Write a message to send to the user:"),r.a.createElement($.a,{component:ee.b,required:!0,margin:"normal",type:"text",name:"message",label:"Insert the message here",variant:"outlined",rows:10,fullWidth:!0,multiline:!0}),r.a.createElement("div",{className:t.checkboxes},r.a.createElement(fe.a,{control:r.a.createElement($.a,{component:ee.a,color:"primary",name:"email"}),label:"Include email"}),r.a.createElement(fe.a,{control:r.a.createElement($.a,{component:ee.a,color:"primary",name:"phone"}),label:"Include phone"})))),r.a.createElement(xa.a,null,r.a.createElement(M.a,{type:"submit",variant:"outlined",color:"primary",endIcon:r.a.createElement(Sa.a,null)},"Send"))))}var Ga=Object(I.a)((function(e){return{checkboxes:{display:"grid"},paperContent:{position:"relative"}}})),Wa=function(e){Ga();var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=ya(),f=u.userInfo,v=u.loadUserData;return f?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oa.a,{open:n,autoHideDuration:6e3,onClose:function(){return l(!1)}},r.a.createElement(T.a,{onClose:function(){return l(!1)},severity:"error"},"Could not send your message. Please, try again!")),r.a.createElement(Oa.a,{open:i,autoHideDuration:6e3,onClose:function(){return s(!1)}},r.a.createElement(T.a,{onClose:function(){return s(!1)},severity:"success"},"Your message has been sent!")),r.a.createElement(wa.a,{open:e.isOpen,onClose:e.onClose,scroll:"body",fullWidth:!0},r.a.createElement($.c,{initialValues:Pa,onSubmit:function(){var t=Object(p.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,t.next=4,N.Users.ContactUser(e.receiverId,a.message,a.phone,a.email);case 4:t.sent,s(!0),e.onClose(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),l(!0);case 12:return t.prev=12,r(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e,a){return t.apply(this,arguments)}}()},r.a.createElement(Da,null)))):r.a.createElement(La,{isOpen:e.isOpen&&!f,onClose:function(){N.getToken()?v():e.onClose()}})};var qa=Object(I.a)((function(e){return{root:{position:"relative",overflow:"visible",width:"100%",marginTop:"20px"},animalBadge:{height:64,width:64,position:"absolute",zIndex:1,top:-16,left:-16,transform:"rotate(-20deg)"},media:{height:600,maxHeight:"50vh",transition:"height 250ms",position:"relative",cursor:"pointer"},chips:{position:"absolute",bottom:0,left:0,"& > div":{margin:5},display:"flex",flexDirection:"column",alignItems:"flex-start"},content:Object(Z.a)({display:"grid",gridRowGap:"5px",gridTemplateColumns:"1fr 2fr"},e.breakpoints.down("sm"),{gridTemplateColumns:"1fr 1fr"}),label:{display:"block"},location:Object(Z.a)({gridRow:"span 8"},e.breakpoints.down("sm"),{order:8,gridColumn:"span 2",borderTop:"1px solid ".concat(e.palette.divider),paddingTop:"10px"}),locationImage:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},map:{height:"100%",minHeight:"250px"},buttonsContainer:{gridColumn:"1/-1"}}})),Ha=function(e){var t=qa(),a=r.a.useState(!1),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(!1),s=Object(d.a)(o,2),u=s[0],f=s[1],v=ya(),E=v.loadUserData,h=v.userInfo;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa,{isOpen:u,onClose:function(){return f(!1)},receiverId:e.user_id}),r.a.createElement(De.a,{className:t.root},"CAT"===e.species&&r.a.createElement(ht,{className:t.animalBadge}),"DOG"===e.species&&r.a.createElement(Rt,{className:t.animalBadge}),"OTHER"===e.species&&r.a.createElement(ta,{className:t.animalBadge}),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{className:t.media,image:N.Animals.Image(e.id,e.image_name),component:i.b,to:"/view-animal/".concat(e.id),onClick:function(){return c(!0)}},r.a.createElement("div",{className:t.chips},r.a.createElement(qe.a,{icon:r.a.createElement(Ze.a,null),label:e.status,color:"LOST"===e.status?"secondary":"primary"}),r.a.createElement(qe.a,{icon:r.a.createElement(Je.a,null),label:Ye()(e.publication_date).local().fromNow()}),r.a.createElement(qe.a,{icon:r.a.createElement(Ke.a,null),label:"".concat(e.location," ").concat(e.distance?"(".concat(e.distance.toFixed(1),"km)"):"")}),e.recovered&&r.a.createElement(qe.a,{label:"RECOVERED"})))),e.showDetails&&r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(ca,{onClose:function(){return c(!1)}},r.a.createElement("img",{src:N.Animals.Image(e.id,e.image_name)})),r.a.createElement(He.a,{className:t.content},r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Publication date:"),Ye()(e.publication_date).local().format("DD/MM/YYYY HH:mm")),r.a.createElement("div",{className:t.location},r.a.createElement(ha,{lat:e.lat,lng:e.lng,className:t.map}),r.a.createElement("div",null,e.location)),r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Species:"),e.species),e.breed&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Breed:")," ",e.breed),r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Status:")," ",e.status),e.size&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Size:")," ",e.size),e.color&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Color:")," ",e.color),e.age&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Age:")," ",e.age),e.gender&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Gender:")," ",e.gender),e.name&&r.a.createElement("div",null,r.a.createElement("b",{className:t.label},"Name:")," ",e.name),r.a.createElement("div",{className:t.buttonsContainer},!e.recovered&&(null===h||void 0===h?void 0:h.id)===e.user_id&&r.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",fullWidth:!0,onClick:Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(),t.next=3,N.Animals.UpdateAnimal(e.id);case 3:e.loadAnimal&&e.loadAnimal();case 4:case"end":return t.stop()}}),t)})))},"Mark as recovered"),e.user_id!==(null===h||void 0===h?void 0:h.id)&&r.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",fullWidth:!0,onClick:function(){return f(!0)}},"Contact User"))))))},_a=a(223),Ya=a.n(_a);var Va=Object(I.a)({notFound:{textAlign:"center",marginTop:"100px",gridColumn:"1/-1"}}),Ja=function(){var e=Va();return r.a.createElement("div",{className:e.notFound},r.a.createElement(Ya.a,{fontSize:"large"}),r.a.createElement("h2",null,"Oops!"),r.a.createElement("h3",null,"There is no animal with these characteristics."))};var Xa=Object(I.a)((function(e){var t;return{list:(t={display:"grid",gridGap:22,width:"100%"},Object(Z.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"1fr 1fr"}),Object(Z.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"1fr 1fr 1fr"}),t),viewMoreButton:{display:"flex",justifyContent:"center",margin:"25px 0 0 0"}}})),Ka=function(e){var t=e.animals,a=e.isLoading,r=e.hasMore,l=void 0!==r&&r,c=e.getMoreAnimals,o=void 0===c?function(){}:c,i=Xa();return n.createElement(n.Fragment,null,n.createElement("div",{className:i.list},a&&n.createElement(R,{position:"fixed"}),!a&&!(null===t||void 0===t?void 0:t.length)&&n.createElement(Ja,null),null===t||void 0===t?void 0:t.map((function(e){return n.createElement(Ha,Object.assign({key:"animal_".concat(e.id)},e))}))),l&&n.createElement("div",{className:i.viewMoreButton},n.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return o()}},"View more")))};var Qa=function(e){var t,a=e.filters,r=e.limit,l=void 0===r?0:r,c=Pe(a),o=c.animals,i=c.isLoading,s=c.getMoreAnimals,u=c.hasMore;l&&(null===(t=o)||void 0===t||t.slice(0,l));var m=Boolean(l&&o&&o.length>=l);return n.createElement(Ka,{animals:o,isLoading:i,getMoreAnimals:s,hasMore:u&&!m})};var Za=Object(I.a)((function(e){return{spacer:{width:"100%",height:"56px"},anyOfThese:{display:"flex",width:"100vw",alignItems:"center",background:e.palette.background.default,boxShadow:e.shadows[3],position:"fixed",left:0,top:"56px",placeContent:"center",zIndex:2,"& > button":{marginLeft:"1ch",height:"2em"}}}})),$a=function(){var e=r.a.useState(),t=Object(d.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!1),c=Object(d.a)(l,2),o=c[0],i=c[1],s=r.a.useState(!1),u=Object(d.a)(s,2),f=u[0],v=u[1],E=Pe(a),h=E.animals,g=E.isLoading,y=ya(),O=y.userInfo,w=y.loadUserData,j=Za();function C(){return(C=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,N.ImageRecognition.UploadAnimalImage(t);case 4:return a=e.sent,e.next=7,se();case 7:r=e.sent,n(Object(b.a)({},a.data,{lat:null===r||void 0===r?void 0:r.coords.latitude,lng:null===r||void 0===r?void 0:r.coords.longitude,images:t})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,i(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}return a&&h&&!g?f||0===(null===h||void 0===h?void 0:h.length)&&!g?r.a.createElement(r.a.Fragment,null,r.a.createElement(La,{isOpen:!O,onClose:function(){N.getToken()?w():n(void 0)}}),r.a.createElement(Le,{initialValues:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:j.anyOfThese},r.a.createElement("h3",null,"Is it any of these?"),r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:function(){return v(!0)}},"No")),r.a.createElement("div",{className:j.spacer}),r.a.createElement(Qa,{limit:3,filters:{breed:a.breed,species:a.species,lat:a.lat,lng:a.lng}})):r.a.createElement("div",null,r.a.createElement("h3",null,"Upload/Take a photo of the animal you found:"),r.a.createElement(Q,{onChange:function(e){return C.apply(this,arguments)}}),(o||g)&&r.a.createElement(R,null))};var en=Object(I.a)({notExists:{textAlign:"center",marginTop:"100px",gridColumn:"1/-1"}}),tn=function(){var e=en();return r.a.createElement("div",{className:e.notExists},r.a.createElement(Ya.a,{fontSize:"large"}),r.a.createElement("h2",null,"Oops!"),r.a.createElement("h3",null,"We could not find this animal."))};var an=function(){var e=Object(s.i)().id,t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(),o=Object(d.a)(c,2),i=o[0],u=o[1];function m(){e&&N.Animals.GetAnimalDetails(parseInt(e)).then((function(e){var t=e.data;return u(t)})).catch((function(){return l(!0)}))}return r.a.useEffect((function(){m()}),[e]),n?r.a.createElement(tn,null):i?r.a.createElement(Ha,Object.assign({showDetails:!0},i,{loadAnimal:m})):null};var nn=Object(I.a)((function(e){return Object(je.a)({formControl:{margin:"".concat(e.spacing(1),"px 0"),width:"100%"},selectEmpty:{marginTop:e.spacing(2)}})})),rn=function(e){var t=e.species,a=e.onChange,n=e.value,l=nn(),c=r.a.useState([]),o=Object(d.a)(c,2),i=o[0],s=o[1],u=r.a.useRef();return r.a.useEffect((function(){t&&N.Breeds.Get(t).then((function(e){var t=e.data;return s(t.sort())}))}),[t]),r.a.createElement(me.a,{variant:"outlined",className:l.formControl},r.a.createElement(Oe.a,{htmlFor:"outlined-age-native-simple"},"Breed"),r.a.createElement(we.a,{ref:u,native:!0,value:i.length?n:"",onChange:function(e){a(e.currentTarget.value)},label:"Breed",inputProps:{name:"breed",id:"outlined-age-native-simple"},disabled:!t},r.a.createElement("option",{"aria-label":"None",value:""}),i.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))};var ln=Object(I.a)((function(e){return Object(je.a)({formControl:{margin:"".concat(e.spacing(1),"px 0"),width:"100%"},selectEmpty:{marginTop:e.spacing(2)}})})),cn=function(e){var t=e.onChange,a=e.value,n=ln(),l=r.a.useState([]),c=Object(d.a)(l,2),o=c[0],i=c[1],s=r.a.useRef();return r.a.useEffect((function(){N.Species.Get().then((function(e){var t=e.data;return i(t.sort())}))}),[]),r.a.createElement(me.a,{variant:"outlined",className:n.formControl},r.a.createElement(Oe.a,{htmlFor:"outlined-age-native-simple"},"Species"),r.a.createElement(we.a,{ref:s,native:!0,value:o.length?a:"",onChange:function(e){t(e.currentTarget.value)},label:"Species",inputProps:{name:"species",id:"outlined-age-native-simple"},disabled:!o},r.a.createElement("option",{"aria-label":"None",value:""}),o.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))};var on=Object(I.a)((function(e){return{wrapper:{display:"flex",width:"100%",padding:"10px 0",overflowX:"auto",textTransform:"capitalize","& > div:not(:first-child)":{marginLeft:"10px"}}}})),sn=function(e){var t=e.filters,a=e.setFilters,n=on();return r.a.createElement("div",{className:n.wrapper},t.status&&r.a.createElement(qe.a,{label:t.status.toLocaleLowerCase(),onDelete:function(){return a(Object(b.a)({},t,{status:void 0}))}}),t.species&&r.a.createElement(qe.a,{label:t.species.toLocaleLowerCase(),onDelete:function(){return a(Object(b.a)({},t,{species:void 0,breed:void 0}))}}),t.breed&&r.a.createElement(qe.a,{label:t.breed,onDelete:function(){return a(Object(b.a)({},t,{breed:void 0}))}}),t.location&&r.a.createElement(qe.a,{label:t.location,onDelete:function(){return a(Object(b.a)({},t,{lat:void 0,lng:void 0,location:void 0}))}}))},un=a(530),mn=a(384),pn=a.n(mn);var dn=Object(I.a)((function(e){return Object(je.a)({formControl:{margin:"".concat(e.spacing(1),"px 0"),width:"100%"},selectEmpty:{marginTop:e.spacing(2)}})})),fn=function(e){var t=e.value,a=e.onChange,r=dn();return n.createElement(me.a,{variant:"outlined",className:r.formControl},n.createElement(Oe.a,{htmlFor:"outlined-age-native-simple"},"Status"),n.createElement(we.a,{native:!0,value:t||"",onChange:function(e){a(e.currentTarget.value)},label:"Status"},n.createElement("option",{value:""}),n.createElement("option",{"aria-label":"Lost",value:Ae.LOST},"Lost"),n.createElement("option",{"aria-label":"Found",value:Ae.FOUND},"Found")))};var vn=Object(I.a)((function(e){return{input:{width:"100%"}}})),En=function(e){var t=e.onChange,a=e.value,n=vn();return r.a.createElement(ue,{value:a,autolocate:!1,inputProps:{label:"Enter your town or postcode",className:n.input},onChange:function(e,a,n){e&&a&&t(e,a,n)}})};var hn=Object(I.a)((function(e){return{fab:Object(Z.a)({position:"fixed",bottom:5,right:5,zIndex:1},e.breakpoints.up("md"),{bottom:10,right:10}),dialog:Object(Z.a)({minWidth:"80vw",overflowY:"hidden"},e.breakpoints.up("sm"),{minWidth:"410px"})}})),bn=function(e){var t=e.onChange,a=Object(s.h)(),n=r.a.useState(function(e){var t=new URLSearchParams(e);return{status:t.get("status")||void 0,species:t.get("species")||void 0,breed:t.get("breed")||void 0,lat:parseFloat(t.get("lat")||"")||void 0,lng:parseFloat(t.get("lng")||"")||void 0}}(a.search)),l=Object(d.a)(n,2),c=l[0],o=l[1],i=r.a.useState(!1),u=Object(d.a)(i,2),f=u[0],v=u[1],E=r.a.useState(!1),h=Object(d.a)(E,2),g=h[0],y=h[1],O=r.a.useState(!1),w=Object(d.a)(O,2),j=w[0],C=w[1],x=hn(),k=Object(s.g)();r.a.useEffect((function(){t(c||{}),k.push("/search?".concat(function(e){var t=new URLSearchParams;return Object.entries(e).map((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];"location"!==n&&r&&t.append(n,r)})),t.toString()}(c)))}),[c]);var S=function(){return v(!1)};function F(){return(F=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,N.ImageRecognition.UploadAnimalImage(t);case 4:a=e.sent,o(Object(b.a)({status:c.status},a.data)),S(),y(!1),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.prev=12,C(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,10,12,15]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{title:"Filter","aria-label":"Filter"},r.a.createElement(un.a,{color:"primary",className:x.fab,onClick:function(){return v(!0)}},r.a.createElement(pn.a,null))),r.a.createElement(wa.a,{open:f,onClose:S,keepMounted:!0,scroll:"body"},r.a.createElement(ja.a,null,"Search Animals"),r.a.createElement(Ca.a,{className:x.dialog},j&&r.a.createElement(R,null),g&&r.a.createElement(Q,{onChange:function(e){return F.apply(this,arguments)}}),!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fn,{value:c.status,onChange:function(e){return o(Object(b.a)({},c,{status:e}))}}),r.a.createElement(cn,{value:c.species||"",onChange:function(e){return o(Object(b.a)({},c,{species:e,breed:void 0}))}}),r.a.createElement(rn,{species:c.species||"",onChange:function(e){return o(Object(b.a)({},c,{breed:e}))},value:c.breed||""}),r.a.createElement(En,{value:c.lat&&c.lng?{lat:c.lat,lng:c.lng}:void 0,onChange:function(e,t,a){return o(Object(b.a)({},c,{lat:e,lng:t,location:a}))}}))),r.a.createElement(xa.a,null,!g&&r.a.createElement(M.a,{onClick:function(){return y(!0)},color:"primary",variant:"outlined"},"Search by photo"),g&&r.a.createElement(M.a,{onClick:function(){return y(!1)},color:"primary",variant:"outlined"},"Search by filters"),r.a.createElement(M.a,{onClick:S,color:"primary"},"Close"))),r.a.createElement(sn,{filters:c,setFilters:o}))};var gn=Object(I.a)((function(e){return{container:{width:"100%"}}})),yn=function(){var e=r.a.useState(),t=Object(d.a)(e,2),a=t[0],n=t[1],l=gn();return r.a.createElement("div",{className:l.container},r.a.createElement(bn,{onChange:function(e){return n(e)}}),r.a.createElement(Qa,{filters:a}))},On=a(536),wn=a(537),jn=a(531),Cn=a(343),xn=a(532),kn=a(96),Sn=a(385),Fn=a.n(Sn),Nn=a(224),An=a.n(Nn),Mn=a(200),In=a(342);var Tn=function(e){return r.a.createElement(Mn.a,{anchorEl:e.anchor.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:8,open:!0,onClose:e.onClose},r.a.createElement(In.a,{onClick:function(){N.clearToken(),e.onClose()}},"Log Out"))};var zn=function(){var e=r.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],l=r.a.useRef(null),c=r.a.useState(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=ya(),m=u.userInfo,p=u.userLoading,f=u.loadUserData,v=!m&&!p;return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(M.a,{color:"inherit",onClick:function(){return n(!0)}},"Login"),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{ref:l,color:"inherit",startIcon:r.a.createElement(An.a,null),onClick:function(){return s(!0)}},m.username),i&&r.a.createElement(Tn,{anchor:l,onClose:function(){s(!1),f()}})),r.a.createElement(La,{isOpen:a,onClose:function(){n(!1),f()}}))};var Un=Object(I.a)((function(e){return Object(je.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textDecoration:"none",color:e.palette.secondary.contrastText}})})),Rn=function(e){var t=e.openSidebar,a=Un(),n=ya().notifications.filter((function(e){return!e.read})).length;return r.a.createElement("div",{className:a.root},r.a.createElement(jn.a,{position:"fixed"},r.a.createElement(Cn.a,null,r.a.createElement(L.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:t},r.a.createElement(xn.a,{badgeContent:n,color:"secondary"},r.a.createElement(Fn.a,null))),r.a.createElement(kn.a,{variant:"h6",className:a.title,component:i.b,to:"/"},"Where is my pet"),r.a.createElement(zn,null))))},Bn=a(80),Ln=a(500),Pn=a(533),Dn=a(534),Gn=a(507),Wn=a(535),qn=a(344),Hn=a(393),_n=a.n(Hn),Yn=a(394),Vn=a.n(Yn),Jn=a(389),Xn=a.n(Jn),Kn=a(392),Qn=a.n(Kn),Zn=a(395),$n=a.n(Zn),er=a(391),tr=a.n(er),ar=a(390),nr=a.n(ar),rr=a(387),lr=a.n(rr),cr=a(388),or=a.n(cr),ir=a(386),sr=a.n(ir);function ur(e){var t=e.to,a=e.Icon,n=e.label,l=e.disabled,c=void 0!==l&&l,o=e.onClick;return r.a.createElement(Gn.a,{component:t?i.b:Gn.a,to:t,button:!0,key:n,disabled:c,onClick:o},r.a.createElement(Wn.a,null,a),r.a.createElement(qn.a,{primary:n}))}var mr=Object(I.a)({list:{width:250},fullList:{width:"auto"}}),pr=function(e){var t=e.close,a=e.isOpen,n=mr(),l=r.a.useState(!1),c=Object(d.a)(l,2),o=c[0],i=c[1],s=ya(),u=s.userInfo,m=s.notifications,p=s.logout,f=m.filter((function(e){return!e.read})).length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(La,{isOpen:o,onClose:function(){return i(!1)}}),r.a.createElement(Bn.a,{anchor:"left",open:a,onClose:t},r.a.createElement("div",{className:n.list,role:"presentation",onClick:t},u&&r.a.createElement(Ln.a,null,r.a.createElement(ur,{to:"/user/animals",label:"My Profile",Icon:r.a.createElement(An.a,null)}),r.a.createElement(ur,{to:"/user/notifications",label:"Notifications",Icon:r.a.createElement(xn.a,{badgeContent:f,color:"primary"},r.a.createElement(sr.a,null))}),r.a.createElement(ur,{label:"Logout",Icon:r.a.createElement(lr.a,null),onClick:p})),!u&&r.a.createElement(Ln.a,null,r.a.createElement(ur,{label:"Sign up or Sign in",Icon:r.a.createElement(or.a,null),onClick:function(){return i(!0)}})),r.a.createElement(Pn.a,null),r.a.createElement(Ln.a,null,r.a.createElement(ur,{to:"/",label:"Home",Icon:r.a.createElement(Xn.a,null)}),r.a.createElement(ur,{to:"/upload-animal",label:"Upload Animal",Icon:r.a.createElement(nr.a,null)}),r.a.createElement(ur,{to:"/search",label:"Find Animals",Icon:r.a.createElement(tr.a,null)})),(null===u||void 0===u?void 0:u.roles.includes("Admin"))&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pn.a,null),r.a.createElement(Ln.a,{subheader:r.a.createElement(Dn.a,null,"Admin Panel")},r.a.createElement(ur,{to:"/admin/users",label:"Review Users",Icon:r.a.createElement(Qn.a,null)}))),r.a.createElement(Pn.a,null),r.a.createElement(Ln.a,null,r.a.createElement(ur,{to:"",label:"Settings",Icon:r.a.createElement(_n.a,null),disabled:!0}),r.a.createElement(ur,{to:"",label:"About",Icon:r.a.createElement(Vn.a,null),disabled:!0}),r.a.createElement(ur,{label:"Contact",Icon:r.a.createElement($n.a,null),onClick:function(){return window.open("mailto://whereismypetproject@gmail.com")}})))))};var dr=Object(I.a)((function(e){return{container:Object(Z.a)({paddingTop:60,minHeight:"80vh",marginBottom:"60px"},e.breakpoints.up("sm"),{paddingTop:70})}})),fr=function(e){var t=e.children,a=dr(),n=r.a.useState(!1),l=Object(d.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rn,{openSidebar:function(){return o(!0)}}),r.a.createElement(On.a,null,r.a.createElement(wn.a,{container:!0,justify:"center",className:a.container},t)),r.a.createElement(pr,{isOpen:c,close:function(){return o(!1)}}))};var vr=Object(I.a)((function(e){return{button:Object(Z.a)({display:"flex",textDecoration:"none",justifyContent:"center",alignItems:"center",height:"150px",textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,fontSize:e.typography.h5.fontSize,borderRadius:e.shape.borderRadius,cursor:"pointer",transition:"transform 250ms ease","&:hover":{transform:"scale(1.1)"}},e.breakpoints.up("sm"),{height:"250px"}),lost:{background:e.palette.primary.main,color:e.palette.primary.contrastText},found:{background:e.palette.secondary.main,color:e.palette.secondary.contrastText},container:Object(Z.a)({minHeight:"100%",display:"grid",placeContent:"center",gridTemplateColumns:"repeat(1, 250px)",gap:"50px",width:"100%"},e.breakpoints.up("sm"),{gap:"100px",gridTemplateColumns:"repeat(2, 250px)"})}})),Er=function(){var e=vr();return r.a.createElement("div",{className:e.container},r.a.createElement(i.b,{to:"/search?status=FOUND",className:"".concat(e.button," ").concat(e.lost)},"I lost an animal"),r.a.createElement(i.b,{to:"/upload-animal",className:"".concat(e.button," ").concat(e.found)},"I found an animal"))},hr=a(262),br=a.n(hr);var gr=function(){var e=r.a.useState(),t=Object(d.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!0),c=Object(d.a)(l,2),o=c[0],i=c[1],s=r.a.useState(""),u=Object(d.a)(s,2),f=u[0],v=u[1];function E(){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,N.Users.GetUsersByStatus(["Suspicious"]);case 4:t=e.sent,a=t.data,n(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function b(e,t,a){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(m.a.mark((function e(t,a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,N.Users.UpdateUser(t,{status:a});case 4:return e.next=6,E();case 6:v("User ".concat(n.username," is now ").concat(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return r.a.useEffect((function(){E()}),[]),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Oa.a,{open:""!==f,autoHideDuration:3e3,onClose:function(){return v("")},anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(T.a,{onClose:function(){return v("")},severity:"success"},f)),r.a.createElement(br.a,{isLoading:o,columns:[{title:"Username",field:"username"},{title:"Status",field:"status"}],actions:[{icon:"sentiment_satisfied_alt",tooltip:"Mark user as Trusted",onClick:function(e,t){b(t.id,"Trusted",t)}},{icon:"sentiment_very_dissatisfied",tooltip:"Mark user as Banned",onClick:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a.id,"Banned",a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],localization:{header:{actions:"Mark user status"}},data:a||[],title:"Users",options:{draggable:!1,sorting:!1,paging:!1,search:!1,actionsColumnIndex:-1}}))};var yr=function(){var e=ya(),t=e.userInfo;return e.userLoading?r.a.createElement(R,null):(null===t||void 0===t?void 0:t.roles.includes("Admin"))?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin/users"},r.a.createElement(gr,null)),r.a.createElement(s.a,{to:"/"})):r.a.createElement(s.a,{to:"/"})},Or=a(541),wr=a(398),jr=a.n(wr),Cr=a(397),xr=a.n(Cr);var kr=Object(I.a)((function(e){return{list:{flexGrow:1,"& > li":{border:"1px solid #ccc",marginBottom:"5px",borderRadius:e.shape.borderRadius,cursor:"pointer","&:hover":{background:e.palette.grey[200]}}},hidden:{display:"none"},read:{background:e.palette.grey[200],color:e.palette.text.primary},unread:{color:e.palette.text.primary},notFound:{textAlign:"center",marginTop:"100px",gridColumn:"1/-1"}}})),Sr=function(){var e=ya(),t=e.notifications,a=e.loadNotifications,n=kr();return r.a.useEffect((function(){var e=setTimeout(Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(e){return!e.read}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all(n.map((function(e){return N.Notifications.UpdateNotification(e.id)})));case 5:a();case 6:case"end":return e.stop()}}),e)}))),5e3);return function(){clearTimeout(e)}}),[t]),0===t.length?r.a.createElement("div",{className:n.notFound},r.a.createElement("h3",null,"Notifications about your activity will be displayed here.")):r.a.createElement(Ln.a,{className:n.list},t.map((function(e){var t=Boolean(e.link)?{component:i.b,to:e.link,onClick:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.Notifications.UpdateNotification(e.id);case 2:a();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}:{};return r.a.createElement(Gn.a,Object.assign({key:e.id,className:e.read?n.read:n.unread},t),r.a.createElement(Wn.a,null,r.a.createElement(xr.a,{className:e.read?n.hidden:"",color:"primary",fontSize:"large"})),r.a.createElement(qn.a,{primary:e.message,secondary:Ye()(e.publication_date).local().fromNow()}),r.a.createElement(Or.a,null,e.link&&r.a.createElement(L.a,{edge:"end","aria-label":"comments"},r.a.createElement(jr.a,null))))})))};var Fr=Object(I.a)((function(e){return{notFound:{textAlign:"center",marginTop:"100px",gridColumn:"1/-1"}}})),Nr=function(){var e=r.a.useState(),t=Object(d.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!0),c=Object(d.a)(l,2),o=c[0],s=c[1],u=Fr();return r.a.useEffect((function(){s(!0),N.Animals.GetAnimalsByUserId().then((function(e){n(e.data)})).catch((function(e){return console.error(e)})).finally((function(){s(!1)}))}),[]),r.a.createElement(wn.a,{item:!0,xs:12},r.a.createElement("h2",null,"Your animals"),r.a.createElement("hr",null),Boolean(o||(null===a||void 0===a?void 0:a.length))&&r.a.createElement(Ka,{isLoading:o,animals:a}),!o&&!(null===a||void 0===a?void 0:a.length)&&r.a.createElement("div",{className:u.notFound},r.a.createElement("h3",null,"Looks like you don't have animals yet!"),r.a.createElement(M.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(X.a,null),component:i.b,to:"/upload-animal"},"Upload an animal")))};var Ar=function(){var e=ya(),t=e.userInfo;return e.userLoading?r.a.createElement(R,null):t?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/user/notifications"},r.a.createElement(Sr,null)),r.a.createElement(s.b,{path:"/user/animals"},r.a.createElement(Nr,null)),r.a.createElement(s.a,{to:"/"})):r.a.createElement(s.a,{to:"/"})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null),r.a.createElement(i.a,null,r.a.createElement(ga,null,r.a.createElement(fr,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/recover-password"},r.a.createElement(V,null)),r.a.createElement(s.b,{path:"/upload-animal"},r.a.createElement($a,null)),r.a.createElement(s.b,{path:"/view-animal/:id"},r.a.createElement(an,null)),r.a.createElement(s.b,{path:"/search"},r.a.createElement(yn,null)),r.a.createElement(s.b,{path:"/admin"},r.a.createElement(yr,null)),r.a.createElement(s.b,{path:"/user"},r.a.createElement(Ar,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(Er,null)),r.a.createElement(s.a,{to:"/"})))))),document.getElementById("root"))}},[[405,1,2]]]);
//# sourceMappingURL=main.2451b339.chunk.js.map