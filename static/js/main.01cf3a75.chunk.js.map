{"version":3,"sources":["../node_modules/jspdf/dist sync","Images/about.JPG","config.ts","Services/WhereIsMyPetApiClient/Controllers/BaseController.ts","Services/WhereIsMyPetApiClient/Controllers/UserController.ts","Services/WhereIsMyPetApiClient/Controllers/AnimalController.ts","Services/WhereIsMyPetApiClient/Controllers/SpeciesController.ts","Services/WhereIsMyPetApiClient/Controllers/BreedController.ts","Services/WhereIsMyPetApiClient/Controllers/ImageRecognitionController.ts","Services/WhereIsMyPetApiClient/Controllers/NotificationController.ts","Services/WhereIsMyPetApiClient/Controllers/BookmarkController.ts","Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient.ts","Components/Loader.tsx","Components/Inputs/PasswordInput.tsx","Pages/RecoverPassword.tsx","Components/UploadAnimalForm/Fields/AnimalImageInput.tsx","Services/Geolocation/GeolocationService.ts","Components/Inputs/LocationInput.tsx","Components/UploadAnimalForm/Fields/SpeciesInput.tsx","Components/UploadAnimalForm/Fields/StatusInput.tsx","Components/UploadAnimalForm/Fields/BreedInput.tsx","Components/UploadAnimalForm/Fields/SizeInput.tsx","Components/UploadAnimalForm/Fields/AnimalGenderInput.tsx","Components/UploadAnimalForm/AnimalImagePreview.tsx","Components/UploadAnimalForm/UploadAnimalForm.tsx","Hooks/useAnimals.ts","Components/Icons/cat.svg","Components/Icons/dog.svg","Components/Icons/paws.svg","Components/ImagePreviewModal.tsx","Components/AnimalLocationMap.tsx","Components/Authentication.tsx","Hooks/useAuthentication.tsx","Components/LoginModal/SignUp.tsx","Components/LoginModal/SignIn.tsx","Components/LoginModal/LoginModal.tsx","Pages/ContactUserModal.tsx","Components/AnimalCard.tsx","Pages/NotFound.tsx","Components/Animals/AnimalList.tsx","Components/Animals/AnimalListContainer.tsx","Pages/UploadAnimal.tsx","Pages/NotExists.tsx","Pages/ViewAnimal.tsx","Components/Animals/AnimalFilters/BreedFilter.tsx","Components/Animals/AnimalFilters/SpeciesFilter.tsx","Components/Animals/AnimalFilters/FilterChips.tsx","Components/Animals/AnimalFilters/StatusFilter.tsx","Components/Animals/AnimalFilters/LocationFilter.tsx","Components/Animals/AnimalFilters/AnimalFilters.tsx","Pages/ViewAnimals.tsx","Components/Layouts/MainLayout/UserMenu.tsx","Components/Layouts/MainLayout/UserInfoButton.tsx","Components/Layouts/MainLayout/Header.tsx","Components/Layouts/MainLayout/Sidebar.tsx","Components/Layouts/MainLayout/MainLayout.tsx","Pages/Landing.tsx","Pages/Admin/AdminUsersPage.tsx","Pages/Admin/index.tsx","Pages/User/Notifications.tsx","Pages/User/UserAnimals.tsx","Pages/User/index.tsx","Pages/About.tsx","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Config","BASE_URL","BaseController","token","$WhereIsMyPetApiClient","getToken","authorization","method","params","headers","url","queryParams","axios","request","data","this","authHeader","UsersController","password","makeRequest","newPassword","usernameOrEmail","user","username","status","userId","receiverId","message","phone","email","AnimalsController","animal","FormData","Object","entries","forEach","key","value","append","imageName","recovered","SpeciesController","BreedsController","species","ImageRecognitionController","NotificationController","read","BookmarkController","animalId","Users","Animals","Species","Breeds","ImageRecognition","Notifications","Bookmarks","localStorage","getItem","setItem","removeItem","useStyles","position","makeStyles","loader","display","justifyContent","alignItems","top","left","width","height","background","zIndex","Loader","classes","className","CircularProgress","PasswordInput","props","React","useState","showPassword","setShowPassword","showPasswordButton","InputAdornment","IconButton","aria-label","onClick","onMouseDown","preventDefault","TextField","type","InputProps","endAdornment","RecoverPasswordWithoutToken","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","submitError","setSubmitError","emptyField","setEmptyField","invalidParams","setInvalidParams","setUsernameOrEmail","onSubmit","a","SendResetPassword","test","response","container","Alert","severity","label","onChange","currentTarget","variant","margin","fullWidth","Button","color","RecoverPasswordWithToken","setPassword","password2","setPassword2","passwordsDoNotMatch","setPasswordsDoNotMatch","ResetPassword","RecoverPassword","h","URLSearchParams","useLocation","search","get","theme","input","marginTop","marginBottom","wrapper","flexDirection","previewWrapper","border","palette","divider","borderRadius","shape","grey","cursor","preview","maxWidth","maxHeight","AnimalImageInput","inputRef","useRef","setPreview","current","click","fontSize","src","target","files","length","reader","FileReader","file","onloadend","result","readAsDataURL","ref","accept","geocodeBaseUrl","getAddress","lat","lng","Axios","getLatLon","getLocation","Promise","reject","navigator","geolocation","getCurrentPosition","LocationInput","inputProps","autolocate","displayValue","setDisplayValue","locateUser","currentLocation","locateCoord","coords","latitude","longitude","location","newValue","address","postcode","town","trim","locateUsingValue","lon","display_name","split","parseFloat","useEffect","locationButton","Tooltip","title","placement","onKeyDown","onBlur","Labels","CAT","DOG","OTHER","SpeciesInput","useFormikContext","handleChange","values","setSpecies","Get","then","FormControl","component","FormLabel","RadioGroup","row","name","map","specie","FormControlLabel","control","Radio","AnimalStatusInput","setFieldValue","Tabs","indicatorColor","_","Tab","EAnimalStatus","LOST","FOUND","createStyles","formControl","spacing","minWidth","selectEmpty","BreedInput","breeds","setBreeds","sort","InputLabel","htmlFor","Select","native","breed","disabled","SizeInput","useTheme","isSmallScreen","useMediaQuery","breakpoints","down","size","EAnimalSize","SMALL","MEDIUM","BIG","AnimalGenderInput","gender","EAnimalGender","MALE","FEMALE","flexGrow","AnimalImagePreview","images","defaultInitialValues","EMPTY","age","undefined","UploadAnimalForm","isValid","errors","form","statusInput","animalImageInput","locationInput","error","Boolean","helperText","uploadButton","gridGap","up","gridTemplateColumns","gridColumn","gridRow","UploadAnimalFormContainer","initialValues","createdAnimalId","setCreatedAnimalId","setSubmitting","UploadAnimal","validate","isNaN","to","Snackbar","open","autoHideDuration","onClose","useAnimals","filters","animals","setAnimals","isLoading","setIsLoading","hasMore","setHasMore","CreateBookmark","deleteBookmark","find","i","bookmark","getMoreAnimals","emptyList","currentAnimals","pageSize","GetAnimals","start","count","concat","console","setAnimalBookmark","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref","svgRef","x","y","viewBox","style","enableBackground","xmlSpace","fill","d","cx","cy","rx","ry","r","ForwardRef","forwardRef","overflow","closeIcon","right","ImagePreviewModal","children","DefaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","iconAnchor","Point","Marker","options","AnimalLocationMap","Map","center","zoom","TileLayer","attribution","onclick","window","AuthenticationContext","createContext","userInfo","loadUserData","logout","userLoading","notifications","loadNotifications","AuthenticationProvider","setUserLoading","setUserInfo","setNotifications","GetNotifications","newNotifications","all","GetUserInfo","interval","setInterval","clearInterval","Provider","clearToken","useAuthentication","useContext","surname","SignUpForm","field","meta","touched","button","minHeight","padding","SignUpFormContainer","SignUp","setToken","onSuccess","SignInForm","forgotPassword","Link","textAlign","SignInFormContainer","SignIn","paper","backgroundColor","paperContent","overflowY","LoginModal","currentTab","setCurrentTab","Dialog","isOpen","scroll","DialogContent","ContactUserModal","DialogTitle","required","rows","multiline","checkboxes","Checkbox","checked","FormHelperText","DialogActions","endIcon","ContactUserModalContainer","ContactUser","root","animalBadge","transform","media","transition","chips","bottom","textTransform","content","gridRowGap","order","borderTop","paddingTop","locationImage","objectFit","buttonsContainer","bookmarkButton","primary","main","AnimalCard","showImagePreviewModal","setShowImagePreviewModal","showContactModal","setShowContactModal","user_id","Card","CardActionArea","CardMedia","image","Image","image_name","Chip","toLowerCase","moment","publication_date","local","fromNow","distance","toFixed","stopPropagation","showDetails","CardContent","format","UpdateAnimal","loadAnimal","notFound","NotFound","list","viewMoreButton","AnimalList","AnimalListContainer","limit","slice","limitReached","spacer","anyOfThese","default","boxShadow","shadows","placeContent","marginLeft","formInitialValues","setFormInitialValues","showUploadForm","setShowUploadForm","UploadAnimalImage","notExists","NotExists","ViewAnimal","useParams","setNotFound","setAnimal","GetAnimalDetails","parseInt","catch","BreedFilter","SpeciesFilter","overflowX","FilterChips","setFilters","toLocaleLowerCase","onDelete","StatusFilter","LocationFilter","fab","dialog","AnimalFilters","getDefaultFilters","showFilters","setShowFilters","showImageFilter","setShowImageFilter","history","useHistory","push","toString","getQueryString","Fab","keepMounted","ViewAnimals","newFilters","UserMenu","anchorEl","anchor","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","elevation","MenuItem","UserInfoButton","modalOpen","setModalOpen","menuAnchorRef","menuOpen","setMenuOpen","showLoginButton","startIcon","menuButton","marginRight","textDecoration","secondary","contrastText","Header","openSidebar","numUnread","filter","AppBar","Toolbar","edge","Badge","badgeContent","Typography","SidebarLink","Icon","ListItem","ListItemIcon","ListItemText","fullList","Sidebar","close","showLoginModal","setShowLoginModal","Drawer","role","List","Divider","roles","includes","subheader","ListSubheader","MainLayout","sidebarOpen","setSidebarOpen","showBannedMessage","setShowBannedMessage","Container","Grid","justify","fontWeight","typography","fontWeightBold","h5","lost","found","gap","Landing","AdminUsersPage","users","setUsers","toastMessage","setToastMessage","loadUsers","GetUsersByStatus","changeUserStatus","UpdateUser","columns","actions","tooltip","localization","header","draggable","sorting","paging","actionsColumnIndex","AdminPages","path","hidden","text","unread","NotificationsPage","timer","setTimeout","notificationsToUpdate","n","UpdateNotification","clearTimeout","linkProps","link","ListItemSecondaryAction","UserAnimals","GetAnimalsByUserId","finally","item","xs","UserPages","body","backgroundImage","aboutImage","backgroundSize","backgroundPosition","backgroundRepeat","about","textWrapper","body1","iconsLink","caption","About","document","classList","add","remove","href","ReactDOM","render","StrictMode","CssBaseline","Authentication","Admin","User","getElementById"],"mappings":"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","file":"static/js/main.01cf3a75.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 365;","module.exports = __webpack_public_path__ + \"static/media/about.6948ef88.JPG\";","const isProduction = process.env.NODE_ENV === \"production\";\r\n\r\nconst Config = {\r\n    BASE_URL: isProduction ? \"https://where-is-my-pet.herokuapp.com\" : \"http://192.168.0.11:3001\",\r\n}\r\n\r\nexport default Config;","import axios from \"axios\";\r\nimport Config from \"../../../config\";\r\nimport $WhereIsMyPetApiClient from \"../WhereIsMyPetApiClient\";\r\n\r\ninterface IMakeRequestParams {\r\n    method: \"GET\" | \"POST\" | \"PATCH\" | \"DELETE\";\r\n    url: string;\r\n    params?: object;\r\n    queryParams?: object;\r\n    headers?: object;\r\n}\r\n\r\nabstract class BaseController {\r\n    private authHeader() {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return {};\r\n        }\r\n\r\n        return {\r\n            authorization: `Bearer ${token}`,\r\n        };\r\n    }\r\n\r\n    protected makeRequest<T = any>({ method, params = {}, headers = {}, url, queryParams = {} }: IMakeRequestParams) {\r\n        return axios.request<T>({\r\n            method,\r\n            url: `${Config.BASE_URL}${url}`,\r\n            data: params,\r\n            params: queryParams,\r\n            headers: {\r\n                ...headers,\r\n                ...this.authHeader()\r\n            },\r\n        })\r\n    }\r\n}\r\n\r\nexport default BaseController;\r\n","import BaseController from \"./BaseController\";\r\nimport $WhereIsMyPetApiClient from \"../WhereIsMyPetApiClient\";\r\n\r\nexport interface ISignUpParams {\r\n    name: string;\r\n    surname: string;\r\n    email: string;\r\n    phone: string;\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\nexport interface IUser {\r\n    id: number;\r\n    username: string;\r\n    name: string;\r\n    surname: string;\r\n    roles: string[];\r\n    status: string;\r\n}\r\n\r\nclass UsersController extends BaseController {\r\n    public ResetPassword(token: string, password: string) {\r\n        const url = \"/users/reset-password\";\r\n\r\n        return this.makeRequest<void>({\r\n            method: \"POST\",\r\n            url,\r\n            params: {token, newPassword: password}\r\n        })\r\n    }\r\n\r\n    public SendResetPassword( usernameOrEmail: string) {\r\n        const url = \"/users/reset-password-email\";\r\n\r\n        return this.makeRequest<void>({\r\n            method: \"POST\",\r\n            url,\r\n            params: { usernameOrEmail: usernameOrEmail }\r\n        })\r\n    }\r\n\r\n    public SignUp(user: ISignUpParams) {\r\n        const url = \"/users/sign-up\";\r\n\r\n        return this.makeRequest<{ token: string }>({\r\n            method: \"POST\",\r\n            url,\r\n            params: user\r\n        });\r\n    }\r\n\r\n    public SignIn(username: string, password: string) {\r\n        const url = \"/users/sign-in\";\r\n\r\n        return this.makeRequest<{ token: string }>({\r\n            method: \"POST\",\r\n            url,\r\n            params: { username, password }\r\n        });\r\n    }\r\n\r\n    public async GetUserInfo() {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return null;\r\n        }\r\n\r\n        return this.makeRequest<IUser>({\r\n            method: \"GET\",\r\n            url: \"/users\"\r\n        });\r\n\r\n    }\r\n\r\n    public async GetUsersByStatus(status: string[]) {\r\n        const url = \"/users/by-status\";\r\n\r\n        return this.makeRequest<IUser[]>({\r\n            method: \"GET\",\r\n            url,\r\n            queryParams: {status}    \r\n        })\r\n    }\r\n\r\n    public async UpdateUser(userId: number, user: Partial<IUser>) {\r\n\r\n        return this.makeRequest<void>({\r\n            method: \"PATCH\",\r\n            url: `/users/${userId}`,\r\n            params: user\r\n        })\r\n    }\r\n\r\n    public async ContactUser(receiverId: number, message: string, phone: boolean, email: boolean) {\r\n\r\n        return this.makeRequest<void>({\r\n            method: \"POST\",\r\n            url: `/users/${receiverId}/contact`,\r\n            params: {\r\n                message: message,\r\n                phone: phone,\r\n                email: email\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport default UsersController;\r\n","import BaseController from \"./BaseController\";\r\nimport { IAnimalFormValues, EAnimalStatus, EAnimalSize, EAnimalGender } from \"../../../Components/UploadAnimalForm/UploadAnimalForm\";\r\nimport Config from \"../../../config\";\r\n\r\nexport interface IAnimal {\r\n    id: number;\r\n    user_id:number;\r\n    status: EAnimalStatus;\r\n    species: string;\r\n    breed: string;\r\n    size: EAnimalSize;\r\n    color: string;\r\n    name: string;\r\n    gender: EAnimalGender;\r\n    age: string;\r\n    publication_date: string;\r\n    location: string;\r\n    lat: number;\r\n    lng: number;\r\n    image_name: string;\r\n    distance?: number;\r\n    recovered?: boolean;\r\n    bookmark?:boolean;\r\n}\r\n\r\nexport interface IGetAnimalsParams {\r\n        start?: number;\r\n        count?: number;\r\n        species?: string;\r\n        breed?: string;\r\n        status?: string;\r\n        lat?: number;\r\n        lng?: number;\r\n}\r\n\r\nclass AnimalsController extends BaseController {\r\n    public LocationImage(id: number): string {\r\n        return `${Config.BASE_URL}/animals/${id}/location.png`\r\n    }\r\n\r\n    public UploadAnimal(animal: IAnimalFormValues) {\r\n        const url = \"/animals\";\r\n\r\n        const data = new FormData();\r\n\r\n        Object.entries(animal).forEach(([key, value]) => {\r\n            if(value) {\r\n                data.append(key, value);\r\n            }\r\n        });\r\n\r\n\r\n        return this.makeRequest<{id: number}>({\r\n            method: \"POST\",\r\n            url,\r\n            params: data,\r\n        });\r\n    }\r\n\r\n    public GetAnimalDetails(id: number) {\r\n        return this.makeRequest <IAnimal>({\r\n             method: \"GET\",\r\n             url: `/animals/${id}`,\r\n         });\r\n    }\r\n\r\n    public Image(id: number, imageName: string): string {\r\n        return `${Config.BASE_URL}/animals/${id}/${imageName}.png`;\r\n    }\r\n\r\n    public GetAnimals (params: IGetAnimalsParams = {}) {\r\n        const queryParams: any = {};\r\n        Object.entries(params).forEach(([key, value]) => {\r\n            if(value) {\r\n                queryParams[key] = value;\r\n            }\r\n        });\r\n        return this.makeRequest <IAnimal[]>({\r\n            method: \"GET\",\r\n            url: `/animals`,\r\n            queryParams: queryParams,\r\n        });\r\n    }\r\n\r\n    public UpdateAnimal (id: number) {\r\n        return this.makeRequest <Partial<IAnimal>>({\r\n            method: \"PATCH\",\r\n            url: `/animals/${id}`,\r\n            params: { \r\n                recovered: true\r\n            },\r\n        });\r\n    };\r\n\r\n    public GetAnimalsByUserId () {\r\n        return this.makeRequest <IAnimal[]>({\r\n            method: \"GET\",\r\n            url: `/animals/uploaded`\r\n        });\r\n    };\r\n\r\n}\r\n\r\nexport default AnimalsController;\r\n","import BaseController from \"./BaseController\";\r\n\r\nclass SpeciesController extends BaseController {\r\n    public Get() {\r\n        return this.makeRequest<string[]>({\r\n            method: \"GET\",\r\n            url: \"/Species\",\r\n        });\r\n    }\r\n}\r\n\r\nexport default SpeciesController;\r\n","import BaseController from \"./BaseController\";\r\n\r\nclass BreedsController extends BaseController {\r\n    public Get(species: string) {\r\n        return this.makeRequest<string[]>({\r\n            method: \"GET\",\r\n            url: `/Breeds/${species}`,\r\n            \r\n        });\r\n    }\r\n}\r\n\r\nexport default BreedsController;\r\n","import BaseController from \"./BaseController\";\r\nimport { IAnimal} from \"./AnimalController\";\r\n\r\nclass ImageRecognitionController extends BaseController  {\r\n\r\n    public UploadAnimalImage ( imageName: File) {\r\n        const url = \"/image-recognition\";\r\n\r\n        const data = new FormData();\r\n\r\n        data.append(\"image\", imageName);\r\n\r\n        return this.makeRequest<Partial<IAnimal>>({\r\n            method: \"POST\",\r\n            url,\r\n            params: data,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default ImageRecognitionController;","import BaseController from \"./BaseController\";\r\nimport $WhereIsMyPetApiClient from \"../WhereIsMyPetApiClient\";\r\n\r\nexport interface INotification {\r\n    user_id: number;\r\n    message: string;\r\n    link: string;\r\n    read: boolean;\r\n    id: number;\r\n    publication_date: string;\r\n}\r\n\r\nclass NotificationController extends BaseController {\r\n\r\n    public GetNotifications () {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return null;\r\n        }\r\n        return this.makeRequest<INotification[]>({\r\n            method: \"GET\",\r\n            url: \"/notifications\"\r\n        });\r\n    };\r\n\r\n    public UpdateNotification (id: number) {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return null;\r\n        }\r\n        return this.makeRequest<void>({\r\n            method: \"PATCH\",\r\n            url: `/notifications/${id}`,\r\n            params: { \r\n                read: true\r\n            },\r\n        });\r\n    };\r\n}\r\n\r\nexport default NotificationController;","import BaseController from \"./BaseController\";\r\nimport $WhereIsMyPetApiClient from \"../WhereIsMyPetApiClient\";\r\nimport { IAnimal } from \"./AnimalController\";\r\n\r\nclass BookmarkController extends BaseController {\r\n\r\n    public GetAnimalsByUserId() {\r\n        return this.makeRequest<IAnimal[]>({\r\n            method: \"GET\",\r\n            url: \"/bookmarks\"\r\n        });\r\n    }\r\n\r\n    public CreateBookmark (animalId: number) {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return null;\r\n        }\r\n        return this.makeRequest<void>({\r\n            method: \"POST\",\r\n            url: `/bookmarks/${animalId}`\r\n        });\r\n    };\r\n\r\n    public deleteBookmark (animalId: number) {\r\n        const token = $WhereIsMyPetApiClient.getToken();\r\n\r\n        if (!token) {\r\n            return null;\r\n        }\r\n        return this.makeRequest<void>({\r\n            method: \"DELETE\",\r\n            url: `/bookmarks/${animalId}`\r\n        });\r\n    };\r\n}\r\n\r\nexport default BookmarkController;","import UsersController from './Controllers/UserController';\r\nimport AnimalsController from './Controllers/AnimalController';\r\nimport SpeciesController from './Controllers/SpeciesController';\r\nimport BreedsController from './Controllers/BreedController';\r\nimport ImageRecognitionController from './Controllers/ImageRecognitionController';\r\nimport NotificationController from './Controllers/NotificationController';\r\nimport BookmarkController from './Controllers/BookmarkController';\r\n\r\nclass WhereIsMyPetApiClient {\r\n    public Users = new UsersController();\r\n    public Animals = new AnimalsController();\r\n    public Species = new SpeciesController();\r\n    public Breeds = new BreedsController();\r\n    public ImageRecognition = new ImageRecognitionController();\r\n    public Notifications = new NotificationController();\r\n    public Bookmarks = new BookmarkController();\r\n\r\n    private token = \"\";\r\n\r\n    public getToken () {\r\n        if(this.token) {\r\n            return this.token;\r\n        }\r\n        this.token = localStorage.getItem(\"user_token\") || \"\";\r\n        return this.token;\r\n    }\r\n\r\n    public setToken (token: string) {\r\n        this.token = token;\r\n\r\n        localStorage.setItem(\"user_token\", token);\r\n    }\r\n\r\n    public clearToken() {\r\n        localStorage.removeItem(\"user_token\");\r\n        this.token = \"\";\r\n    }\r\n     \r\n}\r\n\r\nconst $WhereIsMyPetApiClient = new WhereIsMyPetApiClient();\r\n\r\nexport default $WhereIsMyPetApiClient;\r\n","import React from \"react\";\r\nimport { CircularProgress, makeStyles } from \"@material-ui/core\";\r\n\r\ninterface IProps {\r\n    position?: \"absolute\" | \"fixed\";\r\n}\r\n\r\nfunction Loader({position = \"absolute\"}: IProps) {\r\n    const classes = useStyles(position)();\r\n    return (\r\n        <div className={classes.loader}>\r\n            <CircularProgress />\r\n        </div>\r\n    )\r\n};\r\n\r\nconst useStyles = (position: \"absolute\" | \"fixed\") => makeStyles(\r\n    {\r\n        loader: {\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            position,\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            background: \"rgba(255, 255, 255, 0.7)\",\r\n            zIndex: 10\r\n        }\r\n    }\r\n);\r\n\r\nexport default Loader;","import React from \"react\";\r\nimport { TextFieldProps, InputAdornment, IconButton, TextField } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\nfunction PasswordInput(props: TextFieldProps) {\r\n    const [showPassword, setShowPassword] = React.useState(false);\r\n\r\n    const showPasswordButton = (\r\n        <InputAdornment position=\"end\">\r\n            <IconButton\r\n                aria-label=\"toggle password visibility\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                onMouseDown={(e) => { e.preventDefault(); }}\r\n            >\r\n                {showPassword ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n        </InputAdornment>\r\n    )\r\n\r\n    return (\r\n        <TextField {...props} type={showPassword ? \"text\" : \"password\"} InputProps={{ endAdornment: showPasswordButton }} />\r\n    )\r\n}\r\n\r\nexport default PasswordInput;\r\n","import React, { FormEvent } from 'react';\r\nimport $WhereIsMyPetApiClient from '../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { TextField, Button, makeStyles } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Loader from '../Components/Loader';\r\nimport PasswordInput from '../Components/Inputs/PasswordInput';\r\n\r\n\r\nfunction RecoverPassword() {\r\n    const query = new URLSearchParams(useLocation().search);\r\n    const h = query.get(\"h\");\r\n    \r\n    return (\r\n        <>\r\n            {!h && <RecoverPasswordWithoutToken />} \r\n            {h && <RecoverPasswordWithToken token={h} />}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction RecoverPasswordWithoutToken () {\r\n    const [isSubmitting, setIsSubmitting] = React.useState<boolean>(false);\r\n    const [submitSuccess, setSubmitSuccess] = React.useState<boolean>(false);\r\n    const [submitError, setSubmitError] = React.useState<boolean>(false);\r\n    const [emptyField, setEmptyField] = React.useState<boolean>(false);\r\n    const [invalidParams, setInvalidParams] = React.useState<boolean>(false);\r\n    const [usernameOrEmail, setUsernameOrEmail] = React.useState<string>(\"\");\r\n    const classes = useStyles();\r\n\r\n    const onSubmit = async (e: FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        setSubmitError(false);\r\n        setSubmitSuccess(false);\r\n        setEmptyField(false);\r\n        setInvalidParams(false);\r\n\r\n        if(!usernameOrEmail) {\r\n            setEmptyField(true);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setIsSubmitting(true);\r\n            await $WhereIsMyPetApiClient.Users.SendResetPassword(usernameOrEmail);\r\n            setSubmitSuccess(true);\r\n        } catch (e) {\r\n            if (/Invalid Username or Email/.test(e?.response?.data)){\r\n                setInvalidParams(true);\r\n                return;\r\n            }\r\n            setSubmitError(true);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.container}>\r\n            <h2>\r\n                Reset your password\r\n            </h2>\r\n            <p>\r\n                Enter your username or email to recover your account:\r\n            </p>\r\n            {submitSuccess && <Alert severity=\"success\">An email has been sent to your address. Please check your inbox.</Alert>}\r\n            {submitError && <Alert severity=\"error\">Ups - Something has gone wrong.</Alert>}\r\n            {emptyField && <Alert severity=\"warning\">Please, enter your username or email.</Alert>}\r\n            {invalidParams && <Alert severity=\"warning\">Invalid username or email.</Alert>}\r\n            <form onSubmit={onSubmit}>\r\n                <TextField\r\n                    type=\"text\"\r\n                    label=\"Username or Email\"\r\n                    onChange={(e) => setUsernameOrEmail(e.currentTarget.value)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                />\r\n                <br />\r\n                <br />\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                    Send recover email\r\n                </Button>\r\n            </form>\r\n            {isSubmitting && <Loader />}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction RecoverPasswordWithToken({token}: {token: string}) {\r\n    const [password, setPassword] = React.useState<string>(\"\");\r\n    const [password2, setPassword2] = React.useState<string>(\"\");\r\n    const [passwordsDoNotMatch, setPasswordsDoNotMatch] = React.useState<boolean>(false);\r\n    const [isSubmitting, setIsSubmitting] = React.useState<boolean>(false);\r\n    const [submitSuccess, setSubmitSuccess] = React.useState<boolean>(false);\r\n    const [submitError, setSubmitError] = React.useState<boolean>(false);\r\n    const classes = useStyles();\r\n    \r\n    const onSubmit = async (e: FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        setSubmitError(false);\r\n        setSubmitSuccess(false);\r\n        setPasswordsDoNotMatch(false);\r\n\r\n        if (!password || password !== password2) {\r\n            setPasswordsDoNotMatch(true);\r\n            return;\r\n        } else {\r\n            setPasswordsDoNotMatch(false);\r\n        }\r\n\r\n        try {\r\n            setIsSubmitting(true);\r\n            await $WhereIsMyPetApiClient.Users.ResetPassword(token, password);\r\n            setSubmitSuccess(true);\r\n        } catch(e) {\r\n            setSubmitError(true);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <h2>\r\n                Reset your password\r\n            </h2>\r\n            <p>\r\n                Enter a new password for your account:\r\n            </p>\r\n            {submitSuccess && <Alert severity=\"success\">Your password has been updated</Alert>}\r\n            {submitError && <Alert severity=\"error\">Ups - Something has gone wrong.</Alert>}\r\n            {passwordsDoNotMatch && <Alert severity=\"warning\">Passwords do not match</Alert>}\r\n            <form onSubmit={onSubmit}>\r\n                <PasswordInput\r\n                    type=\"password\"\r\n                    label=\"Password\"\r\n                    onChange={(e) => setPassword(e.currentTarget.value)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth \r\n                />\r\n                <PasswordInput \r\n                    type=\"password\"\r\n                    label=\"Repeat your password\"\r\n                    onChange={(e) => setPassword2(e.currentTarget.value)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth \r\n                />\r\n                <br />\r\n                <br />\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                    Reset Password\r\n                </Button>\r\n            </form>\r\n            {isSubmitting && <Loader />}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    container: {\r\n        position: \"relative\",\r\n    }\r\n}))\r\n\r\n\r\nexport default RecoverPassword;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport AddPhotoIcon from \"@material-ui/icons/AddAPhotoOutlined\";\r\n\r\ninterface IProps {\r\n    className?: string;\r\n    onChange?: (image: File, image_preview: string) => void;\r\n}\r\nfunction AnimalImageInput({className = \"\", onChange}: IProps) {\r\n    const inputRef = React.useRef<HTMLInputElement>(null);\r\n    const classes = useStyles();\r\n    const [preview, setPreview] = React.useState<string>(\"\");\r\n\r\n    function onChangeImage(e: React.ChangeEvent<HTMLInputElement>) {\r\n        e.preventDefault();\r\n\r\n        if (!e.target.files?.length) {\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n        const file = e.target.files[0];\r\n\r\n        reader.onloadend = () => {\r\n            if (typeof reader.result === \"string\") {\r\n                setPreview(reader.result);\r\n                if (onChange) {\r\n                    onChange(file, reader.result);\r\n                }\r\n                \r\n            }\r\n        }\r\n        \r\n        reader.readAsDataURL(file);\r\n    }\r\n    \r\n    return (\r\n        <div className={`${classes.wrapper} ${className}`}>\r\n            <div \r\n                className={`${classes.previewWrapper}`}\r\n                onClick={() => inputRef.current?.click()}\r\n            >\r\n                {!preview && <AddPhotoIcon fontSize=\"large\" color=\"disabled\"/>}\r\n                {preview && (\r\n                    <img src={preview} className={classes.preview} />\r\n                )}\r\n            </div>\r\n            <input \r\n                onChange={onChangeImage}\r\n                ref={inputRef}\r\n                className={classes.input}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    input: {\r\n        marginTop: \".5rem\",\r\n        marginBottom: \"1rem\"\r\n    },\r\n    wrapper: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\"\r\n    },\r\n    previewWrapper: {\r\n        width: \"100%\",\r\n        height: \"24rem\",        \r\n        border: `1px dashed ${theme.palette.divider}`,\r\n        borderRadius: theme.shape.borderRadius,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: theme.palette.grey[100],\r\n        cursor: \"pointer\"\r\n    },\r\n    preview: {\r\n        maxWidth: \"100%\",\r\n        maxHeight: \"100%\",\r\n    }\r\n}))\r\n\r\nexport default AnimalImageInput;\r\n","import Axios from \"axios\";\r\n\r\nconst geocodeBaseUrl = \"https://nominatim.openstreetmap.org\";\r\nexport async function getAddress(lat: number, lng: number) {\r\n    const response = await Axios.get(`${geocodeBaseUrl}/reverse?lat=${lat}&lon=${lng}&format=json`);\r\n    return response.data;\r\n}\r\n\r\nexport async function getLatLon(search: string) {\r\n    const response = await Axios.get(`${geocodeBaseUrl}/search?q=spain ${search}&format=json`);\r\n    return response.data[0];\r\n}\r\n\r\nexport function getLocation() {\r\n    return new Promise<Position | null>((resolve, reject) => {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(resolve, () => resolve(null));\r\n        } else {\r\n            resolve(null);\r\n        }\r\n    })\r\n}","import React from 'react';\r\nimport { TextFieldProps, IconButton, InputAdornment, TextField, Tooltip } from '@material-ui/core';\r\nimport GpsFixed from '@material-ui/icons/GpsFixed';\r\nimport { getLocation, getAddress, getLatLon } from '../../Services/Geolocation/GeolocationService';\r\ninterface IOwnProps {\r\n    inputProps?: TextFieldProps;\r\n    autolocate?: boolean;\r\n    onChange?: (lat: number | null, lng: number | null, location: string) => void;\r\n    value?: {lat: number, lng: number};\r\n}\r\n\r\nfunction LocationInput({ onChange = () => { }, inputProps, value, autolocate = true }: IOwnProps) {\r\n    const [displayValue, setDisplayValue] = React.useState(\"\");\r\n\r\n    async function locateUser() {\r\n        const currentLocation = await getLocation();\r\n        if(!currentLocation) {\r\n            return;\r\n        }\r\n        await locateCoord(currentLocation.coords.latitude, currentLocation.coords.longitude);\r\n    }\r\n\r\n    async function locateCoord(lat: number, lng: number) {\r\n        const location = await getAddress(lat, lng);\r\n        if (!location) {\r\n            return;\r\n        }\r\n\r\n        const newValue = `${location.address.postcode || \"\"} ${location.address.town || \"\"}`.trim();\r\n        setDisplayValue(newValue);\r\n\r\n        onChange(lat, lng, newValue);\r\n    }\r\n\r\n    async function locateUsingValue() {\r\n        if (!displayValue) {\r\n            onChange(null, null, \"\");\r\n            return;\r\n        }\r\n        const location = await getLatLon(displayValue);\r\n        if (!location) {\r\n            return;\r\n        }\r\n\r\n        const { lat, lon, display_name } = location;\r\n        const newValue = display_name.split(',')[0];\r\n        setDisplayValue(newValue);\r\n\r\n        onChange(parseFloat(lat), parseFloat(lon), newValue);\r\n    }\r\n\r\n\r\n    React.useEffect(() => { \r\n        if (autolocate) {\r\n            locateUser(); \r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (!value) {\r\n            setDisplayValue(\"\");\r\n            return;\r\n        }\r\n\r\n        locateCoord(value.lat, value.lng);\r\n    }, [value?.lat, value?.lng])\r\n\r\n\r\n    const locationButton = (\r\n        <InputAdornment position=\"end\">\r\n            <Tooltip title=\"Auto locate\" aria-label=\"add\" placement=\"right\">\r\n\r\n                <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={locateUser}\r\n                    onMouseDown={(e) => { e.preventDefault(); }}\r\n                >\r\n                    <GpsFixed />\r\n                </IconButton>\r\n            </Tooltip>\r\n        </InputAdornment>\r\n    )\r\n\r\n    return (\r\n        <TextField\r\n            type={\"text\"}\r\n            InputProps={{ endAdornment: locationButton }}\r\n            {...inputProps}\r\n            value={displayValue}\r\n            onChange={(e) => {\r\n                setDisplayValue(e.currentTarget.value);\r\n            }}\r\n            onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                    locateUsingValue();\r\n                }\r\n            }}\r\n            onBlur={locateUsingValue}\r\n            variant=\"outlined\"\r\n        />\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default LocationInput;","import React from \"react\";\r\nimport { FormControl, FormLabel, RadioGroup, FormControlLabel, Radio } from \"@material-ui/core\";\r\nimport { useFormikContext } from \"formik\";\r\nimport { IAnimalFormValues} from \"../UploadAnimalForm\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\n\r\nconst Labels = {\r\n    CAT: \"Cat\",\r\n    DOG: \"Dog\",\r\n    OTHER: \"Others\"\r\n};\r\n\r\nfunction SpeciesInput() {\r\n    const { handleChange, values } = useFormikContext<IAnimalFormValues>();\r\n\r\n    const [species, setSpecies] = React.useState<string[]>([]);\r\n\r\n    React.useEffect(() => {\r\n        $WhereIsMyPetApiClient.Species.Get()\r\n            .then(({data}) => setSpecies(data));\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <FormControl component=\"fieldset\" >\r\n            <FormLabel component=\"legend\" >Species</FormLabel>\r\n            <RadioGroup row aria-label=\"Species\" name=\"species\" value={values.species} onChange={handleChange} >\r\n                {species.map((specie) => (\r\n                    <FormControlLabel \r\n                        value={specie}\r\n                        control={< Radio />}\r\n                        // @ts-ignore\r\n                        label={Labels[specie] || \"\"} \r\n                    />\r\n                ))}\r\n            </RadioGroup>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport default SpeciesInput;","import React from \"react\";\r\nimport { Tabs, Tab } from \"@material-ui/core\";\r\nimport { useFormikContext } from \"formik\";\r\nimport { IAnimalFormValues, EAnimalStatus } from \"../UploadAnimalForm\";\r\n\r\n\r\n\r\nfunction AnimalStatusInput({className}: {className?: string}) {\r\n    const {values, setFieldValue} = useFormikContext<IAnimalFormValues>();\r\n    return (\r\n        <Tabs \r\n            value={values.status}\r\n            variant=\"fullWidth\"\r\n            indicatorColor=\"primary\"\r\n            onChange={(_, newValue) => setFieldValue(\"status\", newValue)}\r\n            className={className}\r\n        >\r\n            <Tab value={EAnimalStatus.LOST} label=\"Lost\" />\r\n            <Tab value={EAnimalStatus.FOUND} label=\"Found\" />\r\n        </Tabs>\r\n    )\r\n}\r\n\r\nexport default AnimalStatusInput;\r\n","import React from \"react\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport { Select, FormControl, InputLabel, createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport { useFormikContext } from \"formik\";\r\nimport { IAnimalFormValues } from \"../UploadAnimalForm\";\r\n\r\ninterface IProps {\r\n    species: string;\r\n}\r\nfunction BreedInput({species}: IProps) {\r\n    const [breeds, setBreeds] = React.useState<string[]>([]);\r\n    const {values, handleChange} = useFormikContext<IAnimalFormValues>();\r\n    const inputRef = React.useRef<HTMLInputElement>();\r\n    const classes = useStyles();\r\n    \r\n    React.useEffect(() => {\r\n        if (!species) {\r\n            return;\r\n        }\r\n        \r\n        $WhereIsMyPetApiClient.Breeds.Get(species)\r\n            .then(({ data }) => setBreeds(data.sort()));            \r\n    }, [species])\r\n\r\n    return (\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel htmlFor=\"outlined-age-native-simple\">Breed</InputLabel>\r\n            <Select\r\n                ref={inputRef}\r\n                native\r\n                value={breeds.length > 0 ? values.breed : \"\"}\r\n                onChange={handleChange}\r\n                label=\"Breed\"\r\n                inputProps={{\r\n                    name: 'breed',\r\n                    id: 'outlined-age-native-simple',\r\n                }}\r\n                disabled={!species}\r\n            >\r\n                <option aria-label=\"None\" value=\"\" />\r\n                {breeds.map((breed) => (\r\n                    <option value={breed}>{breed}</option>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            minWidth: 120,\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }),\r\n);\r\n\r\nexport default BreedInput;","import { useFormikContext } from \"formik\";\r\nimport { IAnimalFormValues, EAnimalSize } from \"../UploadAnimalForm\";\r\nimport React from \"react\";\r\nimport { FormControl, FormLabel, RadioGroup, FormControlLabel, Radio, useTheme, useMediaQuery } from \"@material-ui/core\";\r\n\r\nfunction SizeInput(){\r\n    const {values, handleChange} = useFormikContext<IAnimalFormValues>();\r\n    const theme = useTheme();\r\n    const isSmallScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n    return (\r\n        <FormControl component=\"fieldset\" >\r\n            <FormLabel component=\"legend\" >Size</FormLabel>\r\n            <RadioGroup \r\n                aria-label=\"Size\"\r\n                name=\"size\"\r\n                value={values.size}\r\n                onChange={handleChange}\r\n                row={isSmallScreen}\r\n            >\r\n                <FormControlLabel\r\n                    value={EAnimalSize.SMALL}\r\n                    control={< Radio />}\r\n                    label=\"Small\"\r\n                />\r\n                <FormControlLabel\r\n                    value={EAnimalSize.MEDIUM}\r\n                    control={< Radio />}\r\n                    label=\"Medium\"\r\n                />\r\n                <FormControlLabel\r\n                    value={EAnimalSize.BIG}\r\n                    control={< Radio />}\r\n                    label=\"Big\"\r\n                />\r\n            </RadioGroup>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport default SizeInput;","import React from 'react';\r\nimport { useFormikContext } from 'formik';\r\nimport { IAnimalFormValues, EAnimalGender } from '../UploadAnimalForm';\r\nimport { FormControl, FormLabel, RadioGroup, FormControlLabel, Radio } from '@material-ui/core';\r\n\r\nfunction AnimalGenderInput() {\r\n    const {values, handleChange} = useFormikContext<IAnimalFormValues>();\r\n\r\n    return (\r\n        <FormControl component=\"fieldset\" >\r\n            <FormLabel component=\"legend\" >Gender</FormLabel>\r\n            <RadioGroup\r\n                aria-label=\"Gender\"\r\n                name=\"gender\"\r\n                value={values.gender}\r\n                onChange={handleChange}\r\n                row\r\n            >\r\n                <FormControlLabel\r\n                    value={EAnimalGender.MALE}\r\n                    control={< Radio />}\r\n                    label=\"Male\"\r\n                />\r\n                <FormControlLabel\r\n                    value={EAnimalGender.FEMALE}\r\n                    control={< Radio />}\r\n                    label=\"Female\"\r\n                />\r\n            </RadioGroup>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport default AnimalGenderInput;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useFormikContext } from 'formik';\r\nimport { IAnimalFormValues } from './UploadAnimalForm';\r\ninterface IProps {\r\n    className?: string;\r\n}\r\nfunction AnimalImagePreview({className = \"\"}: IProps) {\r\n    const classes = useStyles();\r\n    const [preview, setPreview] = React.useState<string>(\"\");\r\n    const {values} = useFormikContext<IAnimalFormValues>();\r\n\r\n    React.useEffect(() => {\r\n        if (!values.images) {\r\n            setPreview(\"\");\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();        \r\n\r\n        reader.onloadend = () => {\r\n            if (typeof reader.result === \"string\") {\r\n                setPreview(reader.result);                     \r\n            }\r\n        }\r\n        \r\n        reader.readAsDataURL(values.images);\r\n\r\n    }, [values.images])\r\n    \r\n    return (\r\n        <div className={`${classes.wrapper} ${className}`}>\r\n            <div \r\n                className={`${classes.previewWrapper}`}\r\n            >\r\n                {preview && (\r\n                    <img src={preview} className={classes.preview} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    },\r\n    previewWrapper: {\r\n        width: \"100%\",\r\n        height: \"24rem\",\r\n        flexGrow: 1,\r\n        border: `1px dashed ${theme.palette.divider}`,\r\n        borderRadius: theme.shape.borderRadius,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: theme.palette.grey[100],\r\n        // cursor: \"pointer\"\r\n    },\r\n    preview: {\r\n        maxWidth: \"100%\",\r\n        maxHeight: \"100%\",\r\n    }\r\n}))\r\n\r\nexport default AnimalImagePreview;\r\n","import React from 'react';\r\nimport { Formik, FormikHelpers, Form, useFormikContext, Field } from 'formik';\r\nimport { TextField } from 'formik-material-ui';\r\nimport { Button, makeStyles, Snackbar } from '@material-ui/core';\r\nimport LocationInput from '../Inputs/LocationInput';\r\nimport SpeciesInput from './Fields/SpeciesInput';\r\nimport AnimalStatusInput from './Fields/StatusInput';\r\nimport BreedInput from './Fields/BreedInput';\r\nimport SizeInput from './Fields/SizeInput';\r\nimport AnimalGenderInput from './Fields/AnimalGenderInput';\r\nimport $WhereIsMyPetApiClient from '../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { Redirect } from 'react-router-dom';\r\nimport AnimalImagePreview from './AnimalImagePreview';\r\nimport Loader from '../Loader';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nexport enum EAnimalStatus {\r\n    LOST = \"LOST\",\r\n    FOUND = \"FOUND\",\r\n}\r\n\r\nexport enum EAnimalSize {\r\n    SMALL = \"SMALL\",\r\n    MEDIUM = \"MEDIUM\",\r\n    BIG = \"BIG\",\r\n    EMPTY = \"\",\r\n}\r\n\r\nexport enum EAnimalGender {\r\n    MALE = \"MALE\",\r\n    FEMALE = \"FEMALE\",\r\n    EMPTY = \"\",\r\n}\r\n\r\nexport interface IAnimalFormValues {\r\n    status: EAnimalStatus;\r\n    species: string;\r\n    breed: string;\r\n    size: EAnimalSize;\r\n    color: string;\r\n    name: string;\r\n    gender: EAnimalGender;\r\n    age: string;\r\n    lat?: number;\r\n    lng?: number;\r\n    location: string;\r\n    images?: File;\r\n}\r\n\r\nconst defaultInitialValues: IAnimalFormValues = {\r\n    status: EAnimalStatus.LOST,\r\n    species: \"\",\r\n    breed: \"\",\r\n    size: EAnimalSize.EMPTY,\r\n    color: \"\",\r\n    name: \"\",\r\n    gender: EAnimalGender.EMPTY,\r\n    age: \"\",\r\n    lat: undefined,\r\n    lng: undefined,\r\n    location: \"\",\r\n    images: undefined,\r\n}\r\n\r\ninterface IProps {\r\n    initialValues: Partial<IAnimalFormValues>;\r\n}\r\n\r\nfunction UploadAnimalFormContainer({initialValues}: IProps) {\r\n    const [createdAnimalId, setCreatedAnimalId] = React.useState(-1);\r\n    const [submitError, setSubmitError] = React.useState(\"\");\r\n    async function onSubmit(values: IAnimalFormValues, { setSubmitting }: FormikHelpers<IAnimalFormValues>) {\r\n        try {\r\n            const response = await $WhereIsMyPetApiClient.Animals.UploadAnimal(values);\r\n            setCreatedAnimalId(response.data.id);\r\n        } catch (e) {\r\n            if (e?.response?.status === 403) {\r\n                setSubmitError(\"Your account is suspended. Check your email for further details.\");\r\n            } else {\r\n                setSubmitError(\"Something went wrong. Please try again later.\");\r\n            }\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n\r\n    function validate(values: IAnimalFormValues) {\r\n        let errors = {};\r\n        if (!values.status) {\r\n            // @ts-ignore\r\n            errors.status = \"You must enter the status for the animal\";\r\n        }\r\n        if (!values.species) {\r\n            // @ts-ignore\r\n            errors.species = \"You must enter the species for the animal\";\r\n        }\r\n        if(!values.lat || !values.lng) {\r\n            // @ts-ignore\r\n            errors.lat = \"Location is required\";\r\n            // @ts-ignore\r\n            errors.lng = \"Location is required\";\r\n        }\r\n        if (values.age && isNaN(parseFloat(values.age))) {\r\n            // @ts-ignore\r\n            errors.age = \"Age must be a number\";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Formik\r\n                initialValues={{...defaultInitialValues, ...initialValues}}\r\n                onSubmit={onSubmit}\r\n                validate={validate}\r\n            >\r\n                <UploadAnimalForm />\r\n            </Formik>\r\n            {createdAnimalId !== -1 && (\r\n                <Redirect to={`/view-animal/${createdAnimalId}`}/>\r\n            )}\r\n            <Snackbar open={Boolean(submitError)} autoHideDuration={6000} onClose={() => setSubmitError(\"\")}>\r\n                <Alert onClose={() => setSubmitError(\"\")} severity=\"error\">\r\n                    {submitError}\r\n                </Alert>\r\n            </Snackbar>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction UploadAnimalForm() {\r\n    const { isSubmitting, isValid, setFieldValue, values, errors } = useFormikContext<IAnimalFormValues>();\r\n    const classes = useStyles();\r\n    return (\r\n        <Form className={classes.form}>\r\n            <AnimalStatusInput className={classes.statusInput} />\r\n            <SpeciesInput />\r\n            <BreedInput species={values.species} />\r\n            <AnimalImagePreview className={classes.animalImageInput} />\r\n            <SizeInput />\r\n            <Field\r\n                component={TextField}\r\n                name=\"color\"\r\n                label=\"Color\"\r\n                variant=\"outlined\"\r\n            />\r\n            {values.status === EAnimalStatus.LOST && (\r\n                <>\r\n                    <Field\r\n                        component={TextField}\r\n                        name=\"age\"\r\n                        label=\"Pet Age (Years)\"\r\n                        variant=\"outlined\"\r\n                        type=\"number\"\r\n                    />\r\n                    <AnimalGenderInput />\r\n                    <Field\r\n                        component={TextField}\r\n                        name=\"name\"\r\n                        label=\"Pet name\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </>\r\n            )}\r\n            <LocationInput\r\n                inputProps={{\r\n                    label: \"Enter your town or postcode\",\r\n                    className: classes.locationInput,\r\n                    error: Boolean(errors.lat),\r\n                    helperText: errors.lat,\r\n                }}\r\n                onChange={(lat, lng, location) => {\r\n                    setFieldValue(\"lat\", lat);\r\n                    setFieldValue(\"lng\", lng);\r\n                    setFieldValue(\"location\", location);\r\n                }}\r\n            />\r\n            <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={isSubmitting || !isValid}\r\n                className={classes.uploadButton}\r\n            >\r\n                UPLOAD\r\n            </Button>\r\n            {isSubmitting && <Loader position=\"fixed\"/>}\r\n        </Form>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    form: {\r\n        display: \"grid\",\r\n        gridGap: \"15px\",\r\n        width: \"100%\",\r\n        justifyContent: \"center\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridTemplateColumns: \"1fr 1fr\",\r\n        }\r\n    },\r\n    statusInput: {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridColumn: \"span 2\",\r\n        }\r\n    },\r\n    uploadButton: {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridColumn: \"span 2\",\r\n        }\r\n    },\r\n    locationInput: {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridColumn: \"span 2\",\r\n        }\r\n    },\r\n    animalImageInput: {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridRow: \"span 5\",\r\n        }\r\n    }\r\n}))\r\nexport default UploadAnimalFormContainer;","import * as React from \"react\";\r\nimport { IAnimal } from \"../Services/WhereIsMyPetApiClient/Controllers/AnimalController\";\r\nimport $WhereIsMyPetApiClient from \"../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport { EAnimalStatus } from \"../Components/UploadAnimalForm/UploadAnimalForm\";\r\n\r\nexport interface IAnimalFilters {\r\n    species?: string;\r\n    breed?: string;\r\n    status?: EAnimalStatus;\r\n    lat?: number;\r\n    lng?: number;\r\n    location?: string;\r\n}\r\n\r\nfunction useAnimals(filters?: IAnimalFilters) {\r\n    const [animals, setAnimals] = React.useState<IAnimal[]>();\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n    const [hasMore, setHasMore] = React.useState(false);\r\n\r\n    const breed = filters?.breed;\r\n    const species = filters?.species;\r\n    const status = filters?.status;\r\n    const lat = filters?.lat;\r\n    const lng = filters?.lng;\r\n\r\n    async function setAnimalBookmark(animalId: number, value: boolean) {\r\n        if (!animals) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (value) {\r\n                await $WhereIsMyPetApiClient.Bookmarks.CreateBookmark(animalId);\r\n            } else {\r\n                await $WhereIsMyPetApiClient.Bookmarks.deleteBookmark(animalId);\r\n            }\r\n\r\n            const animal = animals?.find(i => i.id === animalId);\r\n            if (!animal) {\r\n                return;\r\n            }\r\n            animal.bookmark = value;\r\n\r\n            setAnimals([...animals]);\r\n        } catch(e) {\r\n\r\n        }\r\n    }\r\n\r\n    async function getMoreAnimals(emptyList = false) {\r\n        setIsLoading(true);\r\n        \r\n        let currentAnimals = animals || [];\r\n        if (emptyList) {\r\n            currentAnimals = [];\r\n        }\r\n\r\n        const pageSize = 6;\r\n        try {\r\n            const {data} = await $WhereIsMyPetApiClient.Animals.GetAnimals({\r\n                breed: breed,\r\n                species: species,\r\n                status: status,\r\n                lat: lat,\r\n                lng: lng,\r\n                start: currentAnimals.length,\r\n                count: pageSize,\r\n            });\r\n    \r\n            setAnimals(currentAnimals.concat(data));\r\n            setHasMore(data.length === pageSize);\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!filters) {\r\n            return;\r\n        }\r\n\r\n        getMoreAnimals(true);\r\n    }, [filters]);\r\n\r\n    return {\r\n        animals,\r\n        isLoading,\r\n        getMoreAnimals,\r\n        hasMore,\r\n        setAnimalBookmark\r\n    };\r\n}\r\n\r\nexport default useAnimals;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCat = function SvgCat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC850\"\n    },\n    d: \"M444.379,3.741c10.828-8.798,27.018-1.092,27.018,12.859v222.01l-182.26-107.699L444.379,3.741z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#EBAF4B\"\n    },\n    d: \"M454.828,228.819l-110.973-65.574l92.462-104.241c6.465-7.288,18.511-2.716,18.511,7.027V228.819z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC850\"\n    },\n    d: \"M67.619,3.741C56.79-5.057,40.601,2.649,40.601,16.6v222.01l182.26-107.699L67.619,3.741z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#EBAF4B\"\n    },\n    d: \"M57.17,228.819l110.973-65.574L75.681,59.004c-6.465-7.288-18.511-2.716-18.511,7.027 C57.17,66.031,57.17,228.819,57.17,228.819z\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    style: {\n      fill: \"#FFDC64\"\n    },\n    cx: 255.999,\n    cy: 292.46,\n    rx: 231.97,\n    ry: 219.54\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FF8087\"\n    },\n    d: \"M289.137,429.155v16.569c0,18.302-14.836,33.138-33.138,33.138l0,0 c-18.302,0-33.138-14.836-33.138-33.138v-16.569l33.138-16.569L289.137,429.155z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M274.293,343.862h-36.588c-7.899,0-12.273,9.157-7.307,15.3l18.295,22.634 c3.76,4.651,10.852,4.651,14.613,0l18.295-22.634C286.566,353.019,282.193,343.862,274.293,343.862z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E1A546\"\n    },\n    d: \"M479.673,437.439c-1.286,0-2.593-0.299-3.815-0.934c-50.092-26.047-128.491-41.524-129.28-41.678 c-4.49-0.874-7.419-5.226-6.545-9.717c0.878-4.494,5.186-7.427,9.717-6.545c3.301,0.643,81.515,16.076,133.754,43.239 c4.057,2.112,5.639,7.111,3.527,11.173C485.555,435.813,482.667,437.439,479.673,437.439z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E1A546\"\n    },\n    d: \"M496.255,379.451c-0.712,0-1.436-0.093-2.156-0.287c-46.435-12.483-130.87-10.113-131.703-10.077 c-4.652,0.134-8.398-3.459-8.531-8.03c-0.138-4.575,3.459-8.394,8.03-8.531c3.56-0.113,87.736-2.476,136.509,10.635 c4.417,1.189,7.035,5.732,5.849,10.153C503.257,377.012,499.912,379.447,496.255,379.451z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC850\"\n    },\n    d: \"M313.991,495.431c-128.112,0-231.967-98.291-231.967-219.54c0-89.035,56.034-165.634,136.518-200.081 C108.248,92.762,24.032,183.285,24.032,292.46C24.032,413.709,127.887,512,255.999,512c34.037,0,66.328-6.995,95.449-19.459 C339.25,494.416,326.748,495.431,313.991,495.431z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E1A546\"\n    },\n    d: \"M32.324,437.439c-2.993,0-5.882-1.622-7.358-4.462c-2.112-4.061-0.53-9.061,3.527-11.173 c52.24-27.163,130.453-42.596,133.754-43.239c4.494-0.902,8.839,2.055,9.717,6.545c0.874,4.49-2.055,8.843-6.545,9.717 c-0.789,0.154-79.189,15.631-129.28,41.678C34.917,437.14,33.611,437.439,32.324,437.439z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E1A546\"\n    },\n    d: \"M15.743,379.451c-3.657,0-7.002-2.439-7.997-6.137c-1.185-4.421,1.432-8.964,5.849-10.153 c48.777-13.115,132.941-10.736,136.509-10.635c4.571,0.138,8.167,3.956,8.03,8.531c-0.138,4.571-4.098,8.196-8.531,8.03 c-0.849-0.028-85.297-2.407-131.703,10.077C17.179,379.358,16.455,379.451,15.743,379.451z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M160.727,321.456L160.727,321.456c-15.948,0-28.996-13.048-28.996-28.996v-16.569 c0-15.948,13.048-28.996,28.996-28.996l0,0c15.948,0,28.996,13.048,28.996,28.996v16.569 C189.723,308.407,176.675,321.456,160.727,321.456z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M160.727,246.895c-1.418,0-2.778,0.221-4.142,0.421v41.002c0,9.151,7.418,16.569,16.569,16.569 s16.569-7.418,16.569-16.569v-12.427C189.723,259.943,176.674,246.895,160.727,246.895z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    cx: 160.729,\n    cy: 267.61,\n    r: 12.427\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M351.271,321.456L351.271,321.456c-15.948,0-28.996-13.048-28.996-28.996v-16.569 c0-15.948,13.048-28.996,28.996-28.996l0,0c15.948,0,28.996,13.048,28.996,28.996v16.569 C380.267,308.407,367.219,321.456,351.271,321.456z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M351.271,246.895c-1.418,0-2.778,0.221-4.142,0.421v41.002c0,9.151,7.418,16.569,16.569,16.569 s16.569-7.418,16.569-16.569v-12.427C380.267,259.943,367.219,246.895,351.271,246.895z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    cx: 351.269,\n    cy: 267.61,\n    r: 12.427\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M262.408,382.15l-18.295-36.215c-0.332-0.658-0.518-1.378-0.769-2.074h-5.639 c-7.899,0-12.273,9.157-7.308,15.3l18.295,22.634c3.55,4.39,9.981,4.485,13.863,0.587 C262.511,382.297,262.453,382.239,262.408,382.15z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E6646E\"\n    },\n    d: \"M255.999,412.586l-33.138,16.569v16.569c0,2.629,0.383,5.154,0.961,7.606 c8.337-1.034,16.389-3.449,23.892-7.153v7.831c0,4.575,3.709,8.285,8.285,8.285c4.576,0,8.285-3.709,8.285-8.285v-7.83 c7.504,3.704,15.556,6.119,23.892,7.152c0.578-2.452,0.961-4.978,0.961-7.606v-16.569L255.999,412.586z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#EBAF4B\"\n    },\n    d: \"M297.422,437.439c-11.719,0-23.013-3.483-32.653-10.073c-5.162-3.527-12.374-3.527-17.544,0 c-9.636,6.59-20.93,10.073-32.649,10.073c-14.259,0-27.993-5.275-38.672-14.85c-3.406-3.058-3.689-8.297-0.635-11.703 s8.281-3.689,11.703-0.635c13.911,12.483,35.683,13.847,50.905,3.434c10.841-7.403,25.408-7.403,36.241,0 c15.226,10.408,37.001,9.041,50.913-3.43c3.402-3.05,8.636-2.775,11.699,0.639c3.054,3.406,2.767,8.645-0.639,11.699 C325.41,432.168,311.681,437.439,297.422,437.439z\"\n  }), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cat.872640e1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgDog = function SvgDog(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#F5DCB4\"\n    },\n    d: \"M437.677,45.419h-82.581C325.161,57.29,318.525,37.161,256,37.161s-69.161,20.129-99.097,8.258 h-82.58L63.312,252.904c6.882,81.548,57.462,125.935,97.377,142.107h190.623c39.914-16.172,90.495-60.559,97.377-142.107 L437.677,45.419z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M355.097,45.419C448.078,73.25,397.46,216.774,457.33,278.813c8.595,8.906,23.781,4.95,27.368-6.895 c4.74-15.651,9.474-40.411,8.721-75.789C492.387,147.613,512,144.517,512,144.517S487.226,28.903,412.903,28.903 C388.129,28.903,355.097,45.419,355.097,45.419z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M169.29,260.129L169.29,260.129c-15.897,0-28.903-13.006-28.903-28.903v-16.516 c0-15.897,13.006-28.903,28.903-28.903l0,0c15.897,0,28.903,13.006,28.903,28.903v16.516 C198.194,247.124,185.187,260.129,169.29,260.129z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M169.29,185.806c-1.413,0-2.769,0.221-4.129,0.419v40.871c0,9.121,7.395,16.516,16.516,16.516 c9.122,0,16.516-7.395,16.516-16.516v-12.386C198.194,198.814,185.187,185.806,169.29,185.806z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    cx: 169.29,\n    cy: 206.451,\n    r: 12.387\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M342.71,260.129L342.71,260.129c-15.897,0-28.903-13.006-28.903-28.903v-16.516 c0-15.897,13.006-28.903,28.903-28.903l0,0c15.897,0,28.903,13.006,28.903,28.903v16.516 C371.613,247.124,358.606,260.129,342.71,260.129z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M342.71,185.806c-1.413,0-2.769,0.221-4.129,0.419v40.871c0,9.121,7.395,16.516,16.516,16.516 c9.122,0,16.516-7.395,16.516-16.516v-12.386C371.613,198.814,358.606,185.806,342.71,185.806z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    cx: 342.71,\n    cy: 206.451,\n    r: 12.387\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#824641\"\n    },\n    d: \"M457.33,278.814c8.595,8.906,23.781,4.95,27.368-6.896c2.718-8.976,5.399-21.06,7.08-36.313 c-16.234-8.092-30.092-33.91-38.617-77.669C437.677,78.452,416,34.065,355.097,45.419C448.078,73.25,397.46,216.775,457.33,278.814z \"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E7C9A5\"\n    },\n    d: \"M160.689,395.011h39.141c0,0-68.732-46.107-80.087-127.656 C97.654,108.712,139.7,61.247,176.067,49.135c-5.761,0.195-11.745-0.774-19.163-3.715H74.323L63.312,252.904 C70.194,334.452,120.774,378.839,160.689,395.011z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M156.903,45.419C63.922,73.25,114.541,216.775,54.67,278.813c-8.595,8.906-23.781,4.95-27.368-6.895 c-4.74-15.651-9.474-40.411-8.721-75.789C19.613,147.613,0,144.517,0,144.517S24.774,28.903,99.097,28.903 C123.871,28.903,156.903,45.419,156.903,45.419z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#824641\"\n    },\n    d: \"M154.139,44.104c-8.38-3.888-34.516-15.201-55.042-15.201C24.774,28.903,0,144.517,0,144.517 s19.613,3.097,18.581,51.613c-0.014,0.648,0.005,1.231-0.005,1.872C66.097,17.715,139.119,37.773,154.139,44.104z\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    style: {\n      fill: \"#BC8E78\"\n    },\n    cx: 256,\n    cy: 400.52,\n    rx: 90.84,\n    ry: 66.06\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FF8087\"\n    },\n    d: \"M214.71,400.516v41.29c0,22.804,18.486,41.29,41.29,41.29s41.29-18.486,41.29-41.29v-41.29H214.71z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E6646E\"\n    },\n    d: \"M214.71,432.768c11.941-1.496,23.208-5.129,33.032-10.622v11.402c0,4.56,3.698,8.258,8.258,8.258 s8.258-3.698,8.258-8.258v-11.507c9.729,5.552,21.026,9.225,33.032,10.73v-32.256h-82.58V432.768z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#D4AF91\"\n    },\n    d: \"M309.677,326.194H202.323c-34.206,0-61.935,20.335-61.935,45.419s27.73,45.419,61.935,45.419 c17.225,0,32.782-5.169,43.995-13.498c2.839-2.108,6.262-3.162,9.679-3.162c3.423,0,6.846,1.053,9.685,3.162 c11.213,8.329,26.77,13.498,43.995,13.498c34.206,0,61.935-20.335,61.935-45.419C371.613,346.529,343.883,326.194,309.677,326.194z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#5D5360\"\n    },\n    d: \"M256,293.161c27.365,0,49.548,14.789,49.548,33.032c0,17.594-20.824,26.858-35.853,33.708 c-8.712,3.971-18.68,3.971-27.392,0c-15.029-6.85-35.853-16.114-35.853-33.708C206.452,307.951,228.635,293.161,256,293.161z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4B3F4E\"\n    },\n    d: \"M230.968,317.161c-1.155-10.393,6.166-21.507,6.166-21.507 c-18.003,4.949-30.682,16.751-30.682,30.539c0,17.593,20.824,26.857,35.853,33.708c8.711,3.97,18.68,3.97,27.392,0 c3.232-1.473,6.732-3.069,10.235-4.824C259.613,351.484,233.29,338.065,230.968,317.161z\"\n  }), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDog, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dog.9694d09e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgPaws = function SvgPaws(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 511.999 511.999\",\n    style: {\n      enableBackground: \"new 0 0 511.999 511.999\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M111.278,64.419c10.964,17.295,13.243,45.318-0.56,53.676s-38.461-6.113-49.424-23.408 s-7.135-35.682,6.668-44.041S100.314,47.124,111.278,64.419z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M44.205,120.969c13.346,11.691,22.451,34.376,13.458,44.642 c-8.993,10.266-32.679,4.226-46.025-7.465s-15.016-27.863-6.023-38.129S30.859,109.278,44.205,120.969z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M227.671,83.286c-7.658,16.005-7.084,40.442,5.227,46.333s31.699-8.997,39.357-25.002 s2.818-31.526-9.493-37.416C250.45,61.311,235.328,67.281,227.671,83.286z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M242.305,192.207c-9.511-36.307-39.439-47.688-52.312-51.323 c-14.397-4.066-30.332-5.224-46.488-1.906c-47.915,9.841-79.289,54.181-71.908,90.117c7.381,35.936,47.752,35.401,95.668,25.56 C215.181,244.814,251.602,227.696,242.305,192.207z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M201.229,67.6c-3.311,20.208-20.242,42.654-36.109,39.719s-24.662-30.139-21.351-50.347 s18.397-31.396,34.264-28.461S204.54,47.392,201.229,67.6z\"\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M111.226,237.349c-9.056-31.07,0.566-69.672,23.24-96.041 c-42.749,13.199-69.774,54.166-62.868,87.787c5.014,24.413,25.274,31.969,52.76,31.236 C118.705,255.005,114.203,247.564,111.226,237.349z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M22.284,140.993c-8.216-7.284-12.81-15.616-14.05-23.377c-0.904,0.755-1.822,1.491-2.619,2.402 c-8.993,10.266-7.323,26.438,6.022,38.129c13.346,11.691,37.033,17.731,46.025,7.465c1.95-2.226,2.908-5.107,3.298-8.261 C49.144,157.481,33.098,150.581,22.284,140.993z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M79.409,84.845c-7.526-14.148-7.937-27.746-3.072-37.398c-2.898,0.639-5.737,1.602-8.375,3.199 c-13.802,8.358-17.631,26.746-6.667,44.041c10.963,17.295,35.621,31.766,49.424,23.408c0.477-0.289,0.788-0.77,1.227-1.105 C99.688,111.366,86.598,98.359,79.409,84.845z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M161.505,61.914c5.444-15.335,15.859-25.202,27.585-28.663c-3.246-2.335-6.966-3.984-11.056-4.741 c-15.867-2.935-30.953,8.253-34.264,28.461c-2.886,17.614,3.43,40.531,15.604,48.071C156.112,91.5,156.835,75.067,161.505,61.914z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M243.643,91.037c9.018-9.581,19.842-13.777,29.73-13.162c-2.235-4.64-5.842-8.392-10.611-10.673 c-12.312-5.89-27.433,0.08-35.091,16.085c-6.186,12.928-6.872,31.201-0.468,40.914C229.108,112.582,235.367,99.829,243.643,91.037z \"\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M384.511,279.84c-0.512,20.471-14.207,45.025-30.327,44.291 c-16.119-0.733-28.558-26.476-28.047-46.947s13.922-33.62,30.042-32.887C372.299,245.031,385.023,259.369,384.511,279.84z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M297.315,289.516c4.586,17.14-0.468,41.055-13.653,44.583 c-13.184,3.528-29.506-14.669-34.092-31.808c-4.586-17.14,3.023-31.507,16.208-35.034 C278.963,263.729,292.73,272.376,297.315,289.516z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M470.732,360.272c-15.267,9.039-28.386,29.665-21.433,41.409c6.953,11.744,31.346,10.16,46.613,1.12 s19.88-24.629,12.927-36.373C501.886,354.684,485.999,351.232,470.732,360.272z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M422.297,458.922c12.295-35.46-6.242-61.568-14.916-71.75 c-9.701-11.389-22.299-21.216-37.569-27.446c-45.29-18.479-96.029,0.911-109.888,34.879c-13.86,33.968,19.985,55.983,65.276,74.462 C370.491,487.546,410.278,493.585,422.297,458.922z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#AF6E5A\"\n    },\n    d: \"M457.487,332.526c-13.994,14.95-40.55,24.183-52.102,12.916 c-11.552-11.266-3.726-38.765,10.268-53.714s32.754-15.854,44.306-4.588C471.511,298.407,471.481,317.577,457.487,332.526z\"\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M288.261,423.509c9.76-30.856,39.231-57.58,72.742-66.877 c-42.865-12.815-88.113,6.192-101.079,37.972c-9.415,23.075,3.216,40.626,26.464,55.308 C284.653,442.341,285.052,433.654,288.261,423.509z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M267.96,293.96c-2.775-10.624-1.957-20.103,1.33-27.242c-1.171,0.124-2.343,0.226-3.512,0.539 c-13.184,3.527-20.794,17.894-16.208,35.034s20.908,35.336,34.092,31.808c2.859-0.765,5.257-2.626,7.336-5.03 C281.107,322.604,271.613,307.944,267.96,293.96z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M346.665,279.084c1.617-15.944,8.841-27.471,18.253-32.785c-2.764-1.082-5.659-1.861-8.739-2.001 c-16.119-0.733-29.53,12.416-30.042,32.887s11.927,46.214,28.047,46.947c0.557,0.025,1.083-0.202,1.634-0.236 C348.762,312.404,345.121,294.313,346.665,279.084z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M427.641,305.702c13.055-9.714,27.199-12.119,38.868-8.471c-1.398-3.746-3.572-7.186-6.55-10.09 c-11.552-11.266-30.312-10.362-44.306,4.587c-12.197,13.03-19.699,35.587-13.777,48.626 C406.701,327.286,416.444,314.034,427.641,305.702z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#965A50\"\n    },\n    d: \"M479.692,375.598c12.824-2.944,24.153-0.409,32.027,5.603c0.725-5.099-0.186-10.223-2.88-14.773 c-6.953-11.744-22.84-15.195-38.108-6.156c-12.332,7.301-23.068,22.104-23.151,33.738 C455.628,385.415,467.924,378.3,479.692,375.598z\"\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPaws, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/paws.08b61ba8.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\ninterface IProps {\r\n    children: React.ReactNode;\r\n    onClose: () => void,\r\n}\r\n\r\nfunction ImagePreviewModal({ children, onClose }: IProps) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <CloseIcon fontSize=\"large\" className={classes.closeIcon} onClick={onClose}/>  \r\n            <TransformWrapper >\r\n                <TransformComponent>\r\n                    {children}\r\n                </TransformComponent>\r\n            </TransformWrapper>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        position: \"fixed\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        zIndex: 2000,\r\n        background: \"rgba(255, 255, 255, 0.7)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",   \r\n        justifyContent: \"center\",     \r\n        \"& > div\": {\r\n            overflow: \"visible\"\r\n        },\r\n        \"& div\": {\r\n            maxHeight: \"100%\",\r\n            maxWidth: \"100%\",\r\n            justifyContent: \"center\"\r\n        },\r\n        \"& img\": {\r\n            maxHeight: \"90%\",\r\n            maxWidth: \"90%\"\r\n        }\r\n    },\r\n    closeIcon :{\r\n        position: \"fixed\",\r\n        top: \"10px\",\r\n        right: \"10px\",\r\n        zIndex: 1,\r\n        background: \"rgba(255, 255, 255, .3)\",\r\n        borderRadius: \"100%\"\r\n    }\r\n}));\r\n\r\nexport default ImagePreviewModal;","import * as React from \"react\";\r\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\n/* \r\n  Leaflet does not configure marker icons by default when used inside react.\r\n  See https://stackoverflow.com/a/51222271\r\n\r\n*/\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\n\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  shadowUrl: iconShadow,\r\n  iconAnchor: new L.Point(12, 41), // Center the icon at bottom center\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\ninterface IProps {\r\n  lat: number;\r\n  lng: number;\r\n  className: string;\r\n}\r\n\r\nfunction AnimalLocationMap({ lat, lng, className }: IProps) {\r\n  return (\r\n    <Map center={{ lat, lng }} zoom={15} className={className}>\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n      />\r\n      <Marker\r\n        position={{ lat, lng }}\r\n        onclick={() => {\r\n          window.open(\r\n            `http://maps.google.com/maps?q=loc:${lat},${lng}`\r\n          );\r\n        }}\r\n      ></Marker>\r\n    </Map>\r\n  );\r\n}\r\n\r\nexport default AnimalLocationMap;","import React from \"react\";\r\nimport $WhereIsMyPetApiClient from \"../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport { IUser } from \"../Services/WhereIsMyPetApiClient/Controllers/UserController\";\r\nimport { INotification } from \"../Services/WhereIsMyPetApiClient/Controllers/NotificationController\";\r\n\r\ninterface IAuthenticationContextValues {\r\n    userLoading: boolean;\r\n    userInfo: IUser | null;\r\n    loadUserData: () => void;\r\n    logout: () => void;\r\n    notifications: INotification[];\r\n    loadNotifications: () => void;\r\n}\r\n\r\nexport const AuthenticationContext = React.createContext<IAuthenticationContextValues>({\r\n    userInfo: null,\r\n    loadUserData: () => {},\r\n    logout: () => {},\r\n    userLoading: true,\r\n    notifications: [],\r\n    loadNotifications: () => {},\r\n});\r\n\r\nfunction AuthenticationProvider ({children}: {children: React.ReactNode}) {\r\n    const [userLoading, setUserLoading] = React.useState(!!$WhereIsMyPetApiClient.getToken());\r\n    const [userInfo, setUserInfo] = React.useState<IUser | null>(null);\r\n    const [notifications, setNotifications] = React.useState<INotification[]>([]);\r\n\r\n    React.useEffect(() => {\r\n        loadUserData();\r\n        const interval = setInterval(loadNotifications, 15 * 60 * 1000); //15' 60'' 1000 to miliseconds\r\n\r\n        return () => {\r\n            clearInterval(interval);\r\n        }\r\n    }, []);\r\n\r\n    async function loadNotifications() {\r\n        try {\r\n            const newNotifications = await $WhereIsMyPetApiClient.Notifications.GetNotifications();\r\n            if (!newNotifications?.data) {\r\n                return;\r\n            }\r\n            setNotifications(newNotifications.data);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async function loadUserData() {\r\n        setUserLoading(true);\r\n        const [userInfo, notifications] = await Promise.all([\r\n            $WhereIsMyPetApiClient.Users.GetUserInfo(),\r\n            $WhereIsMyPetApiClient.Notifications.GetNotifications(),\r\n        ]);\r\n        setUserInfo(userInfo?.data || null);\r\n        setNotifications(notifications?.data || []);\r\n        setUserLoading(false);\r\n    }\r\n    function logout() {\r\n        $WhereIsMyPetApiClient.clearToken();\r\n        setUserInfo(null);\r\n        setNotifications([]);\r\n    }\r\n    return (\r\n        <AuthenticationContext.Provider \r\n            value={{\r\n                userLoading,\r\n                userInfo,\r\n                loadUserData,\r\n                logout,\r\n                notifications,\r\n                loadNotifications,\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthenticationContext.Provider>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default AuthenticationProvider;\r\n\r\n\r\n","import { useContext } from 'react';\r\nimport { AuthenticationContext } from '../Components/Authentication';\r\n\r\nfunction useAuthentication () {\r\n    return useContext(AuthenticationContext);\r\n}\r\n\r\nexport default useAuthentication;","import React from 'react';\r\nimport $WhereIsMyPetApiClient from '../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { Button, makeStyles } from '@material-ui/core';\r\nimport { TextField } from 'formik-material-ui';\r\n\r\nimport Loader from '../Loader';\r\nimport { Formik, FormikHelpers, Form, useFormikContext, Field, FieldProps } from 'formik';\r\nimport { ISignUpParams } from '../../Services/WhereIsMyPetApiClient/Controllers/UserController';\r\nimport PasswordInput from '../Inputs/PasswordInput';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nconst defaultInitialValues: ISignUpParams = {\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    username: \"\",\r\n    password: \"\"\r\n}\r\ninterface IProps {\r\n    onSuccess: () => void;\r\n}\r\n\r\nfunction SignUpFormContainer(props: IProps) {\r\n    const [submitError, setSubmitError] = React.useState(\"\");\r\n\r\n    async function onSubmit(values: ISignUpParams, { setSubmitting }: FormikHelpers<ISignUpParams>) {\r\n        setSubmitError(\"\");\r\n        try {\r\n            const response = await $WhereIsMyPetApiClient.Users.SignUp(values);\r\n            $WhereIsMyPetApiClient.setToken(response.data.token);\r\n            props.onSuccess();\r\n        } catch (e) {\r\n            setSubmitError(e.response.data);\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n    function validate(values: ISignUpParams) {\r\n        let errors: Partial<ISignUpParams> = {};\r\n        if (!values.name) {\r\n            errors.name = \"You must enter a name\";\r\n        }\r\n        if (!values.surname) {\r\n            errors.surname = \"You must enter a surname\";\r\n        }\r\n        if (!values.email) {\r\n            errors.email = \"You must enter an email\";\r\n        }\r\n        if (!values.phone) {\r\n            errors.phone = \"You must enter a phone number\";\r\n        }\r\n        if (!values.username) {\r\n            errors.username = \"You must enter a username\";\r\n        }\r\n        if (!values.password) {\r\n            errors.password = \"You must enter a password\";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={defaultInitialValues}\r\n            onSubmit={onSubmit}\r\n            validate={validate}\r\n        >\r\n            <SignUpForm submitError={submitError}/>\r\n        </Formik>\r\n    );\r\n}\r\n\r\n\r\nfunction SignUpForm({submitError}: {submitError: string}) {\r\n    const { isSubmitting, isValid,  } = useFormikContext<ISignUpParams>();\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            {Boolean(submitError) && (\r\n                <>\r\n                    <br />\r\n                    <Alert severity=\"error\">{submitError}</Alert>\r\n                </>\r\n            )}\r\n            <p>\r\n                Sign up to upload an animal!\r\n            </p>\r\n            <Form>\r\n                <Field\r\n                    margin=\"normal\"\r\n                    className={classes.input}\r\n                    component={TextField}\r\n                    name=\"name\"\r\n                    // required\r\n                    type=\"text\"\r\n                    label=\"Name\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Field\r\n                    margin=\"normal\"\r\n                    className={classes.input}\r\n                    component={TextField}\r\n                    name=\"surname\"\r\n                    // required\r\n                    type=\"text\"\r\n                    label=\"Surname\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Field\r\n                    margin=\"normal\"\r\n                    className={classes.input}\r\n                    component={TextField}\r\n                    name=\"email\"\r\n                    // required\r\n                    type=\"email\"\r\n                    label=\"Email\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Field\r\n                    margin=\"normal\"\r\n                    className={classes.input}\r\n                    component={TextField}\r\n                    name=\"phone\"\r\n                    // required\r\n                    type=\"tel\"\r\n                    label=\"Phone\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Field\r\n                    margin=\"normal\"\r\n                    className={classes.input}\r\n                    component={TextField}\r\n                    name=\"username\"\r\n                    // required\r\n                    type=\"text\"\r\n                    label=\"Username\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Field name=\"password\">\r\n                    {({ field, form, meta }: FieldProps) => (\r\n                        <PasswordInput\r\n                            {...field}\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            // required\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            error={Boolean(form.errors[\"password\"]) && Boolean(form.touched[\"password\"])}\r\n                            helperText={Boolean(form.touched[\"password\"]) ? form.errors[\"password\"] : \"\"}\r\n                        />\r\n                    )}\r\n                </Field>\r\n                <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    disabled={isSubmitting || !isValid}\r\n                    fullWidth\r\n                >\r\n                    SIGN UP\r\n                </Button>\r\n                {isSubmitting && <Loader />}\r\n            </Form>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        minHeight: \"100vh\",\r\n        background: \"linear-gradient(rgba(167, 102, 10, 1), rgba(255, 136, 0, 1))\",\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    wrapper: {\r\n        padding: \"1em 1.2rem\",\r\n    },\r\n    input: {\r\n        width: \"100%\",\r\n        marginBottom: \"16px\",\r\n        \"& > p\": {\r\n            marginBottom: \"-22px\"\r\n        }\r\n    }\r\n}))\r\n\r\nexport default SignUpFormContainer;","import React, {  } from 'react';\r\nimport $WhereIsMyPetApiClient from '../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { Button, Link as MuiLink, makeStyles } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../Loader';\r\nimport { ISignUpParams } from '../../Services/WhereIsMyPetApiClient/Controllers/UserController';\r\nimport { FormikHelpers, Formik, useFormikContext, Field, FieldProps, Form } from 'formik';\r\nimport PasswordInput from '../Inputs/PasswordInput';\r\nimport { TextField } from 'formik-material-ui';\r\n\r\ninterface IFormValues {\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\nconst initialValues: IFormValues = {\r\n    username: \"\",\r\n    password: \"\",\r\n}\r\n\r\ninterface IProps {\r\n    onSuccess: () => void;\r\n}\r\n\r\nfunction SignInFormContainer(props: IProps) {\r\n    const [submitError, setSubmitError] = React.useState(\"\");\r\n\r\n    async function onSubmit(values: IFormValues, { setSubmitting }: FormikHelpers<IFormValues>) {\r\n        try {\r\n            const response = await $WhereIsMyPetApiClient.Users.SignIn(values.username, values.password);\r\n            $WhereIsMyPetApiClient.setToken(response.data.token);\r\n            props.onSuccess()\r\n        } catch (e) {\r\n            setSubmitError(e.response.data);\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n\r\n    function validate(values: IFormValues) {\r\n        const errors: Partial<IFormValues> = {};\r\n\r\n        if (!values.password) {\r\n            errors.password = \"You must enter a password\";\r\n        }\r\n\r\n        if (!values.username) {\r\n            errors.username = \"You must enter a username or email\";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            onSubmit={onSubmit}\r\n            validate={validate}\r\n            initialValues={initialValues}\r\n        >\r\n            <SignInForm submitError={submitError} onSuccess={props.onSuccess} />\r\n        </Formik>\r\n    )\r\n}\r\n\r\nfunction SignInForm({ submitError, onSuccess }: { submitError: string, onSuccess: () => void }) {\r\n    const { isSubmitting, isValid } = useFormikContext<ISignUpParams>();\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            {submitError && (\r\n                <>\r\n                    <br />\r\n                    <Alert severity=\"error\">{submitError}</Alert>\r\n                </>\r\n            )}\r\n            <p>\r\n                Enter your username and password to sign in:\r\n            </p>\r\n            <Form>\r\n                <Field\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    component={TextField}\r\n                    name=\"username\"\r\n                    label=\"Username or email\"\r\n                    variant=\"outlined\"\r\n                    className={classes.input}\r\n                />\r\n\r\n                <Field name=\"password\"> \r\n                    {({ field, form }: FieldProps) => (\r\n                        <PasswordInput\r\n                            {...field}\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            className={classes.input}\r\n                            error={Boolean(form.errors[\"password\"]) && Boolean(form.touched[\"password\"])}\r\n                            helperText={Boolean(form.touched[\"password\"]) ? form.errors[\"password\"] : \"\"}\r\n                        />\r\n                    )}\r\n                </Field>\r\n\r\n                <Button \r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    disabled={!isValid}\r\n                    fullWidth\r\n                    className={classes.button}\r\n                >\r\n                    SIGN IN\r\n                </Button>\r\n\r\n                <div className={classes.forgotPassword}>\r\n                    <MuiLink component={Link} to=\"/recover-password\" onClick={onSuccess}>\r\n                        Forgot your password? Click here.\r\n                    </MuiLink>\r\n                </div>\r\n            </Form>\r\n            {isSubmitting && <Loader />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    forgotPassword: {\r\n        marginTop: theme.spacing(2),\r\n        textAlign: \"center\"\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    input: {\r\n        marginBottom: \"16px\",\r\n        \"& > p\": {\r\n            marginBottom: \"-22px\"\r\n        }\r\n    }\r\n}))\r\n\r\nexport default SignInFormContainer;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme, Tabs, Tab, Dialog, DialogContent } from \"@material-ui/core\";\r\nimport SignUp from \"./SignUp\";\r\nimport SignIn from \"./SignIn\";\r\n\r\ninterface IProps {\r\n    isOpen: boolean,\r\n    onClose: () => void,\r\n}\r\n\r\nfunction LoginModal(props: IProps) {\r\n    const classes = useStyles();\r\n    const [currentTab, setCurrentTab] = React.useState(0);\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.isOpen}\r\n            onClose={props.onClose}\r\n            scroll=\"body\"\r\n            fullWidth\r\n        >\r\n            <DialogContent>\r\n                <div>\r\n                    <Tabs value={currentTab} variant=\"fullWidth\" indicatorColor=\"primary\">\r\n                        <Tab label=\"Sign In\" onClick={() => setCurrentTab(0)} />\r\n                        <Tab label=\"Sign Up\" onClick={() => setCurrentTab(1)} />\r\n                    </Tabs>\r\n                    <div className={classes.paperContent}>\r\n                        {currentTab === 0 && (\r\n                            <SignIn\r\n                                onSuccess={props.onClose}\r\n                            />\r\n                        )}\r\n                        {currentTab === 1 && (\r\n                            <SignUp\r\n                                onSuccess={props.onClose}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        paper: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            padding: theme.spacing(2, 4, 3),\r\n            borderRadius: theme.shape.borderRadius,\r\n            width: \"100vw\",\r\n            maxHeight: \"90vh\",\r\n            marginTop: \"5vh\",\r\n            maxWidth: 600,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            [theme.breakpoints.up(\"sm\")]: {\r\n                width: \"70vw\"\r\n            },\r\n            [theme.breakpoints.up(\"md\")]: {\r\n                width: \"50vw\"\r\n            }\r\n        },\r\n        paperContent: {\r\n            position: \"relative\",\r\n            overflowY: \"auto\"\r\n        }\r\n    }),\r\n);\r\n\r\nexport default LoginModal;","import React from 'react';\r\nimport { makeStyles, Dialog, DialogContent, FormControlLabel, DialogTitle, DialogActions, Button, Snackbar, FormGroup, FormControl, FormHelperText } from '@material-ui/core';\r\nimport { TextField, Checkbox } from \"formik-material-ui\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { Form, Formik, Field, FormikHelpers, useFormikContext } from 'formik';\r\nimport $WhereIsMyPetApiClient from '../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport Loader from '../Components/Loader';\r\nimport { Alert } from '@material-ui/lab';\r\nimport useAuthentication from '../Hooks/useAuthentication';\r\nimport LoginModal from '../Components/LoginModal/LoginModal';\r\n\r\ninterface IProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    receiverId: number;\r\n}\r\n\r\ninterface IFormValues {\r\n    message: string;\r\n    phone: boolean;\r\n    email: boolean;\r\n}\r\n\r\nconst initialValues: IFormValues = {\r\n    message: \"\",\r\n    phone: false,\r\n    email: true\r\n}\r\n\r\nfunction ContactUserModalContainer(props: IProps) {\r\n    const classes = useStyles();\r\n    const [submitError, setSubmitError] = React.useState(false);\r\n    const [submitSuccess, setSubmitSuccess] = React.useState(false);\r\n    const { userInfo, loadUserData } = useAuthentication();\r\n\r\n    if (!userInfo) {\r\n        return (\r\n            <LoginModal isOpen={props.isOpen && !userInfo} onClose={() => {\r\n                if ($WhereIsMyPetApiClient.getToken()) {\r\n                    loadUserData();\r\n                } else {\r\n                    props.onClose();\r\n                }\r\n            }} />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Snackbar open={submitError} autoHideDuration={6000} onClose={() => setSubmitError(false)}>\r\n                <Alert onClose={() => setSubmitError(false)} severity=\"error\">\r\n                    Could not send your message. Please, try again!\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={submitSuccess} autoHideDuration={6000} onClose={() => setSubmitSuccess(false)}>\r\n                <Alert onClose={() => setSubmitSuccess(false)} severity=\"success\">\r\n                    Your message has been sent!\r\n                </Alert>\r\n            </Snackbar>\r\n            <Dialog\r\n                open={props.isOpen}\r\n                onClose={props.onClose}\r\n                scroll=\"body\"\r\n                fullWidth\r\n            >\r\n                <Formik\r\n                    initialValues={initialValues}\r\n                    onSubmit={async (values: IFormValues, { setSubmitting }: FormikHelpers<IFormValues>) => {\r\n                        try {\r\n                            const response = await $WhereIsMyPetApiClient.Users.ContactUser(props.receiverId, values.message, values.phone, values.email);\r\n                            setSubmitSuccess(true);\r\n                            props.onClose();\r\n                        } catch (e) {\r\n                            setSubmitError(true);\r\n                        } finally {\r\n                            setSubmitting(false);\r\n                        }\r\n                    }}\r\n                >\r\n                    <ContactUserModal />\r\n                </Formik>\r\n            </Dialog>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nfunction ContactUserModal() {\r\n    const { isSubmitting } = useFormikContext<IFormValues>()\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            {isSubmitting && <Loader />}\r\n            <Form>\r\n                <DialogTitle>\r\n                    Contact User\r\n                </DialogTitle>\r\n                <DialogContent>\r\n\r\n                    <div className={classes.paperContent}>\r\n                        <div>\r\n                            Write a message to send to the user:\r\n                                </div>\r\n                        <Field\r\n                            component={TextField}\r\n                            required\r\n                            margin={\"normal\"}\r\n                            type=\"text\"\r\n                            name=\"message\"\r\n                            label=\"Insert the message here\"\r\n                            variant=\"outlined\"\r\n                            rows={10}\r\n                            fullWidth\r\n                            multiline\r\n                        />\r\n\r\n                        <div className={classes.checkboxes}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Field\r\n                                        component={Checkbox}\r\n                                        color=\"primary\"\r\n                                        name=\"phone\"\r\n                                    />\r\n                                }\r\n                                label=\"Include phone\"\r\n                            />\r\n                            <FormControl>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Field\r\n                                            component={Checkbox}\r\n                                            color=\"primary\"\r\n                                            name=\"email\"\r\n                                        />\r\n                                    }\r\n                                    label=\"Include email\"\r\n                                    checked={true}\r\n                                />\r\n                                <FormHelperText variant=\"outlined\">\r\n                                    Email is always included so the user can answer to your message.\r\n                                </FormHelperText>\r\n                            </FormControl>\r\n                        </div>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        endIcon={<SendIcon />}\r\n                    >\r\n                        Send\r\n                    </Button>\r\n                </DialogActions>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    checkboxes: {\r\n        display: \"grid\"\r\n    },\r\n    paperContent: {\r\n        position: \"relative\",\r\n        //overflowY: \"auto\"\r\n    },\r\n}))\r\n\r\nexport default ContactUserModalContainer;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { IAnimal } from '../Services/WhereIsMyPetApiClient/Controllers/AnimalController';\r\nimport { Card, CardActionArea, CardMedia, Chip, CardContent, makeStyles, Button, IconButton, Tooltip } from '@material-ui/core';\r\nimport $WhereIsMyPetApiClient from '../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport moment from 'moment';\r\nimport CalendarToday from '@material-ui/icons/CalendarTodayOutlined';\r\nimport LocationOn from '@material-ui/icons/LocationOnOutlined';\r\nimport Bookmark from '@material-ui/icons/Bookmark';\r\nimport BookmarkBorder from '@material-ui/icons/BookmarkBorder';\r\nimport Pets from '@material-ui/icons/Pets';\r\nimport { ReactComponent as CatIcon } from './Icons/cat.svg';\r\nimport { ReactComponent as DogIcon } from './Icons/dog.svg';\r\nimport { ReactComponent as PawsIcon } from './Icons/paws.svg';\r\nimport ImagePreviewModal from './ImagePreviewModal';\r\nimport AnimalLocationMap from './AnimalLocationMap';\r\nimport useAuthentication from '../Hooks/useAuthentication';\r\nimport ContactUserModalContainer from '../Pages/ContactUserModal';\r\n\r\ninterface IProps extends IAnimal {\r\n    showDetails?: boolean;\r\n    loadAnimal?: () => void;\r\n    setAnimalBookmark?: (animal_id: number, value: boolean) => void;\r\n};\r\n\r\nfunction AnimalCard(props: IProps) {\r\n    const classes = useStyles();\r\n    const [showImagePreviewModal, setShowImagePreviewModal] = React.useState(false);\r\n    const [showContactModal, setShowContactModal] = React.useState(false);\r\n    const { loadUserData, userInfo } = useAuthentication();\r\n\r\n    return (\r\n        <>\r\n            <ContactUserModalContainer\r\n                isOpen={showContactModal}\r\n                onClose={() => setShowContactModal(false)}\r\n                receiverId={props.user_id}\r\n            />\r\n            <Card className={classes.root}>\r\n                {props.species === \"CAT\" && <CatIcon className={classes.animalBadge} />}\r\n                {props.species === \"DOG\" && <DogIcon className={classes.animalBadge} />}\r\n                {props.species === \"OTHER\" && <PawsIcon className={classes.animalBadge} />}\r\n                <CardActionArea>\r\n                    <CardMedia\r\n                        className={classes.media}\r\n                        image={$WhereIsMyPetApiClient.Animals.Image(props.id, props.image_name)}\r\n                        component={Link} to={`/view-animal/${props.id}`}\r\n                        onClick={() => setShowImagePreviewModal(true)}\r\n                    >\r\n                        <div className={classes.chips}>\r\n                            <Chip icon={<Pets />} label={props.status.toLowerCase()} color={props.status === \"LOST\" ? \"secondary\" : \"primary\"} />\r\n                            <Chip icon={<CalendarToday />} label={moment(props.publication_date).local().fromNow()} />\r\n                            <Chip icon={<LocationOn />} label={`${props.location} ${props.distance ? `(${props.distance.toFixed(1)}km)` : \"\"}`} />\r\n                            {props.recovered && <Chip label={\"Recovered\"} />}\r\n                        </div>\r\n                        {(props.setAnimalBookmark && userInfo && userInfo?.id !== props.user_id) && (\r\n                            <>\r\n                                {props.bookmark && (\r\n                                    <Tooltip title=\"Click here to remove the bookmark\" placement=\"top\">\r\n                                        <Bookmark\r\n                                            className={classes.bookmarkButton}\r\n                                            onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n\r\n                                                // @ts-ignore\r\n                                                props.setAnimalBookmark(props.id, false)\r\n                                            }} />\r\n                                    </Tooltip>\r\n                                )}\r\n                                {!props.bookmark && (\r\n                                    <Tooltip title=\"Click here to bookmark this animal\" placement=\"top\">\r\n                                        <BookmarkBorder\r\n                                            className={classes.bookmarkButton}\r\n                                            onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n\r\n                                                // @ts-ignore\r\n                                                props.setAnimalBookmark(props.id, true);\r\n                                            }}\r\n                                        />\r\n                                    </Tooltip>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </CardMedia>\r\n                </CardActionArea>\r\n                {props.showDetails && (\r\n                    <>\r\n                        {showImagePreviewModal &&\r\n                            <ImagePreviewModal onClose={() => setShowImagePreviewModal(false)}>\r\n                                <img src={$WhereIsMyPetApiClient.Animals.Image(props.id, props.image_name)} />\r\n                            </ImagePreviewModal>\r\n                        }\r\n                        <CardContent className={classes.content}>\r\n                            <div>\r\n                                <b className={classes.label}>Publication date:</b>\r\n                                {moment(props.publication_date).local().format(\"DD/MM/YYYY HH:mm\")}\r\n                            </div>\r\n\r\n                            <div className={classes.location}>\r\n                                <AnimalLocationMap\r\n                                    lat={props.lat}\r\n                                    lng={props.lng}\r\n                                    className={classes.map}\r\n                                />\r\n                                <div>\r\n                                    {props.location}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <b className={classes.label}>Species:</b> <span className={classes.value}>{props.species.toLowerCase()}</span>\r\n                            </div>\r\n\r\n                            {props.breed && (\r\n                                <div>\r\n                                    <b className={classes.label}>Breed:</b> <span className={classes.value}>{props.breed.toLowerCase()}</span>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div>\r\n                                <b className={classes.label}>Status:</b> <span className={classes.value}>{props.status.toLowerCase()}</span>\r\n                            </div>\r\n\r\n                            {props.size && (\r\n                                <div>\r\n                                    <b className={classes.label}>Size:</b> <span className={classes.value}>{props.size.toLowerCase()}</span>\r\n                                </div>)\r\n                            }\r\n\r\n                            {props.color && (\r\n                                <div>\r\n                                    <b className={classes.label}>Color:</b> <span className={classes.value}>{props.color.toLowerCase()}</span>\r\n                                </div>)\r\n                            }\r\n\r\n                            {props.age && (\r\n                                <div>\r\n                                    <b className={classes.label}>Age:</b> <span className={classes.value}>{props.age}</span>\r\n                                </div>)\r\n                            }\r\n\r\n                            {props.gender && (\r\n                                <div>\r\n                                    <b className={classes.label}>Gender:</b> <span className={classes.value}>{props.gender.toLowerCase()}</span>\r\n                                </div>)\r\n                            }\r\n\r\n                            {props.name && (\r\n                                <div>\r\n                                    <b className={classes.label}>Name:</b> <span className={classes.value}>{props.name.toLowerCase()}</span>\r\n                                </div>)\r\n                            }\r\n                            <div className={classes.buttonsContainer}>\r\n                                {!props.recovered && userInfo?.id === props.user_id && (\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                        onClick={\r\n                                            async () => {\r\n                                                loadUserData();\r\n                                                await $WhereIsMyPetApiClient.Animals.UpdateAnimal(props.id);\r\n                                                if (props.loadAnimal) {\r\n                                                    props.loadAnimal();\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    >\r\n                                        Mark as recovered\r\n                                    </Button>\r\n                                )}\r\n                                {props.user_id !== userInfo?.id && (\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                        onClick={() => setShowContactModal(true)}\r\n                                    >\r\n                                        Contact User\r\n                                    </Button>\r\n                                )}\r\n                            </div>\r\n                        </CardContent>\r\n                    </>\r\n                )}\r\n            </Card>\r\n        </>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        position: \"relative\",\r\n        overflow: \"visible\",\r\n        width: \"100%\",\r\n        marginTop: \"20px\",\r\n    },\r\n    animalBadge: {\r\n        height: 64,\r\n        width: 64,\r\n        position: \"absolute\",\r\n        zIndex: 1,\r\n        top: -16,\r\n        left: -16,\r\n        transform: \"rotate(-20deg)\"\r\n    },\r\n    media: {\r\n        height: 600,\r\n        maxHeight: \"50vh\",\r\n        transition: \"height 250ms\",\r\n        position: \"relative\",\r\n        cursor: \"pointer\"\r\n    },\r\n    chips: {\r\n        position: \"absolute\",\r\n        bottom: 0,\r\n        left: 0,\r\n        \"& > div\": {\r\n            margin: 5,\r\n        },\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"flex-start\",\r\n        textTransform: \"capitalize\"\r\n    },\r\n    content: {\r\n        display: \"grid\",\r\n        gridRowGap: \"5px\",\r\n        gridTemplateColumns: \"1fr 2fr\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            gridTemplateColumns: \"1fr 1fr\",\r\n        }\r\n    },\r\n    label: {\r\n        display: \"block\"\r\n    },\r\n    value: {\r\n        textTransform: \"capitalize\",\r\n    },\r\n    location: {\r\n        gridRow: \"span 8\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            order: 8,\r\n            gridColumn: \"span 2\",\r\n            borderTop: `1px solid ${theme.palette.divider}`,\r\n            paddingTop: \"10px\",\r\n        }\r\n    },\r\n    locationImage: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        objectFit: \"cover\",\r\n        cursor: \"pointer\"\r\n    },\r\n    map: {\r\n        height: \"100%\",\r\n        minHeight: \"250px\",\r\n    },\r\n    buttonsContainer: {\r\n        gridColumn: \"1/-1\",\r\n    },\r\n    bookmarkButton: {\r\n        position: \"absolute\",\r\n        top: \"-12px\",\r\n        height: \"55px\",\r\n        width: \"55px\",\r\n        right: \"0px\",\r\n        color: theme.palette.primary.main\r\n    }\r\n}));\r\n\r\nexport default AnimalCard;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\r\n\r\nfunction NotFound () {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.notFound}>\r\n            <SentimentVeryDissatisfiedIcon fontSize=\"large\"/>\r\n            <h2>\r\n                Oops! \r\n            </h2>\r\n            <h3>\r\n                There is no animal with these characteristics.\r\n            </h3>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles ({\r\n    notFound : {\r\n        textAlign: \"center\",\r\n        marginTop: \"100px\",\r\n        gridColumn: \"1/-1\",\r\n    }\r\n});\r\n\r\nexport default NotFound;","import * as React from \"react\";\r\nimport AnimalCard from \"../AnimalCard\";\r\nimport { makeStyles, Button } from \"@material-ui/core\";\r\nimport Loader from \"../Loader\";\r\nimport NotFound from \"../../Pages/NotFound\";\r\nimport { IAnimal } from \"../../Services/WhereIsMyPetApiClient/Controllers/AnimalController\";\r\n\r\ninterface IProps {\r\n    animals?: IAnimal[];\r\n    isLoading: boolean;\r\n    hasMore?: boolean;\r\n    getMoreAnimals?: () => void;\r\n    setAnimalBookmark?: (animalId: number, value: boolean) => void;\r\n}\r\n\r\nfunction AnimalList({ animals, isLoading, hasMore = false, getMoreAnimals = () => {}, setAnimalBookmark }: IProps) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.list}>\r\n                {isLoading && <Loader position=\"fixed\" />}\r\n                {!isLoading && !animals?.length && <NotFound />}\r\n                {\r\n                    animals?.map(((animal) => <AnimalCard key={`animal_${animal.id}`} {...animal} setAnimalBookmark={setAnimalBookmark} />))\r\n                }\r\n            </div>\r\n            {\r\n                hasMore && (\r\n                    <div className={classes.viewMoreButton}>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => getMoreAnimals()}>\r\n                            View more\r\n                    </Button>\r\n                    </div>\r\n                )\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        display: \"grid\",\r\n        gridGap: 22,\r\n        width: \"100%\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gridTemplateColumns: \"1fr 1fr\",\r\n        },\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            gridTemplateColumns: \"1fr 1fr 1fr\",\r\n        }\r\n    },\r\n    viewMoreButton: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        margin: \"25px 0 0 0\"\r\n    }\r\n}))\r\n\r\nexport default AnimalList;","import * as React from \"react\";\r\nimport useAnimals, { IAnimalFilters } from \"../../Hooks/useAnimals\";\r\nimport AnimalList from \"./AnimalList\";\r\n\r\ninterface IProps {\r\n    filters?: IAnimalFilters;\r\n    limit?: number;\r\n}\r\n\r\nfunction AnimalListContainer({ filters, limit = 0 }: IProps) {\r\n    const { animals, isLoading, getMoreAnimals, hasMore, setAnimalBookmark } = useAnimals(filters);\r\n\r\n    let items = animals;\r\n\r\n    if (limit) {\r\n        items = items?.slice(0, limit);\r\n    }\r\n\r\n    const limitReached = Boolean(limit && animals && animals.length >= limit);\r\n    return (\r\n        <AnimalList \r\n            animals={animals}\r\n            isLoading={isLoading}\r\n            getMoreAnimals={getMoreAnimals}\r\n            hasMore={hasMore && !limitReached} \r\n            setAnimalBookmark={setAnimalBookmark}\r\n        />\r\n    )\r\n}\r\n\r\nexport default AnimalListContainer;\r\n","import React from 'react';\r\nimport AnimalImageInput from '../Components/UploadAnimalForm/Fields/AnimalImageInput';\r\nimport UploadAnimalFormContainer, { EAnimalStatus, IAnimalFormValues } from '../Components/UploadAnimalForm/UploadAnimalForm';\r\nimport $WhereIsMyPetApiClient from '../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { Button, makeStyles} from '@material-ui/core';\r\nimport AnimalListContainer from '../Components/Animals/AnimalListContainer';\r\nimport useAnimals from '../Hooks/useAnimals';\r\nimport Loader from '../Components/Loader';\r\nimport { getLocation } from '../Services/Geolocation/GeolocationService';\r\nimport useAuthentication from '../Hooks/useAuthentication';\r\nimport LoginModal from '../Components/LoginModal/LoginModal';\r\n\r\nfunction UploadAnimal() {\r\n    const [formInitialValues, setFormInitialValues] = React.useState<Partial<IAnimalFormValues>>();\r\n    const [isSubmitting, setIsSubmitting]= React.useState(false);\r\n    const [showUploadForm, setShowUploadForm] = React.useState(false);\r\n    const {animals, isLoading} = useAnimals(formInitialValues);\r\n    const {userInfo, loadUserData} = useAuthentication();\r\n    const classes = useStyles();\r\n\r\n    async function onChange(image: File) {\r\n        setIsSubmitting(true);\r\n        try {\r\n            const response = await $WhereIsMyPetApiClient.ImageRecognition.UploadAnimalImage(image);\r\n            const currentLocation = await getLocation();\r\n            \r\n            setFormInitialValues({\r\n                ...response.data,\r\n                lat: currentLocation?.coords.latitude,\r\n                lng: currentLocation?.coords.longitude,\r\n                images: image\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }          \r\n    }\r\n    if (!formInitialValues || !animals || isLoading) {\r\n        return (\r\n            <div>\r\n                <h3>\r\n                    Upload/Take a photo of the animal you found:\r\n                </h3>\r\n                <AnimalImageInput\r\n                    onChange={onChange}\r\n                />\r\n                {(isSubmitting || isLoading) && <Loader />}\r\n            </div >\r\n        );\r\n    }\r\n\r\n    if (showUploadForm || (animals?.length === 0 && !isLoading)) {\r\n        return (\r\n            <>  \r\n                <LoginModal \r\n                    isOpen={!userInfo}\r\n                    onClose={() => {\r\n                        if($WhereIsMyPetApiClient.getToken()) {\r\n                            loadUserData();\r\n                        } else {\r\n                            setFormInitialValues(undefined);\r\n                        }\r\n                    }} \r\n                />\r\n                <UploadAnimalFormContainer initialValues={formInitialValues} />\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.anyOfThese}>\r\n                <h3>\r\n                    Is it any of these?\r\n                </h3>\r\n                <Button \r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    onClick={()  => setShowUploadForm(true)}\r\n                >\r\n                    No\r\n                </Button>\r\n            </div>\r\n            <div className={classes.spacer} />\r\n            <AnimalListContainer\r\n                limit={3} \r\n                filters={{\r\n                    breed: formInitialValues.breed,\r\n                    species: formInitialValues.species,\r\n                    lat: formInitialValues.lat,\r\n                    lng: formInitialValues.lng,\r\n                    status: EAnimalStatus.LOST\r\n                }}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spacer: {\r\n        width: \"100%\",\r\n        height: \"56px\"\r\n    },\r\n    anyOfThese: {\r\n        display: \"flex\",\r\n        width: \"100vw\",\r\n        alignItems: \"center\",\r\n        background: theme.palette.background.default,\r\n        boxShadow: theme.shadows[3],\r\n        position: \"fixed\",\r\n        left: 0,\r\n        top: \"56px\",\r\n        placeContent: \"center\",\r\n        zIndex: 2,\r\n        \"& > button\": {\r\n            marginLeft: \"1ch\",\r\n            height: \"2em\"\r\n        }\r\n    }\r\n}));\r\n\r\nexport default UploadAnimal;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\r\n\r\nfunction NotExists () {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.notExists}>\r\n            <SentimentVeryDissatisfiedIcon fontSize=\"large\"/>\r\n            <h2>\r\n                Oops! \r\n            </h2>\r\n            <h3>\r\n                We could not find this animal.\r\n            </h3>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles ({\r\n    notExists : {\r\n        textAlign: \"center\",\r\n        marginTop: \"100px\",\r\n        gridColumn: \"1/-1\",\r\n    }\r\n});\r\n\r\nexport default NotExists;","import React from 'react';\r\nimport $WhereIsMyPetApiClient from '../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient';\r\nimport { IAnimal } from '../Services/WhereIsMyPetApiClient/Controllers/AnimalController';\r\nimport { useParams } from 'react-router-dom';\r\nimport AnimalCard from '../Components/AnimalCard';\r\nimport NotExists from './NotExists';\r\n\r\n\r\nfunction ViewAnimal() {\r\n    const {id} = useParams();\r\n    const [notFound, setNotFound] = React.useState(false);\r\n    const [animal, setAnimal] = React.useState<IAnimal>();\r\n    \r\n    function loadAnimal() {\r\n        if (!id) {\r\n            return;\r\n        }\r\n        $WhereIsMyPetApiClient.Animals.GetAnimalDetails(parseInt(id))\r\n                .then(({ data }) => setAnimal(data))\r\n                .catch(() => setNotFound(true))\r\n    }\r\n\r\n    async function setAnimalBookmark(animalId: number, value: boolean) {\r\n        if (!animal) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (value) {\r\n                await $WhereIsMyPetApiClient.Bookmarks.CreateBookmark(animalId);\r\n            } else {\r\n                await $WhereIsMyPetApiClient.Bookmarks.deleteBookmark(animalId);\r\n            }\r\n\r\n            setAnimal({\r\n                ...animal,\r\n                bookmark: value,\r\n            });\r\n        } catch(e) {\r\n\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        loadAnimal();\r\n    }, [id]); \r\n    \r\n    if(notFound){\r\n        return <NotExists/>;\r\n    }\r\n\r\n    if(!animal) {\r\n        return null;\r\n    }\r\n  \r\n    return (\r\n        <AnimalCard showDetails {...animal} loadAnimal={loadAnimal} setAnimalBookmark={setAnimalBookmark}/>\r\n    )\r\n}\r\n\r\nexport default ViewAnimal;","import React from \"react\";\r\nimport { makeStyles, createStyles, Theme, Select, FormControl, InputLabel } from \"@material-ui/core\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\n\r\ninterface IProps {\r\n    species: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n}\r\n\r\nfunction BreedFilter({species, onChange, value}: IProps){\r\n    const classes = useStyles();\r\n    const [breeds, setBreeds] = React.useState<string[]>([]);\r\n    const inputRef = React.useRef<HTMLInputElement>();    \r\n\r\n    React.useEffect(() => {\r\n        if (!species) {\r\n            return;\r\n        }\r\n        \r\n        $WhereIsMyPetApiClient.Breeds.Get(species)\r\n            .then(({ data }) => setBreeds(data.sort()));            \r\n    }, [species])\r\n\r\n    return (\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <InputLabel htmlFor=\"outlined-age-native-simple\">Breed</InputLabel>\r\n        <Select\r\n            ref={inputRef}\r\n            native\r\n            value={breeds.length ? value : \"\"}\r\n            onChange={(e) => {\r\n                onChange(e.currentTarget.value as string);\r\n            }}\r\n            label=\"Breed\"\r\n            inputProps={{\r\n                name: 'breed',\r\n                id: 'outlined-age-native-simple',\r\n            }}\r\n            disabled={!species}\r\n        >\r\n            <option aria-label=\"None\" value=\"\" />\r\n            {breeds.map((breed) => (\r\n                <option value={breed} key={breed}>{breed}</option>\r\n            ))}\r\n        </Select>\r\n    </FormControl>\r\n    );\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        formControl: {            \r\n            margin: `${theme.spacing(1)}px 0`,\r\n            width: \"100%\"\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }),\r\n);\r\n\r\n\r\nexport default BreedFilter;","import React from \"react\";\r\nimport { makeStyles, createStyles, Theme, Select, FormControl, InputLabel } from \"@material-ui/core\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\n\r\ninterface IProps {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n}\r\n\r\nfunction SpeciesFilter({onChange, value}: IProps){\r\n    const classes = useStyles();\r\n    const [species, setSpecies] = React.useState<string[]>([]);\r\n    const inputRef = React.useRef<HTMLInputElement>();    \r\n\r\n    React.useEffect(() => {        \r\n        $WhereIsMyPetApiClient.Species.Get()\r\n            .then(({ data }) => setSpecies(data.sort()));            \r\n    }, [])\r\n\r\n    return (\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <InputLabel htmlFor=\"outlined-age-native-simple\">Species</InputLabel>\r\n        <Select\r\n            ref={inputRef}\r\n            native\r\n            value={species.length ? value : \"\"}\r\n            onChange={(e) => {\r\n                onChange(e.currentTarget.value as string);\r\n            }}\r\n            label=\"Species\"\r\n            inputProps={{\r\n                name: 'species',\r\n                id: 'outlined-age-native-simple',\r\n            }}\r\n            disabled={!species}\r\n        >\r\n            <option aria-label=\"None\" value=\"\" />\r\n            {species.map((species) => (\r\n                <option key={species} value={species}>{species}</option>\r\n            ))}\r\n        </Select>\r\n    </FormControl>\r\n    );\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        formControl: {\r\n            margin: `${theme.spacing(1)}px 0`,\r\n            width: \"100%\",\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }),\r\n);\r\n\r\n\r\nexport default SpeciesFilter;","import React from \"react\";\r\nimport { Chip, makeStyles } from \"@material-ui/core\";\r\nimport { IAnimalFilters } from \"../../../Hooks/useAnimals\";\r\n\r\n\r\ninterface IProps {\r\n  filters: IAnimalFilters;\r\n  setFilters: (filters: IAnimalFilters) => void;\r\n}\r\n\r\nfunction FilterChips ({filters, setFilters}: IProps) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            {filters.status && <Chip label={filters.status.toLocaleLowerCase()} onDelete={() => setFilters({...filters, status: undefined})} />}\r\n            {filters.species && <Chip label={filters.species.toLocaleLowerCase()} onDelete={() => setFilters({...filters, species: undefined, breed: undefined})} />}\r\n            {filters.breed && <Chip label={filters.breed} onDelete={() => setFilters({...filters, breed: undefined})} /> }\r\n            {filters.location && <Chip label={filters.location} onDelete={() => setFilters({...filters, lat: undefined, lng: undefined, location: undefined})} /> }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        padding: \"10px 0\",\r\n        overflowX: \"auto\",\r\n        textTransform: \"capitalize\",\r\n        \"& > div:not(:first-child)\": {\r\n            marginLeft: \"10px\",\r\n        }\r\n    },\r\n}))\r\n\r\nexport default FilterChips;","import * as React from \"react\";\r\nimport { EAnimalStatus } from \"../../UploadAnimalForm/UploadAnimalForm\";\r\nimport { FormControl, InputLabel, Select, makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\n\r\ninterface IProps {\r\n    value: EAnimalStatus | undefined;\r\n    onChange: (value: EAnimalStatus | undefined) => void;\r\n}\r\n\r\nfunction StatusFilter({value, onChange }: IProps) {\r\n    const classes = useStyles();\r\n    return (\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel htmlFor=\"outlined-age-native-simple\">Status</InputLabel>\r\n            <Select\r\n                native\r\n                value={value || \"\"}\r\n                onChange={(e) => {\r\n                    onChange(e.currentTarget.value as EAnimalStatus);\r\n                }}\r\n                label=\"Status\"\r\n            >\r\n                <option value={\"\"}></option>\r\n                <option aria-label=\"Lost\" value={EAnimalStatus.LOST}>Lost</option>\r\n                <option aria-label=\"Found\" value={EAnimalStatus.FOUND}>Found</option>\r\n\r\n            </Select>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        formControl: {            \r\n            margin: `${theme.spacing(1)}px 0`,\r\n            width: \"100%\"\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }),\r\n);\r\nexport default StatusFilter;","import React from \"react\";\r\nimport LocationInput from \"../../Inputs/LocationInput\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\ninterface IProps {\r\n    value?: {lat: number, lng: number};\r\n    onChange: (lat: number, lng: number, location: string) => void;\r\n}\r\n\r\nfunction LocationFilter({onChange, value}: IProps) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <LocationInput\r\n            value={value}\r\n            autolocate={false}\r\n            inputProps={{\r\n                label: \"Enter your town or postcode\",\r\n                className: classes.input\r\n            }}\r\n            onChange={(lat, lng, location) => {\r\n                if (!lat || !lng) {\r\n                    return;\r\n                }\r\n\r\n                onChange(lat, lng, location);\r\n            }}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    input: {\r\n        width: \"100%\",\r\n    }\r\n}))\r\n\r\nexport default LocationFilter;","import React from \"react\";\r\nimport BreedFilter from \"./BreedFilter\";\r\nimport { IAnimalFilters } from \"../../../Hooks/useAnimals\";\r\nimport SpeciesFilter from \"./SpeciesFilter\";\r\nimport FilterChips from \"./FilterChips\";\r\nimport { Dialog, DialogTitle, Button, Tooltip, Fab, makeStyles, DialogContent, DialogActions } from \"@material-ui/core\";\r\nimport FilterIcon from \"@material-ui/icons/FilterListSharp\";\r\nimport AnimalImageInput from \"../../UploadAnimalForm/Fields/AnimalImageInput\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport StatusFilter from \"./StatusFilter\";\r\nimport LocationFilter from \"./LocationFilter\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport Loader from \"../../Loader\";\r\n\r\ninterface IProps {\r\n    onChange: (filters: IAnimalFilters) => void;\r\n}\r\n\r\nfunction getQueryString(filters: IAnimalFilters) {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters).map(([name, value]) => {\r\n        if (name === \"location\" || !value) return;\r\n        \r\n        params.append(name, value);\r\n    })\r\n    return params.toString();\r\n}\r\n\r\nfunction getDefaultFilters(search: string): IAnimalFilters {\r\n\r\n    //location is the entire URL and search is the part after ?\r\n    const params = new URLSearchParams(search);\r\n\r\n    return {\r\n        status: params.get(\"status\") as any || undefined,\r\n        species: params.get(\"species\") || undefined,\r\n        breed: params.get(\"breed\") || undefined,\r\n        lat: parseFloat(params.get(\"lat\") || \"\") || undefined,\r\n        lng: parseFloat(params.get(\"lng\") || \"\") || undefined,\r\n    }\r\n}\r\n\r\nfunction AnimalFilters ({onChange}: IProps) {\r\n    const location = useLocation();\r\n    const [filters, setFilters] = React.useState<IAnimalFilters>(getDefaultFilters(location.search));\r\n    const [showFilters, setShowFilters] = React.useState(false);\r\n    const [showImageFilter, setShowImageFilter] = React.useState(false);\r\n    const [isLoading, setIsLoading] = React.useState(false)\r\n    const classes = useStyles();\r\n    \r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        onChange(filters || {});\r\n        history.push(`/search?${getQueryString(filters)}`);\r\n    }, [filters]);\r\n\r\n    const onClose = () => setShowFilters(false);\r\n    async function onChangeImage(image: File) {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await $WhereIsMyPetApiClient.ImageRecognition.UploadAnimalImage(image);\r\n            setFilters({status: filters.status, ...response.data});\r\n            onClose();\r\n            setShowImageFilter(false);\r\n        } catch{\r\n\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Filter\" aria-label=\"Filter\">\r\n                <Fab color=\"primary\" className={classes.fab} onClick={() => setShowFilters(true)}>\r\n                    <FilterIcon />\r\n                </Fab>\r\n            </Tooltip>\r\n            <Dialog\r\n                open={showFilters}\r\n                onClose={onClose}\r\n                keepMounted\r\n                scroll=\"body\"\r\n            >\r\n                <DialogTitle>Search Animals</DialogTitle>\r\n                <DialogContent className={classes.dialog}>\r\n                    {isLoading && <Loader />}\r\n                    {showImageFilter && (\r\n                        <AnimalImageInput onChange={onChangeImage}/>\r\n                    )}\r\n                    {!showImageFilter && (\r\n                        <>\r\n                            <StatusFilter\r\n                                value={filters.status}\r\n                                onChange={(status) => setFilters({...filters, status})}\r\n                            />\r\n                            <SpeciesFilter\r\n                                value={filters.species || \"\"}\r\n                                onChange={(species) => setFilters({...filters, species, breed: undefined})}\r\n                            />\r\n                            <BreedFilter\r\n                                species={filters.species || \"\"}\r\n                                onChange={(breed) => setFilters({...filters, breed})}\r\n                                value={filters.breed || \"\"}\r\n                            />\r\n                            <LocationFilter\r\n                                value={(filters.lat && filters.lng) ? {lat: filters.lat, lng: filters.lng} : undefined}\r\n                                onChange={(lat, lng, location) => setFilters({...filters, lat, lng, location})}\r\n                            />\r\n                        </>\r\n                    )}\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {!showImageFilter &&\r\n                        (\r\n                            <Button onClick={() => setShowImageFilter(true)} color=\"primary\" variant=\"outlined\">\r\n                                Search by photo\r\n                            </Button>\r\n                    )}\r\n                    {showImageFilter &&\r\n                        (\r\n                            <Button onClick={() => setShowImageFilter(false)} color=\"primary\" variant=\"outlined\">\r\n                                Search by filters\r\n                            </Button>\r\n                    )}\r\n                    <Button onClick={onClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <FilterChips filters={filters} setFilters={setFilters} />\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    fab: {\r\n        position: \"fixed\",\r\n        bottom: 5,\r\n        right: 5,\r\n        zIndex: 1,\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            bottom: 10,\r\n            right: 10,\r\n        }\r\n    },\r\n    dialog: {\r\n        minWidth: \"80vw\",\r\n        overflowY: \"hidden\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            minWidth: \"410px\",\r\n        }\r\n    }\r\n}))\r\n\r\nexport default AnimalFilters;","import React from 'react';\r\nimport { makeStyles} from '@material-ui/core';\r\n\r\nimport AnimalListContainer from '../Components/Animals/AnimalListContainer';\r\nimport AnimalFilters from '../Components/Animals/AnimalFilters/AnimalFilters';\r\nimport { IAnimalFilters } from '../Hooks/useAnimals';\r\n\r\nfunction ViewAnimals() {\r\n    const [filters, setFilters] = React.useState<IAnimalFilters>();\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <AnimalFilters onChange={(newFilters) => setFilters(newFilters)}/>\r\n            <AnimalListContainer filters={filters}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: \"100%\"\r\n    }\r\n}))\r\n\r\nexport default ViewAnimals;","import React from \"react\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\nimport $WhereIsMyPetApiClient from \"../../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\n\r\ninterface IProps {\r\n    anchor: React.RefObject<HTMLElement>;\r\n    onClose: () => void;\r\n}\r\n\r\nfunction UserMenu(props: IProps) {\r\n    function logOut() {\r\n        $WhereIsMyPetApiClient.clearToken();\r\n        props.onClose();\r\n    }\r\n    return (\r\n        <Menu\r\n            anchorEl={props.anchor.current}\r\n            getContentAnchorEl={null}\r\n            anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"center\"\r\n            }}\r\n            transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"center\"\r\n            }}\r\n            elevation={8}\r\n            open={true}\r\n            onClose={props.onClose}\r\n        >\r\n            <MenuItem onClick={logOut}>Log Out</MenuItem>\r\n        </Menu>\r\n    )\r\n}\r\n\r\nexport default UserMenu;","import React from \"react\";\r\nimport LoginModal from \"../../LoginModal/LoginModal\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport AccountCircleOutlined from \"@material-ui/icons/AccountCircleOutlined\";\r\nimport UserMenu from \"./UserMenu\";\r\nimport useAuthentication from \"../../../Hooks/useAuthentication\";\r\n\r\n\r\nfunction UserInfoButton() {\r\n\r\n    const [modalOpen, setModalOpen] = React.useState(false);\r\n    const menuAnchorRef = React.useRef<HTMLButtonElement>(null);\r\n    const [menuOpen, setMenuOpen] = React.useState(false);\r\n\r\n    const {userInfo, userLoading, loadUserData} = useAuthentication();\r\n\r\n    const showLoginButton = !userInfo && !userLoading;    \r\n    return (\r\n        <>\r\n            {showLoginButton && (\r\n                <Button color=\"inherit\" onClick={() => setModalOpen(true)}>\r\n                    Login\r\n                </Button>\r\n            )}\r\n            {userInfo && (\r\n                <>\r\n                    <Button \r\n                        ref={menuAnchorRef}\r\n                        color=\"inherit\"\r\n                        startIcon={<AccountCircleOutlined />}\r\n                        onClick={() => setMenuOpen(true)}\r\n                    >\r\n                        {userInfo.username}\r\n                    </Button>\r\n                    {menuOpen && (\r\n                        <UserMenu\r\n                            anchor={menuAnchorRef}\r\n                            onClose={() => {\r\n                                setMenuOpen(false);\r\n                                loadUserData();\r\n                            }}\r\n                        />\r\n                    )}\r\n                </>\r\n            )}\r\n            <LoginModal \r\n                isOpen={modalOpen}\r\n                onClose={() => {\r\n                    setModalOpen(false);\r\n                    loadUserData();\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default UserInfoButton;\r\n","import React from 'react';\r\nimport { AppBar, Toolbar, IconButton, Typography, makeStyles, Theme, createStyles, Badge } from '@material-ui/core';\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport UserInfoButton from './UserInfoButton';\r\nimport { Link } from 'react-router-dom';\r\nimport useAuthentication from '../../../Hooks/useAuthentication';\r\n\r\ninterface IProps {\r\n    openSidebar: () => void;\r\n}\r\n\r\nfunction Header({openSidebar}: IProps) {\r\n    const classes = useStyles();\r\n    const {notifications} = useAuthentication();\r\n\r\n    const numUnread = notifications.filter(({read}) => !read).length;\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"fixed\">\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={openSidebar}>\r\n                        <Badge badgeContent={numUnread} color=\"secondary\">\r\n                            <MenuIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title} component={Link} to =\"/\">\r\n                        Where is my pet\r\n                    </Typography>\r\n                    <UserInfoButton />\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2),\r\n        },\r\n        title: {\r\n            flexGrow: 1,\r\n            textDecoration: \"none\",\r\n            color: theme.palette.secondary.contrastText\r\n        },\r\n    }),\r\n);\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Drawer, List, ListItem, ListItemIcon, ListItemText, Divider, makeStyles, ListSubheader, Badge } from \"@material-ui/core\";\r\nimport Settings from \"@material-ui/icons/SettingsOutlined\";\r\nimport Help from \"@material-ui/icons/HelpOutlined\";\r\nimport Home from \"@material-ui/icons/HomeOutlined\";\r\nimport SupervisorAccount from \"@material-ui/icons/SupervisorAccountOutlined\";\r\nimport Email from \"@material-ui/icons/EmailOutlined\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircleOutlined\";\r\nimport Search from \"@material-ui/icons/SearchOutlined\";\r\nimport CloudUpload from \"@material-ui/icons/CloudUploadOutlined\";\r\nimport Exit from \"@material-ui/icons/ExitToAppOutlined\";\r\nimport Input from \"@material-ui/icons/InputOutlined\";\r\nimport Notifications from \"@material-ui/icons/NotificationsOutlined\";\r\nimport useAuthentication from '../../../Hooks/useAuthentication';\r\nimport { Link } from 'react-router-dom';\r\nimport LoginModal from '../../LoginModal/LoginModal';\r\n\r\ninterface IProps {\r\n    isOpen: boolean;\r\n    close: () => void;\r\n}\r\n\r\nfunction Sidebar({close, isOpen}: IProps) {\r\n    const classes = useStyles();\r\n    const [showLoginModal, setShowLoginModal] = React.useState(false);\r\n    const {userInfo, notifications, logout} = useAuthentication();\r\n    \r\n    const numUnread = notifications.filter(({read}) => !read).length;\r\n    return (\r\n        <>\r\n            <LoginModal \r\n                isOpen={showLoginModal}\r\n                onClose={() => setShowLoginModal(false)}\r\n            />\r\n            <Drawer anchor={\"left\"} open={isOpen} onClose={close}>\r\n                <div\r\n                    className= {classes.list}\r\n                    role=\"presentation\"\r\n                    onClick={close}\r\n                >\r\n                    {userInfo && (\r\n                        <List>\r\n                            <SidebarLink to=\"/user/animals\" label=\"My Profile\" Icon={<AccountCircle />} />\r\n                            <SidebarLink to=\"/user/notifications\" label=\"Notifications\" Icon={<Badge badgeContent={numUnread} color=\"primary\"><Notifications /></Badge>} />\r\n                            <SidebarLink label=\"Logout\" Icon={<Exit />} onClick={logout} />\r\n                        </List>\r\n                    )}\r\n                    {!userInfo && (\r\n                        <List>\r\n                            <SidebarLink label=\"Sign up or Sign in\" Icon={<Input />} onClick={() => setShowLoginModal(true)} />\r\n                        </List>\r\n                    )}\r\n                    <Divider />\r\n                    <List>\r\n                        <SidebarLink to=\"/\" label=\"Home\" Icon={<Home />} />\r\n                        <SidebarLink to=\"/upload-animal\" label=\"Upload Animal\" Icon={<CloudUpload />} />\r\n                        <SidebarLink to=\"/search\" label=\"Find Animals\" Icon={<Search />} />\r\n                    </List>\r\n                    {userInfo?.roles.includes(\"Admin\") && (\r\n                        <>\r\n                            <Divider />\r\n                            <List subheader={<ListSubheader>Admin Panel</ListSubheader>}>\r\n                                <SidebarLink to=\"/admin/users\" label=\"Review Users\" Icon={<SupervisorAccount />} />\r\n                            </List>\r\n                        </>\r\n                    )}\r\n                    <Divider />\r\n                    <List>\r\n                        <SidebarLink to=\"\" label=\"Settings\" Icon={<Settings />} disabled/>\r\n                        <SidebarLink to=\"/about\" label=\"About\" Icon={<Help />} />\r\n                        <SidebarLink label=\"Contact\" Icon={<Email />} onClick={() => window.open(\"mailto:whereismypetproject@gmail.com\")} />\r\n                    </List>\r\n                </div>\r\n            </Drawer>\r\n        </>\r\n    )\r\n};\r\n\r\n\r\ninterface ISidebarLinkProps {\r\n    to?: string;\r\n    Icon: React.ReactElement;\r\n    label: string;\r\n    disabled?: boolean;\r\n    onClick?: () => void;\r\n}\r\n\r\nfunction SidebarLink({to, Icon, label, disabled = false, onClick}: ISidebarLinkProps) {\r\n    return  (\r\n        <ListItem \r\n            component={to ? Link : ListItem}\r\n            to={to}\r\n            button \r\n            key={label} \r\n            disabled={disabled}\r\n            onClick={onClick}\r\n        >\r\n            <ListItemIcon>{Icon}</ListItemIcon>\r\n            <ListItemText primary={label} />\r\n        </ListItem>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n        width: 'auto',\r\n    },\r\n});\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport { Container, Grid, makeStyles, Snackbar } from \"@material-ui/core\";\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport useAuthentication from \"../../../Hooks/useAuthentication\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\ninterface IProps {\r\n    children: React.ReactNode;\r\n}\r\nfunction MainLayout({children}: IProps) {\r\n    const classes = useStyles();\r\n    const [sidebarOpen, setSidebarOpen] = React.useState<boolean>(false);\r\n    const [showBannedMessage, setShowBannedMessage] = React.useState(true);\r\n    const {userInfo} = useAuthentication();\r\n    return (\r\n        <>\r\n            <Header \r\n                openSidebar={() => setSidebarOpen(true)}\r\n            />\r\n            <Container>\r\n                <Grid container justify=\"center\" className={classes.container}>\r\n                    {children}\r\n                </Grid>\r\n            </Container>\r\n            <Sidebar \r\n                isOpen={sidebarOpen}\r\n                close={() => setSidebarOpen(false)}\r\n            />\r\n            <Snackbar open={showBannedMessage &&  Boolean(userInfo && userInfo.status !== \"Trusted\")} anchorOrigin={{horizontal: \"center\", vertical: \"bottom\"}}>\r\n                <Alert severity=\"warning\" onClose={() => setShowBannedMessage(false)}>\r\n                    {`Your account has been marked as ${userInfo?.status}. Some features may not work as expected.`}\r\n                </Alert>\r\n            </Snackbar>\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        paddingTop: 60,\r\n        minHeight: \"80vh\",\r\n        marginBottom: \"60px\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            paddingTop: 70\r\n        }\r\n    }\r\n}))\r\n\r\nexport default MainLayout;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Landing() {\r\nconst classes = useStyles();\r\n\r\n    return (\r\n        <div className = {classes.container} >\r\n            <Link\r\n                to={\"/search?status=FOUND\"}\r\n                className={`${classes.button} ${classes.lost}`}\r\n            >\r\n                I lost an animal\r\n            </Link>\r\n\r\n            <Link\r\n                to={\"/upload-animal\"}\r\n                className={`${classes.button} ${classes.found}`}\r\n            >\r\n                I found an animal\r\n            </Link>\r\n        </div>\r\n    )\r\n};\r\nconst useStyles = makeStyles((theme) => ({\r\n    button: {\r\n        display: \"flex\",\r\n        textDecoration: \"none\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"150px\",\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: theme.typography.h5.fontSize,\r\n        borderRadius: theme.shape.borderRadius,\r\n        cursor: \"pointer\",\r\n        transition: \"transform 250ms ease\",\r\n        \"&:hover\": {\r\n            transform: \"scale(1.1)\",\r\n        },\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            height: \"250px\",\r\n        }\r\n    },\r\n    lost: {\r\n       background: theme.palette.primary.main,\r\n       color: theme.palette.primary.contrastText,\r\n    },\r\n    found :{\r\n       background: theme.palette.secondary.main,\r\n       color: theme.palette.secondary.contrastText,\r\n    },\r\n    container: {\r\n        minHeight: \"100%\",\r\n        display: \"grid\",\r\n        placeContent: \"center\",\r\n        gridTemplateColumns: \"repeat(1, 250px)\",\r\n        gap: \"50px\",\r\n        width: \"100%\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            gap: \"100px\",\r\n            gridTemplateColumns: \"repeat(2, 250px)\",\r\n\r\n        }\r\n    }\r\n}))\r\n\r\nexport default Landing;","import React from \"react\";\r\nimport $WhereIsMyPetApiClient from \"../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport { IUser } from \"../../Services/WhereIsMyPetApiClient/Controllers/UserController\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nfunction AdminUsersPage() {\r\n    const [users, setUsers] = React.useState<IUser[]>();\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n    const [toastMessage, setToastMessage] = React.useState(\"\");\r\n\r\n    async function loadUsers() {\r\n        try {\r\n            setIsLoading(true);\r\n            const { data } = await $WhereIsMyPetApiClient.Users.GetUsersByStatus([\"Suspicious\"]);\r\n            setUsers(data);\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n        loadUsers();\r\n    }, []);\r\n\r\n    async function changeUserStatus(userId: number, status: string, user: IUser) {\r\n        try {\r\n            setIsLoading(true);\r\n            await $WhereIsMyPetApiClient.Users.UpdateUser(userId, { status });\r\n            await loadUsers();\r\n            setToastMessage(`User ${user.username} is now ${status}`);\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ width: \"100%\" }}>\r\n            <Snackbar \r\n                open={toastMessage !== \"\"}\r\n                autoHideDuration={3000}\r\n                onClose={() => setToastMessage(\"\")}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n            >\r\n                <Alert onClose={() => setToastMessage(\"\")} severity=\"success\">\r\n                    {toastMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n            <MaterialTable\r\n                isLoading={isLoading}\r\n                columns={[\r\n                    { title: 'Username', field: 'username' },\r\n                    { title: 'Status', field: 'status' }\r\n                ]}\r\n                actions={[\r\n                    {\r\n                        icon: 'sentiment_satisfied_alt',\r\n                        tooltip: 'Mark user as Trusted',\r\n                        onClick: (e, row) => {\r\n                            // @ts-ignore\r\n                            changeUserStatus(row.id, \"Trusted\", row)\r\n                        }\r\n                    },\r\n                    {\r\n                        icon: 'sentiment_very_dissatisfied',\r\n                        tooltip: 'Mark user as Banned',\r\n                        onClick: async (e, row) => {\r\n                            // @ts-ignore\r\n                            changeUserStatus(row.id, \"Banned\", row)\r\n                        }\r\n                    }\r\n                ]}\r\n                localization={{\r\n                    header: {\r\n                        actions: 'Mark user status'\r\n                    }\r\n                }}\r\n                data={users || []}\r\n                title=\"Users\"\r\n                options={{\r\n                    draggable: false,\r\n                    sorting: false,\r\n                    paging: false,\r\n                    search: false,\r\n                    actionsColumnIndex: -1\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AdminUsersPage;","import React from \"react\";\r\nimport useAuthentication from \"../../Hooks/useAuthentication\";\r\nimport Loader from \"../../Components/Loader\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport AdminUsersPage from \"./AdminUsersPage\";\r\n\r\nfunction AdminPages() {\r\n    const {userInfo, userLoading} = useAuthentication();\r\n\r\n    if (userLoading) {\r\n        return (\r\n            <Loader />\r\n        );\r\n    }\r\n\r\n    if (!userInfo?.roles.includes(\"Admin\")) {\r\n        return (\r\n            <Redirect to=\"/\" />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/admin/users\">\r\n              <AdminUsersPage />\r\n            </Route>\r\n            <Redirect to=\"/\" />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AdminPages;\r\n","import React from \"react\";\r\nimport { List, ListItem, ListItemSecondaryAction, IconButton, ListItemText, makeStyles, ListItemIcon } from \"@material-ui/core\";\r\nimport useAuthentication from \"../../Hooks/useAuthentication\";\r\nimport OpenIcon from \"@material-ui/icons/OpenInBrowser\";\r\nimport NewIcon from \"@material-ui/icons/FiberNew\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport $WhereIsMyPetApiClient from \"../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\n\r\nfunction NotificationsPage() {\r\n    const { notifications, loadNotifications } = useAuthentication();\r\n    const classes = useStyles();\r\n\r\n    React.useEffect(() => {\r\n        const timer = setTimeout(async () => {\r\n            const notificationsToUpdate = notifications.filter(n => !n.read);\r\n\r\n            if (!notificationsToUpdate.length) {\r\n                return;\r\n            }\r\n\r\n            await Promise.all(notificationsToUpdate.map(n => $WhereIsMyPetApiClient.Notifications.UpdateNotification(n.id)));\r\n\r\n            loadNotifications();\r\n        }, 5000);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        }\r\n    }, [notifications]);\r\n\r\n    if (notifications.length === 0) {\r\n        return (\r\n            <div className={classes.notFound}>\r\n                <h3>\r\n                    Notifications about your activity will be displayed here.\r\n                </h3>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <List className={classes.list}>\r\n            {notifications.map((n) => {\r\n                const linkProps: any = Boolean(n.link)\r\n                    ? {\r\n                        component: Link,\r\n                        to: n.link,\r\n                        onClick: async () => {\r\n                            await $WhereIsMyPetApiClient.Notifications.UpdateNotification(n.id);\r\n                            loadNotifications();\r\n                        }\r\n                    }\r\n                    : {};\r\n                return (\r\n                    <ListItem key={n.id} className={n.read ? classes.read : classes.unread} {...linkProps}>\r\n                        <ListItemIcon>\r\n                            <NewIcon className={n.read ? classes.hidden : \"\"} color=\"primary\" fontSize=\"large\" />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={n.message} secondary={moment(n.publication_date).local().fromNow()} />\r\n                        <ListItemSecondaryAction>\r\n                            {n.link && (\r\n                                <IconButton edge=\"end\" aria-label=\"comments\">\r\n                                    <OpenIcon />\r\n                                </IconButton>\r\n                            )}\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                );\r\n            })}\r\n        </List>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    list: {\r\n        flexGrow: 1,\r\n        \"& > li\": {\r\n            border: \"1px solid #ccc\",\r\n            marginBottom: \"5px\",\r\n            borderRadius: theme.shape.borderRadius,\r\n            cursor: \"pointer\",\r\n            \"&:hover\": {\r\n                background: theme.palette.grey[200],\r\n            }\r\n        }\r\n    },\r\n    hidden: {\r\n        display: \"none\"\r\n    },\r\n    read: {\r\n        background: theme.palette.grey[200],\r\n        color: theme.palette.text.primary\r\n    },\r\n    unread: {\r\n        color: theme.palette.text.primary\r\n    },\r\n    notFound: {\r\n        textAlign: \"center\",\r\n        marginTop: \"100px\",\r\n        gridColumn: \"1/-1\",\r\n    }\r\n}));\r\n\r\nexport default NotificationsPage;\r\n","import React from \"react\";\r\nimport AnimalList from \"../../Components/Animals/AnimalList\";\r\nimport $WhereIsMyPetApiClient from \"../../Services/WhereIsMyPetApiClient/WhereIsMyPetApiClient\";\r\nimport { IAnimal } from \"../../Services/WhereIsMyPetApiClient/Controllers/AnimalController\";\r\nimport { Grid, makeStyles, Button, Tabs, Tab } from \"@material-ui/core\";\r\nimport AddPhotoIcon from \"@material-ui/icons/AddAPhotoOutlined\";\r\nimport SearchIcon from \"@material-ui/icons/SearchOutlined\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction UserAnimals() {\r\n    const [currentTab, setCurrentTab] = React.useState(0);\r\n    const [animals, setAnimals] = React.useState<IAnimal[]>();\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n    const classes = useStyles();\r\n\r\n    React.useEffect(() => {\r\n        setIsLoading(true);\r\n        setAnimals([]);\r\n\r\n        const getAnimalsPromise = currentTab === 0\r\n            ? $WhereIsMyPetApiClient.Animals.GetAnimalsByUserId()\r\n            : $WhereIsMyPetApiClient.Bookmarks.GetAnimalsByUserId();\r\n\r\n        getAnimalsPromise\r\n            .then((response) => {\r\n                setAnimals(response.data);\r\n            })\r\n            .catch(\r\n                e => console.error(e)\r\n            )\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n    }, [currentTab]);\r\n\r\n    async function setAnimalBookmark(animalId: number, value: boolean) {\r\n        if (!animals) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await $WhereIsMyPetApiClient.Bookmarks.deleteBookmark(animalId);\r\n\r\n            setAnimals(animals.filter(a => a.id !== animalId));\r\n        } catch(e) {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid item xs={12}>\r\n             <Tabs value={currentTab} variant=\"fullWidth\" indicatorColor=\"primary\">\r\n                <Tab label=\"Your animals\" onClick={() => setCurrentTab(0)} />\r\n                <Tab label=\"Your Bookmarks\" onClick={() => setCurrentTab(1)} />\r\n            </Tabs>\r\n            {currentTab === 0 && (\r\n                <>    \r\n                    {Boolean(isLoading || animals?.length) && (\r\n                        <AnimalList\r\n                            isLoading={isLoading}\r\n                            animals={animals}\r\n                        />\r\n                    )}\r\n                    {!isLoading && !animals?.length && (\r\n                        <div className={classes.notFound}>\r\n                            <h3>\r\n                                Looks like you don't have animals yet!\r\n                            </h3>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<AddPhotoIcon />}\r\n                                component={Link}\r\n                                to=\"/upload-animal\"\r\n                            >\r\n                                Upload an animal\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n            {currentTab === 1 && (\r\n                <>\r\n                    {Boolean(isLoading || animals?.length) && (\r\n                        <AnimalList\r\n                            isLoading={isLoading}\r\n                            animals={animals}\r\n                            setAnimalBookmark={setAnimalBookmark}\r\n                        />\r\n                    )}\r\n                    {!isLoading && !animals?.length && (\r\n                        <div className={classes.notFound}>\r\n                            <h3>\r\n                                Looks like you don't have any bookmark yet!\r\n                            </h3>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon />}\r\n                                component={Link}\r\n                                to=\"/search\"\r\n                            >\r\n                                Search Animals\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </Grid>\r\n    )\r\n\r\n\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    notFound: {\r\n        textAlign: \"center\",\r\n        marginTop: \"100px\",\r\n        gridColumn: \"1/-1\",\r\n    }\r\n}));\r\n\r\nexport default UserAnimals;","import React from \"react\";\r\nimport useAuthentication from \"../../Hooks/useAuthentication\";\r\nimport Loader from \"../../Components/Loader\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport NotificationsPage from \"./Notifications\";\r\nimport UserAnimals from \"./UserAnimals\";\r\n\r\nfunction UserPages() {\r\n    const {userInfo, userLoading} = useAuthentication();\r\n\r\n    if (userLoading) {\r\n        return (\r\n            <Loader />\r\n        );\r\n    }\r\n\r\n    if (!userInfo) {\r\n        return (\r\n            <Redirect to=\"/\" />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/user/notifications\">\r\n              <NotificationsPage />\r\n            </Route>\r\n            <Route path=\"/user/animals\">\r\n              <UserAnimals />\r\n            </Route>\r\n            <Redirect to=\"/\" />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default UserPages;\r\n","import { Grid, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\n//@ts-ignore\r\nimport aboutImage from \"../Images/about.JPG\";\r\n\r\nfunction About () {\r\n    const classes = useStyles();\r\n\r\n    React.useEffect(() => {\r\n        const body = document.body;\r\n        body.classList.add(classes.body);\r\n\r\n        return () => {\r\n            body.classList.remove(classes.body);\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Grid item xs={12} className={classes.about}>\r\n                <div className={classes.textWrapper}>\r\n\r\n                    <h2>\r\n                        About\r\n                    </h2>\r\n                    <p>\r\n                        This website has been developed as a final thesis for the Telecommunications Technologies and Services Engineering degree.\r\n                    </p>\r\n\r\n                </div>\r\n                <div className={classes.iconsLink}>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n            </Grid>\r\n        </>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles ((theme) => ({\r\n    body: {\r\n        backgroundImage: `url(\"${aboutImage}\")`,\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        height: \"100vh\",        \r\n    },\r\n    about : {\r\n        textAlign: \"center\",\r\n        minHeight: \"80vh\",\r\n    },\r\n    textWrapper: {\r\n        background: \"rgba(255, 255, 255, 0.5)\",\r\n        borderRadius: \"5px\",\r\n        marginTop: \"320px\",\r\n        maxWidth: \"600px\",\r\n        margin: \"0 auto\",\r\n        ...theme.typography.body1\r\n    },\r\n    iconsLink: {\r\n        ...theme.typography.caption,\r\n        position: \"absolute\",\r\n        bottom: 15,\r\n        left: 0,\r\n        width: \"100%\",\r\n        textAlign: \"center\"\r\n    }\r\n}));\r\n\r\nexport default About;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport { Switch, Route, HashRouter as Router, Redirect } from 'react-router-dom';\r\nimport RecoverPassword from './Pages/RecoverPassword';\r\nimport UploadAnimal from './Pages/UploadAnimal';\r\nimport ViewAnimal from './Pages/ViewAnimal';\r\nimport ViewAnimals from './Pages/ViewAnimals';\r\nimport MainLayout from './Components/Layouts/MainLayout/MainLayout';\r\nimport AuthenticationProvider from './Components/Authentication';\r\nimport Landing from './Pages/Landing';\r\nimport AdminPages from './Pages/Admin';\r\nimport UserPages from './Pages/User';\r\nimport About from './Pages/About';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CssBaseline />\r\n    <Router>\r\n      <AuthenticationProvider>\r\n        <MainLayout>\r\n          <Switch>\r\n            <Route path=\"/recover-password\">\r\n              <RecoverPassword />\r\n            </Route>\r\n            <Route path=\"/upload-animal\">\r\n              <UploadAnimal />\r\n            </Route>\r\n            <Route path=\"/view-animal/:id\">\r\n              <ViewAnimal />\r\n            </Route>\r\n            <Route path=\"/search\">\r\n              <ViewAnimals />\r\n            </Route>\r\n            <Route path=\"/admin\">\r\n              <AdminPages />\r\n            </Route>\r\n            <Route path=\"/user\">\r\n              <UserPages />\r\n            </Route>\r\n            <Route path=\"/about\">\r\n              <About />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Landing />\r\n            </Route>\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </MainLayout>\r\n      </AuthenticationProvider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}